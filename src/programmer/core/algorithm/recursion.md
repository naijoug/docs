---
title: Recursion - â€œé€’å½’â€
icon: hashtag

index: true

---

<!-- more -->

  
## é€’å½’çš„æœ¬è´¨ 
  
  ä¸­æ–‡åâ€œé€’å½’â€è¿™ä¸¤ä¸ªå­—å¾ˆå¥½çš„è¯ é‡Šäº†å…¶æ ¸å¿ƒæ“ä½œâ€œé€’ + å½’â€ã€‚
  
  é€’çš„è¿‡ç¨‹å°±æ˜¯ä¸€å±‚ä¸€å±‚åœ°è°ƒç”¨é€’å½’å‡½æ•°ï¼Œå½’çš„è¿‡ç¨‹å°±æ˜¯è§¦å‘åˆ°è¾¹ç•Œæ¡ä»¶ä¹‹åè¿›è¡Œæ¯ä¸€å±‚çš„é€’å½’å‡½æ•°è¿”å›ï¼Œè¿™ä¸€å»ä¸€æ¥çš„è¿‡ç¨‹å°±æ˜¯é€’å½’ã€‚
  
  é€’å½’çš„æœ¬è´¨æ˜¯å€ŸåŠ©äºç³»ç»Ÿçš„å†…å­˜ç®¡ç†ç³»ç»Ÿæä¾›çš„æ ˆå®ç°ï¼Œé€’çš„è¿‡ç¨‹ä¸­ä¼šå°†è¯¥å±‚å‡½æ•°è°ƒç”¨çš„ä¸´æ—¶å˜é‡è¿›è¡Œå…¥æ ˆæ“ä½œï¼Œå½’çš„è¿‡ç¨‹ä¼šå°†ä¿å­˜çš„ä¸´æ—¶å˜é‡è¿›è¡Œå‡ºæ ˆæ“ä½œï¼Œå¹¶è¿›è¡Œæ”¹å±‚å‡½æ•°æœ€ç»ˆç»“æœè®¡ç®—è¿”å›ã€‚
  
## é€’å½’é—®é¢˜

> é€’å½’æ±‚è§£çš„ä¸‰è¦ç´ 
 
  * æ±‚è§£é—®é¢˜å¯ä»¥åˆ†è§£é—®å­é—®é¢˜
  * æ±‚è§£é—®é¢˜ä¸å­é—®é¢˜å…·æœ‰ç›¸åŒçš„æ±‚è§£æ€è·¯
  * å­˜åœ¨é€’å½’ç»ˆæ­¢æ¡ä»¶
  
> é€’å½’çš„å¼Šç«¯

  * é€’å½’å±‚æ•°è¾ƒæ·±ï¼Œä¼šç…§æˆå †æ ˆæº¢å‡º
  * é€’å½’è¿‡ç¨‹ä¸­ä¼šå­˜åœ¨é‡å¤è®¡ç®—
  * ç©ºé—´å¤æ‚åº¦é«˜ï¼Œå‡½æ•°è°ƒç”¨è€—æ—¶
  
> å°¾é€’å½’

  å°¾é€’å½’æ˜¯åœ¨è¿›è¡Œé€’å½’ä»£ç ç¼–å†™æ—¶ï¼Œå°†é€’å½’çš„è°ƒç”¨æ“ä½œä½œä¸ºå‡½æ•°çš„æœ€åä¸€ä¸ªæ“ä½œç›´æ¥ã€‚ è¿™ä¸ªæ—¶å€™ä¾èµ–ç¼–è¯‘å™¨çš„â€œå°¾è°ƒç”¨ä¼˜åŒ–â€(Tail Call Optimization) ä¼šå°†é€’å½’ä»£ç ä¼˜åŒ–ä¸ºè¿­ä»£ä»£ç ã€‚ç¼–è¯‘çš„ä¼˜åŒ–çš„å…³é”®åœ¨äºå‡½æ•°çš„æœ€åä¸€æ­¥å°±æ˜¯é€’å½’è°ƒç”¨ï¼Œè¿™ä¸ªæ—¶å€™å°±ä¸éœ€è¦æ–°å¼€è¾Ÿæ ˆï¼Œç›´æ¥å°†æ§åˆ¶å™¨å’Œè°ƒç”¨äº¤ä¸ªè°ƒç”¨å‡½æ•°ã€‚
  
  å°¾é€’å½’çš„ä¼˜åŒ–æ˜¯ç¼–è¯‘å™¨çš„ç‰¹æ€§ï¼Œå¦‚æœç¼–ç¨‹è¯­è¨€çš„ç¼–è¯‘å™¨ä¸æ”¯æŒâ€œå°¾è°ƒç”¨ä¼˜åŒ–â€ï¼Œé‚£ä¹ˆå°¾é€’å½’å†™æ³•å’Œå¸¸è§„é€’å½’ä¹Ÿå°±æ²¡æœ‰åŒºåˆ«äº†ã€‚

  å°¾é€’å½’çš„å†™æ³•å…¶å®æ˜¯ä¸€ç§è‡ªåº•å‘ä¸Šçš„ä¸€ç§å†™æ³•ï¼Œä½¿ç”¨çš„è¿­ä»£çš„æ€ç»´ï¼Œéœ€è¦å°†å­é—®é¢˜çš„æ±‚è§£ç»“æœï¼Œä»è¾¹ç•Œæƒ…å†µä¸€ç›´å‘ä¸Šä¼ é€’ã€‚ä»ä»£ç ç†è§£æˆé¢æ¥è®²ï¼Œå¦‚æœæƒ³è¦ä½¿ç”¨å°¾é€’å½’ä¼˜åŒ–ï¼Œè¿˜ä¸å¦‚ç›´æ¥å°†é€’å½’ä»£ç è½¬åŒ–ä¸ºè¿­ä»£ä»£ç æ¸…æ™°ã€‚å¹¶ä¸”å°¾é€’å½’çš„ä¼˜åŒ–ä¾èµ–ç¼–ç¨‹è¯­è¨€çš„ç¼–è¯‘å™¨ï¼Œå¹¶ä¸ä¸€å®šæ˜¯ç™¾åˆ†ç™¾æœ‰æ•ˆã€‚

::: details ğŸ’¡

  ```swift
  // æ–æ³¢çº³å¥‘ : 0,1,1,2,3,5,8
  //  f(n) = f(n-1) + fn(n-2)
  func fib(_ n: Int) -> Int {
      guard n > 1 else { return n }
      return f(n - 1) + f(n - 2)
  }
  // å°¾é€’å½’ä¼˜åŒ–
  func fibTail(_ n: Int, current: Int = 0, next: Int = 1) -> Int {
      guard n != 0 else { return current }
      return fibTail(n - 1, current: next, next: current + next)
  }
  // è¿­ä»£
  func fibTraverse(_ n: Int) -> Int {
      guard n > 1 else { return n }
      var pre = 0
      var current = 1
      for _ in 2...n {
           let next = pre + current
           pre = current
           current = next
      }
      return current
  }
  ```

:::

