---
title: 架构设计
icon: hashtag

index: true

---

<!-- more -->

## 组件化

### 组件化设计思路？

  组件化：有时也称为“模块化”。将一个大的业务功能，按照不同的功能模块进行拆分。

  拆分原则：类似 `SOLID` 原则。
    * 单一职责原则 : 拆分的功能模块应该尽量做到功能单一。
    * 接口隔离原则 : 功能模块尽量做到对外暴露接口的最小化。

  分层原则：网上有一个借用经典四象限法则来划分(以 **业务相关**、**`UI` 相关** 作为两个轴线，来进行组件化分层)
    * 业务功能层 : 业务有关 & `UI` 有关。用户看到的主要功能页面。
    * 业务逻辑层 : 业务有关 & `UI` 无关。在用户使用业务功能时，背后的处理逻辑。
    * `UI` 层 : 业务无关 & `UI` 有关。通用的 `UI` 页面，不关联具体的业务逻辑。
    * 基础层 : 业务无关 & `UI` 无关。通用的基础功能。

  单向依赖原则：组件之间的依赖关系，应该做到上层依赖下层，下层不要依赖上层。

### 下层组件需要调用上层组件怎样处理？

  方案一：依赖注入方式。下层组件定义好钩子函数，注册时，将上层组件注入下层组件定义好的钩子函数。
  
  方案二：间接访问。通过底层的路由组件，将上层组件注册到路由表中，这样下层组件就可以通过路由间接访问到上层组件。