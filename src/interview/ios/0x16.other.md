---
title: 其它知识点
icon: hashtag

index: true

---

<!-- more -->

------

## 综合性问题

### ❓`iOS` 设备获取唯一设备号的历史变迁

::: details 💡

  - `UDID`（Unique Device Identifier）：在`iOS 5`之前，可以直接使用 `[UIDevice currentDevice].uniqueIdentifier` 来获取设备的 `UDID`，它是一个40位的十六进制序列，由设备的各种硬件信息生成，每台设备唯一。然而，由于隐私问题，`Apple` 在 `iOS 5` 及以后的版本中废弃了这个 `API`。

  - `MAC` 地址：因为 `UDID` 被废弃，部分开发者开始使用设备的 `Wi-Fi chip` 的 `MAC` 地址作为替代。然而在 `iOS 7` 以后，`Apple` 也禁止了获取 `MAC` 地址，所有尝试获取的行为都会返回固定的"02:00:00:00:00:00"。

  - `UUID`（Universally Unique Identifier）：`UUID` 是每次生成都不同的一串字符。在 `UDID` 和 `MAC` 地址都不能使用后，部分开发者开始产生一个 `UUID` 并将其存储在应用的 `KeyChain` 中，这样就可以保证同一台设备上不同的安装过程中获取的 `UUID` 相同。但是，如果应用被彻底删除后或者设备被重置后，之前的 `UUID` 将无法再被获取到。

  - `IDFA`（Identifier for Advertisers）：在 `iOS 6` 及以后的版本中，`Apple` 引入了广告标识符 `IDFA`，主要用于广告商跟踪和标识用户。用户可以在设置中重置自己的 `IDFA`，或者完全关闭这个功能。

  - `IDFV`（Identifier for Vendor）：在 `iOS 6` 及以后的版本中，`Apple` 也引入了 `IDFV`，这是一个针对同一开发者（`Vendor`）下的所有应用都相同的标识符。只有当用户将该厂商的所有应用全部删除后，这个标识符才会被重置。

  总结：为了保护用户隐私，`Apple` 不断的改变标识设备的方式，开发者必须适应这些变化并尊重用户的隐私。

:::

### ❓沙盒目录的每个文件夹划分的作用

::: details 💡

 > 沙盒(Sandbox)，每个应用都有一个自己的沙盒目录，其他应用应用或者外部环境无法访问该应用的沙盒。这是 `iOS` 保证用户数据隐私和安全的机制之一。在应用的沙盒内，又划分了一些目录文件夹，不同的目录有着不同的作用：

  - `Documents`：用来存储用户创建或应用程序运行需要持久化的数据。`iTunes` 同步设备时会备份该目录内容。

  - `tmp`：用于存放临时文件，当应用退出后，这个目录下的文件会被删除。所以有些临时产生的文件，如缓存的图片或者下载的临时的文件可以放在这里。

  - `Library`：Library目录下有两个子目录，`Caches` 和 `Preferences`。其中 `Caches` 目录主要存放缓存文件，`Preferences` 目录主要存放应用的配置信息，这些数据在设备的设置应用中设置。此外，`Library` 还可以存放应用的其他一些持久性的文件。

  - `Library/Caches`：保存应用程序使用时产生的需要持久化的数据，`iTunes` 不会备份该目录，此目录下文件不会在应用退出后删除。

:::

### ❓苹果使用证书的目的是什么

::: details 💡

苹果使用证书的主要目的：为了保护开发者和用户的安全，以及确保应用的完整性和权威性。

  - **身份验证：** 给开发者提供了一种手段以证明自己的身份。证书包含了开发者的信息，因此可以被用于表示开发者的身份。

  - **数据加密：** 证书包含了公钥，可以用于加密信息以保证数据的安全传输。

  - **代码签名：** 开发者可以使用私钥来签名应用，用户可以使用开发者公钥来验证签名，确保应用没有被篡改并且确实来自预期的开发者。

  - **权限申请：** 通过证书，开发者可以申请使用一些特定的功能，如推送通知、使用苹果支付等。

  - **应用分发：** 在将应用提交给 `App Store` 审核或企业内部分发时，都需要对应用进行签名。并且，只有有效证书签名的应用才能被安装在 `iOS` 设备上。

:::

### ❓`APN` 的基本原理

::: details 💡

> `APN`(`Apple Push Notification service`)是苹果公司开发的一套远程推送服务。其基本原理可以归纳如下几步：

  - **注册设备标识符 Device Token**：当用户启动应用时，通过调用推送注册接口，注册设备推送标识符，然后调用服务器接口提交这个设备标识符。
    
  - **应用服务器向 Apple Push Notification Service 发送通知请求：** 当应用需要向用户设备发送通知时，服务器会生成一个通知请求，包括设备标识符（`Device Token`）和通知内容，并将请求发送至苹果的推送通知服务。

  - **Apple Push Notification Service 将通知推送给目标设备：** 当苹果的推送通知服务收到来自应用服务器的推送请求后，会根据提供的设备标识符将通知传送到目标设备。

  - **目标设备接收到通知：** 当设备接收到苹果推送的通知后，会根据用户的设置和应用的状态来显示通知。
    > 例如，设备锁屏时，通知会显示在锁屏界面；设备解锁时，通知会显示在通知中心；如果应用正在前台运行，可以自定义是否显示通知。

  - **用户点击通知：** 用户在收到通知后可以选择直接点击打开，此时应用会收到一个打开通知的事件，可以根据需要做出相应的反应。

:::

### ❓`AppStore` 安装 `app` 时的认证流程

::: details 💡

认证流程：

  - 开发者提交应用：开发者完成应用编写后，使用开发者证书进行代码签名，并提交给App Store进行审核。这个证书由苹果提供，并和开发者账户绑定，可以确保应用来源的可靠性。

  - `App Store` 审核应用：苹果会对提交的应用进行审核，以确保应用的质量和安全性。这包括对应用的功能、性能、安全性、隐私保护等多个方面的评审。

  - 用户下载和安装应用：审核通过后，应用就会出现在 `App Store` 上。用户在下载和安装应用时，`iOS` 系统会检查应用的签名和证书。这既包括开发者的证书，也包括 `App Store` 的证书，它们可以确保应用的来源和完整性。

  - 应用运行：应用在安装后首次运行时，系统会进行一次额外的签名检查。此外，运行时的应用也需要遵守一些权限和用户设定的规范，否则可能会被系统限制其行为。

:::

------

## Xcode

### ❓`Xcode` 证书校验流程

::: details 💡

  在使用`Xcode`进行开发并打包应用进行发布时，证书（`Certificate`）和配置文件（`Provisioning Profile`）是必要的步骤。证书和配置文件能够验证开发者和应用的身份，并限制应用能够运行在哪些设备上。

`Xcode` 进行应用打包的证书校验流程：
  
  - **注册 Apple Developer 帐户：** 首先需要在苹果开发者网站注册一名开发者帐户。

  - **创建开发者（Developer）和分发（Distribution）证书：** 在苹果开发者网站里，需要创建一对开发者和分发用途的证书。开发者证书会在进行开发和调试应用时用到，分发证书将会在需要将应用提交到 `App Store` 或者 `Ad Hoc` 分发时用到。

  - **从 Keychain Access 中导出 .cer 文件：** 在开发者网站中创建好证书后，会得到一个 `.cer` 文件。这个文件需要在`Keychain Access` （钥匙串访问）中进行安装。

  - **创建 App ID：** 每一个应用都需要一个唯一的标识符，也就是 `App ID`。需要在开发者网站创建一个 `App ID`，并且连接到你的证书。

  - **创建配置文件（Provisioning Profile）：** 这个文件包含了你的证书，`App ID` 以及能够调试的设备列表。开发版和分发版的配置文件都需要创建。

  - **在 Xcode 中安装证书和配置文件：** 将从开发者网站下载的配置文件直接拖入到 `Xcode` 中，`Xcode` 会自动安装并将它与你的证书进行关联。

  - **在 Xcode 中选择正确的证书和配置文件进行打包：** 在进行打包（`Archive`）操作之前，需要设置正确的 `bundle ID`，然后 `Xcode` 会自动选择相匹配的证书和配置文件等设置。

  - **分发应用：** 如果证书和配置文件没有问题，那么 `Xcode` 会顺利的打包出应用，并且能够提交到 `App Store` 或 `Ad Hoc` 设备中进行安装。

:::

### ❓`Xcode` 打包流程 

::: details 💡

  - **清理 Build 目录：** 在点击 `Xcode` 顶部菜单栏的 `Product` 选项下面，选择 `Clean` 开始进行清理。这样做的目的是确保可以从干净的状态开始打包。

  - **编译：** 切换到需要发布的 `Schema`（比如 `Release` 模式或者 `Debug` 模式），选择需要打包的 `Scheme`，然后再点击 `Product` 选择 `Build` 开始进行编译。

  - **归档：** 编译成功后，选择 `Product` 下的 `Archive` 开始进行归档。归档过程会生成一个 `.xcarchive` 文件，这个文件包含了应用的可执行文件和其他一些资源文件。

  - **导出 ipa 包：** 归档结束后，`Organizer` 窗口将会自动弹出，里面会列出生成的所有归档文件。选择需要的归档，点击右侧的`Export` 按钮，然后可以选择需要的打包方式（比如`App Store`, `Ad-Hoc`, `Enterprise`等），之后会要求选择一个存放 `ipa` 包的位置，等待进度条完成就签名导出完成了。

  - **验证：** 如果想将应用上传到 `App Store`，那么在导出 `ipa` 包之后，可以再点击一次 `Validate App` 进行验证，看看是否符合苹果的标准。

  - **上传至 App Store：** 如果一切顺利，最后点击 `Upload to App Store.` 提交应用给苹果审查。

  - **查看 App Connect：** 上传结束后，过几分钟登陆 `App Connect` 网站，就可以看到你上传的应用。

:::

------

## Cocoapods

### ❓`pod` 对应的产物是什么

::: details 💡

> `CocoaPods` 是一个用于管理 `iOS` 和 `macOS` 应用中的依赖库的工具。

主要产物：

  - 项目的 `Podfile.lock `文件：这个文件记录了项目的所有 `Pod` 依赖以及它们的版本信息。它确保了不同开发者在同一个项目中使用同样版本的依赖库，保持了库版本的一致性。

  - `Pods` 文件夹：所有的 `Pod` 依赖库的源代码都会被保存在这个文件夹中。包括在 `Podfile` 中直接声明的依赖以及它们的子依赖。

  - `.xcworkspace` 文件：`Pod` 会生成一个 `.xcworkspace` 文件，可以通过打开这个文件来使用 `Xcode` 访问项目以及所有的 `Pod` 依赖。

  - `libXXX.a` 或者 `XXX.framework` 文件：这是 `Pod` 依赖库编译后的产物，它包含了库中所有的编译代码。这个文件会被链接到应用中，可以在应用中调用库中的函数或者类。

:::

------

## 开源库

### ❓说说你最熟悉的第三方，知晓其原理吗

::: details 💡

:::

### ❓`RxSwift` 的实现原理

::: details 💡

:::

### AFNetworking

#### ❓`AFNetworking` 2.0 中常驻线程设计是为了解决什么问题

::: details 💡

`AFNetworking 2.0` 中的 `AFURLConnectionOperation` 类中存在一个常驻线程的设计。其是为了解决 `NSURLConnection` 的异步操作的线程问题。

  如果在线程中创建一个异步 `NSURLConnection` 网络请求，这个请求只有在 `runloop` 运行的时候才会进行。如果线程的工作一旦完成就退出了，那么 `NSURLConnection` 的异步请求就被中断了，所以在网络请求期间这个线程必须被保活，保证其 `runloop` 在请求完成之前一直是在运行状态。

  所以，`AFNetworking` 创建了一个常驻线程，把所有的网络请求的操作（`NSURLConnection`）都放到这个线程的 `runloop` 中，完全避免了新建线程的开销以及由于线程退出导致的网络请求被中断问题。这样，无论发起多少个网络请求，都只有一个线程在执行，避免了频繁的线程切换和大量线程并发所带来的性能问题。

:::

#### ❓`AFNetworking` 的底层原理

::: details 💡

:::

#### ❓`Alamofire` 的实现原理

::: details 💡

:::

### SDWebImage

#### ❓`SDWebImage` 的缓存机制

::: details 💡

:::

#### ❓`SDWebImage` 的清除缓存策略

::: details 💡

:::

#### ❓如何从磁盘快速显示图片，`SDWebImage` 做了什么

::: details 💡

:::

#### ❓`SDWebImage` 是如何解决 `UITableViewCell` 复用时出现图片错乱问题

::: details 💡

:::

### YYKit

#### ❓`YYModel` 的实现原理

::: details 💡

:::

#### ❓`YYAsyncLayer` 如何异步绘制

::: details 💡

:::

### JSPatch

#### ❓`JSPatch`、`Aspects`

::: details 💡

:::

#### ❓`JSPatch` 是如何处理 `block` 的

::: details 💡

:::

------

## Web

### ❓`Web` 登录时怎么保持会话状态的

::: details 💡

:::

### ❓`Web` 渲染和 `Native` 渲染有什么异同点

::: details 💡

:::

### ❓`Web` 和 `Native` 怎么共享 `cookie`

::: details 💡

:::

------

## 开放性问题

### ❓平常有看过什么技术书籍吗

::: details 💡

:::

### ❓什么时候接触`iOS`开发，学习路径

::: details 💡

:::

### ❓你是如何学习提升 `iOS` 相关知识技能

::: details 💡

:::
