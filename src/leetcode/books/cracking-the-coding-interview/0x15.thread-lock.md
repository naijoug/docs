---
title: 线程 & 锁
icon: hashtag

index: true

---

> 15 - 线程 & 锁 (7)

<!-- more -->

## 15.1 进程与线程
  > 进程和线程有何区别？

## 15.2 上下文切换
  > 如何测量上下文切换时间？

## 15.3 哲学家用餐
  > 在著名的哲学家用餐问题中，一群哲学家围坐在圆桌周围，每两位哲学家之间有一根筷子。每位哲学家需要两根筷子才能用餐，并且一定会先拿起左手边的筷子，然后才会去拿右手边的筷子。如果所有哲学家在同一时间拿起左手边的筷子，就有可能造成死锁。请使用线程和锁，编写代码模拟哲学家用餐问题，避免出现死锁。

## 15.4 无死锁的类
  > 设计一个类，只有在不可能发生死锁的情况下，才会提供锁。

## 15.5 顺序调用

  给定以下代码：

  ```java
  public class Foo {
      public Foo() { ... }
      public void first() { ... }
      public void second() { ... }
      public void third() { ... }
  }
  ```
  
  同一个Foo实例会被传入3个不同的线程。threadA会调用first，threadB会调用second，threadC会调用third。设计一种机制，确保first会在second之前调用，second会在third之前调用。
  
## 15.6 同步方法
  > 给定一个类，内含同步方法A和普通方法B。在同一个程序实例中，有两个线程，能否同时执行A？两者能否同时执行A和B？

## 15.7 FizzBuzz
  > 在经典面试题FizzBuzz中，要求你从1到n打印数字。并且，当数字能被3整除时，打印Fizz，能被5整除时，打印Buzz。倘若同时能被3和5整除，就打印FizzBuzz。但与以往不同的是，这里要求你用4个线程，实现一个多线程版本的FizzBuzz，其中，一个用来检测是否被3整除和打印Fizz，另一个用来检测是否被5整除和打印Buzz。第三个线程检测能否被3和5整除和打印FizzBuzz。第四个线程负责遍历数字。
