---
title: 0300 ~ 0399
icon: hashtag

index: true

---

<!-- more -->

## 0300 âœ…

// #region 0300

- [ğŸŸ  300 - æœ€é•¿é€’å¢å­åºåˆ—](https://leetcode.cn/problems/longest-increasing-subsequence)
    > ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ nums ï¼Œæ‰¾åˆ°å…¶ä¸­æœ€é•¿ä¸¥æ ¼é€’å¢å­åºåˆ—çš„é•¿åº¦ã€‚
    > å­åºåˆ— æ˜¯ç”±æ•°ç»„æ´¾ç”Ÿè€Œæ¥çš„åºåˆ—ï¼Œåˆ é™¤ï¼ˆæˆ–ä¸åˆ é™¤ï¼‰æ•°ç»„ä¸­çš„å…ƒç´ è€Œä¸æ”¹å˜å…¶ä½™å…ƒç´ çš„é¡ºåºã€‚ä¾‹å¦‚ï¼Œ[3,6,2,7] æ˜¯æ•°ç»„ [0,3,1,6,2,2,7] çš„å­åºåˆ—ã€‚

    > `LIS`(`Longest Increasing Subsequence`) : æœ€é•¿é€’å¢å­åºåˆ—

        ğŸŒ°
            è¾“å…¥ï¼šnums = [10,9,2,5,3,7,101,18]
            è¾“å‡ºï¼š4 (æœ€é•¿é€’å¢å­åºåˆ—ï¼š[2,3,7,101])
        ğŸŒ°
            è¾“å…¥ï¼šnums = [0,1,0,3,2,3]
            è¾“å‡ºï¼š4
        ğŸŒ°
            è¾“å…¥ï¼šnums = [7,7,7,7,7,7,7]
            è¾“å‡ºï¼š1
            
::: details ğŸ’¡

ã€æ€è·¯1ã€‘åŠ¨æ€è§„åˆ’ï¼Œåˆå§‹åŒ–ä¸€ä¸ªä¸æ•°ç»„é•¿åº¦ç›¸åŒçš„ dp æ•°ç»„ç”¨æ¥ä¿å­˜è¯¥ç´¢å¼•ä¸‹æœ€é•¿é€’å¢å­åºåˆ—ã€‚éå†æ•°ç»„ï¼Œåˆ¤æ–­å½“å‰å€¼ä¸æ•°ç»„å‰é¢çš„å€¼çš„å¤§å°ï¼Œå¦‚æœå¤§ï¼Œåˆ™æ›´å…·å‰é¢å…ƒç´  dp æ•°ç»„è®¡ç®—å‡ºå½“å‰ç´¢å¼• dp å€¼ï¼Œè®¡ç®—å…¬å¼ä¸ºï¼š`dp[i] = max(dp[0...i-1] + 1)`ã€‚éå†çš„è¿‡ç¨‹ä¸­ï¼Œä¿å­˜æœ€é•¿é€’å¢é•¿åº¦ã€‚

ã€æ€è·¯2ã€‘äºŒåˆ†æŸ¥æ‰¾ï¼Œ

::: code-tabs

@tab java è§£æ³•1
```java
class Solution {
    public int lengthOfLIS(int[] nums) {
        int[] dp = new int[nums.length];
        // åˆå§‹æ‰€æœ‰ç´¢å¼•å¯¹åº”æœ€é•¿å­åºåˆ—é•¿åº¦ dp éƒ½ä¸º 1
        Arrays.fill(dp, 1); 
        int maxLength = 1;
        for (int i = 0; i < nums.length; i++) {
            for (int j = 0; j < i; j++) {
                if (nums[i] <= nums[j]) continue;
                // å½“å‰ç´¢å¼•å€¼æ¯”å‰é¢ç´¢å¼•å€¼å¤§æ—¶
                // dp[i] = max(dp[0...j] + 1)
                dp[i] = Math.max(dp[i], dp[j] + 1);
                // æ›¿æ¢æœ€å¤§å€¼
                maxLength = Math.max(maxLength, dp[i]);
            }
        }
        return maxLength;
    }
}
```

@tab swift è§£æ³•2
```swift
class Solution {
    func lengthOfLIS(_ nums: [Int]) -> Int {
        var dp = [Int](repeating: 1, count: nums.count)
        for i in 0..<nums.count {
            var dp_i_1 = 0
            for j in 0..<i {
                guard nums[i] > nums[j] else { continue }
                dp_i_1 = max(dp_i_1, dp[j])
            }
            dp[i] = dp_i_1 + 1
        }
        return dp.max() ?? 1
    }
}
```

@tab java è§£æ³•2
```java

```

:::

// #endregion 0300


## 0303

// #region 0303

- [ğŸŸ¢ 303 - åŒºåŸŸå’Œæ£€ç´¢ - æ•°ç»„ä¸å¯å˜](https://leetcode.cn/problems/range-sum-query-immutable)

::: details ğŸ’¡

:::

// #endregion 0303

## 0304

// #region 0304

- [ğŸŸ  304 - äºŒç»´åŒºåŸŸå’Œæ£€ç´¢ - çŸ©é˜µä¸å¯å˜](https://leetcode.cn/problems/range-sum-query-2d-immutable)

::: details ğŸ’¡

:::

// #endregion 0304

## 0309

// #region 0309

- [ğŸŸ  309 - æœ€ä½³ä¹°å–è‚¡ç¥¨æ—¶æœºå«å†·å†»æœŸ](https://leetcode.cn/problems/best-time-to-buy-and-sell-stock-with-cooldown)

::: details ğŸ’¡

:::

// #endregion 0309

## 0312

// #region 0312

- [ğŸ”´ 312 - æˆ³æ°”çƒ](https://leetcode.cn/problems/burst-balloons)

::: details ğŸ’¡

:::

// #endregion 0312

## 0313

// #region 0313

- [ğŸŸ  313 - è¶…çº§ä¸‘æ•°](https://leetcode.cn/problems/super-ugly-number)

::: details ğŸ’¡

::: code-tabs

@tab java
```java

```

:::

// #endregion 0313

## 0314

// #region 0314

- [ğŸŸ  314 - äºŒå‰æ ‘çš„å‚ç›´éå†](https://leetcode.cn/problems/binary-tree-vertical-order-traversal)

::: details ğŸ’¡

:::

// #endregion 0314

## 0315

// #region 0315

- [ğŸ”´ 315 - è®¡ç®—å³ä¾§å°äºå½“å‰å…ƒç´ çš„ä¸ªæ•°](https://leetcode.cn/problems/count-of-smaller-numbers-after-self)

::: details ğŸ’¡

:::

// #endregion 0315

## 0316

// #region 0316

- [ğŸŸ  316 - å»é™¤é‡å¤å­—æ¯](https://leetcode.cn/problems/remove-duplicate-letters)

::: details ğŸ’¡

:::

// #endregion 0316

## 0319 âœ…

// #region 0319

- [ğŸŸ  319 - ç¯æ³¡å¼€å…³](https://leetcode.cn/problems/bulb-switcher)
    > æœ‰ n ä¸ªç¯æ³¡ï¼Œåˆå§‹åŒ–æ—¶éƒ½ä¸ºå…³é—­çŠ¶æ€ã€‚ç¬¬ä¸€è½®å‡æ‰“å¼€ï¼›ç¬¬äºŒè½®ï¼Œæ²¡ä¸¤ä¸ªç¯æ³¡å¼€å…³çŠ¶æ€åè½¬ï¼›ç¬¬ä¸‰è½®ï¼Œæ¯ä¸‰ä¸ªç¯æ³¡å¼€å…³çŠ¶æ€åè½¬...ï¼›ç›´åˆ°ç¬¬ n è½®ï¼Œæ¯ n ä¸ªç¯æ³¡å¼€å…³çŠ¶æ€åè½¬ã€‚è¯·é—®æœ€åå¼€ç¯çš„æ•°é‡æ˜¯å¤šå°‘ï¼Ÿ

        ğŸŒ°
            è¾“å…¥ï¼šn = 3
            è¾“å‡ºï¼š1 
            è§£é‡Šï¼š
            åˆå§‹æ—¶, ç¯æ³¡çŠ¶æ€ [å…³é—­, å…³é—­, å…³é—­].
            ç¬¬ä¸€è½®å, ç¯æ³¡çŠ¶æ€ [å¼€å¯, å¼€å¯, å¼€å¯].
            ç¬¬äºŒè½®å, ç¯æ³¡çŠ¶æ€ [å¼€å¯, å…³é—­, å¼€å¯].
            ç¬¬ä¸‰è½®å, ç¯æ³¡çŠ¶æ€ [å¼€å¯, å…³é—­, å…³é—­]. 

::: details ğŸ’¡

ã€æ€è·¯1ã€‘æš´åŠ›è§£æ³•ï¼Œé€šè¿‡ n æ¬¡éå†ï¼Œé€šè¿‡ç¯çš„ç´¢å¼•å€æ•°æ§åˆ¶ç¯çš„å¼€å…³ï¼Œæœ€åç»Ÿè®¡å¼€ç¯æ•°é‡

ã€æ€è·¯2ã€‘æ•°å­¦è§„å¾‹ï¼Œ

::: code-tabs

@tab java è§£æ³•1
```java
class Solution {
    public int bulbSwitch(int n) {
        // åˆå§‹æ‰€æœ‰ç­‰å…³é—­
        boolean[] bulb = new boolean[n + 1];
        for (int i = 1; i < n + 1; i++) {
            for (int j = 1; j < n + 1; j++) {
                if (j % i == 0) { // é€šè¿‡ n è½®å¼€å…³ç¯æ³¡
                    bulb[j] = !bulb[j];
                }
            }
        }
        // ç»Ÿè®¡å¼€ç¯æ•°é‡
        int count = 0;
        for (int i = 1; i < n + 1; i++) {
            if (bulb[i]) count += 1;
        }
        return count;
    }
}
```

@tab java è§£æ³•2
```java
class Solution {
    public int bulbSwitch(int n) {
        return (int)Math.sqrt(n); // æ±‚å¹³æ–¹æ ¹å–æ•´
    }
}
```

:::

// #endregion 0319

## 0322 âœ…

// #region 0322

- [ğŸŸ  322 - é›¶é’±å…‘æ¢](https://leetcode.cn/problems/coin-change)
    > ç»™å®šä¸€ä¸ªé›¶é’±æ•°ç»„(ç¡¬å¸æ•°ç»„ï¼Œæ¯ç§ç¡¬å¸æ•°é‡å¯ä»¥æ— é™å¤š)å’Œä¸€ä¸ªç›®æ ‡é‡‘é¢ï¼Œæ±‚å‡ºå‡‘å‡ºç›®æ ‡é‡‘é¢çš„æœ€å°‘ç¡¬å¸æ•°ã€‚
    
        ğŸŒ°
            è¾“å…¥ï¼šcoins = [1, 2, 5], amount = 11
            è¾“å‡ºï¼š3 
            è§£é‡Šï¼š11 = 5 + 5 + 1
        ğŸŒ°
            è¾“å…¥ï¼šcoins = [2], amount = 3
            è¾“å‡ºï¼š-1
        ğŸŒ°
            è¾“å…¥ï¼šcoins = [1], amount = 0
            è¾“å‡ºï¼š0

::: details ğŸ’¡

ã€åˆ†æã€‘åŠ¨æ€è§„åˆ’
  - æ‰¾å‡ºçŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼Œf(n) = f(n - coin) + coin(coinsä¸­çš„ä¸€ä¸ª)
  - è¾¹ç•Œæ¡ä»¶ï¼Œå½“æ€»é‡‘é¢ä¸º0æ—¶ï¼Œéœ€è¦çš„é‡‘é¢æ•°ä¸º0

ã€æ€è·¯1ã€‘é€’å½’è§£æ³•ï¼Œè‡ªé¡¶å‘ä¸‹

ã€æ€è·¯2ã€‘è¿­ä»£è§£æ³•ï¼Œè‡ªåº•å‘ä¸Š

::: code-tabs

@tab java è§£æ³•1
```java
class Solution {
    Map<Integer, Integer> dp = new HashMap();
    public int coinChange(int[] coins, int amount) {
        if (amount < 0) return -1; // æ€»é‡‘é¢å°äº0ï¼Œæ— è§£
        if (amount == 0) return 0; // æ€»é‡‘é¢ä¸º0ï¼Œä¸åœ¨éœ€è¦ç¡¬å¸äº†
        if (dp.containsKey(amount)) return dp.get(amount);
        int result = Integer.MAX_VALUE;
        for(int coin : coins) {
            // å›ºå®š coinï¼Œç„¶åç»§ç»­åˆ¤æ–­ä¸‹ä¸€ä¸ªæ€»é‡‘é¢ amount - coin
            int count = coinChange(coins, amount - coin);
            if (count == -1) continue; // æ— è§£ï¼Œè¡¨ç¤ºæ— æ³•å‡‘å‡ºç›®æ ‡é‡‘é¢
            result = Integer.min(result, count + 1);
        }
        if (result == Integer.MAX_VALUE) {
            result = -1;
        }
        dp.put(amount, result);
        return result;
    }
}
```

@tab java è§£æ³•2
```java
class Solution {
    public int coinChange(int[] coins, int amount) {
        int[] dp = new int[amount + 1];
        Arrays.fill(dp, Integer.MAX_VALUE);
        dp[0] = 0;
        for (int i = 1; i < amount+1; i++) {
            for (int coin : coins) {
                if (i - coin < 0) continue; // ä¸æ˜¯æœ‰æ•ˆé‡‘é¢
                if (dp[i - coin] == Integer.MAX_VALUE) continue; // æ— è§£çš„é‡‘é¢
                dp[i] = Integer.min(dp[i], 1 + dp[i - coin]);     
            }
        }
        return (dp[amount] == Integer.MAX_VALUE) ? -1 : dp[amount];
    }
}
```

:::

// #endregion 0322

## 0323

// #region 0323

- [ğŸŸ  323 - æ— å‘å›¾ä¸­è¿é€šåˆ†é‡çš„æ•°ç›®](https://leetcode.cn/problems/number-of-connected-components-in-an-undirected-graph)

::: details ğŸ’¡

:::

// #endregion 0323


## 0326 âœ…

// #region 0326

- [ğŸŸ¢ 326 - 3 çš„å¹‚](https://leetcode.cn/problems/power-of-three)
  > åˆ¤æ–­ä¸€ä¸ªæ•´æ•°æ˜¯å¦ä¸º 3 çš„å¹‚æ¬¡æ–¹

::: details ğŸ’¡

ã€æ€è·¯ã€‘æ±‚ä½™æ³•

::: code-tabs

@tab java
```java
class Solution {
    public boolean isPowerOfThree(int n) {
        if (n < 0) return false;
        while (n > 1) {
            if ((n % 3) != 0) return false; // å¦‚æœå¯¹ 3 å–æ¨¡ä¸ä¸º0ï¼Œåˆ™è‚¯å®šä¸æ˜¯ 3 çš„å¹‚æ¬¡
            n = n/3; // æ±‚ä½™
        }
        return n == 1; // ç»“æœä¸º 1ï¼Œåˆ™è¡¨ç¤ºæ˜¯ 3 çš„å¹‚æ¬¡
    }
}
```

:::

// #endregion 0326

## 0327

// #region 0327

- [ğŸ”´ 327 - åŒºé—´å’Œçš„ä¸ªæ•°](https://leetcode.cn/problems/count-of-range-sum)

::: details ğŸ’¡

:::

// #endregion 0327

## 0328

// #region 0328

- [ğŸŸ  328 - å¥‡å¶é“¾è¡¨](https://leetcode.cn/problems/odd-even-linked-list)
    > ç»™å®šå•é“¾è¡¨çš„å¤´èŠ‚ç‚¹ head ï¼Œå°†æ‰€æœ‰ç´¢å¼•ä¸ºå¥‡æ•°çš„èŠ‚ç‚¹å’Œç´¢å¼•ä¸ºå¶æ•°çš„èŠ‚ç‚¹åˆ†åˆ«ç»„åˆåœ¨ä¸€èµ·ï¼Œç„¶åè¿”å›é‡æ–°æ’åºçš„åˆ—è¡¨ã€‚
    > ç¬¬ä¸€ä¸ªèŠ‚ç‚¹çš„ç´¢å¼•è¢«è®¤ä¸ºæ˜¯ å¥‡æ•° ï¼Œ ç¬¬äºŒä¸ªèŠ‚ç‚¹çš„ç´¢å¼•ä¸º å¶æ•° ï¼Œä»¥æ­¤ç±»æ¨ã€‚
    > è¯·æ³¨æ„ï¼Œå¶æ•°ç»„å’Œå¥‡æ•°ç»„å†…éƒ¨çš„ç›¸å¯¹é¡ºåºåº”è¯¥ä¸è¾“å…¥æ—¶ä¿æŒä¸€è‡´ã€‚
    > ä½ å¿…é¡»åœ¨ O(1) çš„é¢å¤–ç©ºé—´å¤æ‚åº¦å’Œ O(n) çš„æ—¶é—´å¤æ‚åº¦ä¸‹è§£å†³è¿™ä¸ªé—®é¢˜ã€‚

        ğŸŒ°
            è¾“å…¥: head = [1,2,3,4,5]
            è¾“å‡º: [1,3,5,2,4]
        ğŸŒ°
            è¾“å…¥: head = [2,1,3,5,6,4,7]
            è¾“å‡º: [2,3,6,7,1,5,4]

::: details ğŸ’¡

ã€æ€è·¯ã€‘å°†é“¾è¡¨è¡¨åˆ†å‰²æˆå¥‡æ•°å’Œå¶æ•°ä¸¤æ¡é“¾è¡¨ï¼Œæœ€ååˆå¹¶ã€‚å…·ä½“æ“ä½œï¼Œå…ˆå°†å¶æ•°å¤´ç»“ç‚¹ä¿å­˜ï¼Œç”¨äºæœ€åç›¸è¿ã€‚ç”¨ä¸¤ä¸ªèŠ‚ç‚¹åˆ†åˆ«æŒ‡å‘å¥‡æ•°èŠ‚ç‚¹å’Œå¶æ•°èŠ‚ç‚¹ï¼Œåªéœ€å°†å¥‡æ•°èŠ‚ç‚¹æŒ‡å‘å¶æ•°èŠ‚ç‚¹ä¸‹ä¸€ä¸ªï¼Œå¶æ•°èŠ‚ç‚¹æŒ‡å‘å¥‡æ•°èŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªï¼Œå°±èƒ½ç©¿èµ·æ¥å¥‡æ•°å¶æ•°é“¾è¡¨ã€‚æ³¨æ„ï¼šéå†æ¡ä»¶éœ€è¦æ—¶å¶æ•°èŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªä¸èƒ½ä¸ºç©ºï¼Œè¿™æ ·èƒ½ä¿è¯æœ€åå¥‡æ•°èŠ‚ç‚¹ä¸ä¸ºç©ºï¼Œæœ€åç”¨äºä¸å¶æ•°èŠ‚ç‚¹ç›¸è¿ã€‚

::: code-tabs

@tab java
```java
/**
 * Definition for singly-linked list.
 * public class ListNode {
 *     int val;
 *     ListNode next;
 *     ListNode() {}
 *     ListNode(int val) { this.val = val; }
 *     ListNode(int val, ListNode next) { this.val = val; this.next = next; }
 * }
 */
class Solution {
    public ListNode oddEvenList(ListNode head) {
        // é“¾è¡¨èŠ‚ç‚¹ä¸è¶³ä¸‰ä¸ªï¼Œä¸éœ€è¦å¤„ç†
        if (head == null) return head;
        if (head.next == null) return head;
        if (head.next.next == null) return head;

        ListNode evenHead = head.next; // ä¿å­˜å¶æ•°é“¾è¡¨å¤´
        ListNode odd = head; // éå†å¥‡æ•°èŠ‚ç‚¹
        ListNode even = head.next; // éå†å¶æ•°èŠ‚ç‚¹
        // å¾ªç¯æ¡ä»¶ä¸ºå¶æ•°èŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ä¸ä¸ºç©ºï¼Œä¿è¯æœ€åå¥‡æ•°èŠ‚ç‚¹ä¸ä¸ºç©º
        while (even != null && even.next != null) {
            // å°†å¥‡æ•°èŠ‚ç‚¹æŒ‡å‘å¶æ•°èŠ‚ç‚¹ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå¹¶æŒ‡å‘ä¸‹ä¸€ä¸ªå¥‡æ•°èŠ‚ç‚¹
            odd.next = even.next;
            odd = odd.next;
            // å°†å¶æ•°èŠ‚ç‚¹æŒ‡å‘å¥‡æ•°èŠ‚ç‚¹ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå¹¶æŒ‡å‘ä¸‹ä¸€ä¸ªå¶æ•°èŠ‚ç‚¹
            even.next = odd.next;
            even = even.next;
        }
        // å°†å¥‡æ•°é“¾è¡¨ä¸å¶æ•°é“¾è¡¨å¤´ç›¸è¿
        odd.next = evenHead;
        return head;
    }
}
```

:::

// #endregion 0328

## 0337

// #region 0337

- [ğŸŸ  337 - æ‰“å®¶åŠ«èˆ III](https://leetcode.cn/problems/house-robber-iii)

::: details ğŸ’¡

:::

// #endregion 0337

## 0341

// #region 0341

- [ğŸŸ  341 - æ‰å¹³åŒ–åµŒå¥—åˆ—è¡¨è¿­ä»£å™¨](https://leetcode.cn/problems/flatten-nested-list-iterator)

::: details ğŸ’¡

:::

// #endregion 0341

## 0342 âœ…

// #region 0342

- [ğŸŸ¢ 342 - 4 çš„å¹‚](https://leetcode.cn/problems/power-of-four)
  > åˆ¤æ–­ä¸€ä¸ªæ•´æ•°æ˜¯å¦ä¸º 4 çš„å¹‚æ¬¡æ–¹

::: details ğŸ’¡

ã€æ€è·¯1ã€‘é™¤ä½™æ³•ï¼Œè¿›è¡Œé™¤ 4 è¿ç®—ç›´åˆ°å€¼ä¸å¤§äº 1ã€‚å¦‚æœæœ€åä½™æ•°æ˜¯ 1 åˆ™è¡¨æ˜æ˜¯ 4 çš„å¹‚æ¬¡ã€‚

ã€æ€è·¯2ã€‘ä½è¿ç®—ï¼Œç”±äº 4 = 2*2ï¼Œåˆ™è‚¯å®šæ»¡è¶³ç¬¬ä¸€ä¸ªæ¡ä»¶ `n & n-1 == 0` (äºŒè¿›åˆ¶ä»…å­˜åœ¨ä¸€ä¸ª 1)ï¼›æ¯” 2 çš„å¹‚æ¬¡è¿˜è¦å¤šä¸€ä¸ªæ¡ä»¶ï¼Œè¿™ä¸ªä»…å­˜åœ¨çš„ä¸€ä¸ª 1ï¼Œå¿…é¡»åœ¨å¶æ•°ä½ä¸Šã€‚é‚£ä¹ˆç¬¬äºŒä¸ªæ¡ä»¶å¯ä»¥ä½¿ç”¨ä¸€ä¸ªå¶æ•°ä½å‡ä¸º 1 çš„äºŒè¿›åˆ¶ä¸å½“å‰æ•°è¿›è¡Œä¸è¿ç®—ï¼Œå¦‚æœç»“æœä¸æ˜¯ 0ï¼Œåˆ™è¡¨æ˜å­˜åœ¨çš„ 1 åœ¨å¶æ•°ä½ä¸Šã€‚

ã€æ€è·¯3ã€‘å–æ¨¡æ³•ï¼Œå€Ÿç”¨æ€è·¯2 çš„å‰åŠéƒ¨åˆ†æ€è·¯ï¼Œå‰©ä¸‹çš„éœ€è¦åŒºåˆ†æ˜¯ 2 è¿˜æ˜¯ 4 çš„å¹‚æ¬¡ã€‚
    4 = (3 + 1) % 3 = 1
    4*4 = 4 * (3 + 1) = (4*3 + (3 + 1)) % 3 = 1
    ...
    æ‰€ä»¥ 4 çš„å¹‚æ¬¡å¯¹ 3 å–æ¨¡çš„ç»“æœæ˜¯ 1ï¼Œè€Œ 2çš„æ¬¡å¹‚å¯¹ 3 å–æ¨¡çš„ç»“æœä¸å­˜åœ¨è¿™ä¸ªè§„å¾‹ã€‚

::: code-tabs

@tab java è§£æ³•1
```java
class Solution {
    public boolean isPowerOfFour(int n) {
        if (n < 0) return false;
        while (n > 1) {
            if (n % 4 != 0) return false;
            n = n / 4;
        }
        return n == 1;
    }
}
```

@tab java è§£æ³•2
```java
class Solution {
    public boolean isPowerOfFour(int n) {
        if (n < 0) return false;
        // å¶æ•°ä½ä¸Šéƒ½æ˜¯ 1 çš„äºŒè¿›åˆ¶æ•°
        int mask = 0b01010101010101010101010101010101;
        return ((n & (n - 1)) == 0) && ((n & mask) != 0);
    }
}
```

@tab java è§£æ³•3
```java
class Solution {
    public boolean isPowerOfFour(int n) {
        if (n < 0) return false;
        return ((n & (n - 1)) == 0) && (n % 3 == 1);
    }
}
```

:::

// #endregion 0342

## 0344 âœ…

// #region 0344

- [ğŸŸ¢ 344 - åè½¬å­—ç¬¦ä¸²](https://leetcode.cn/problems/reverse-string/)
  > ç»™å®šä¸€ä¸ªå­—ç¬¦æ•°ç»„ï¼Œè¿”å›åè½¬åçš„å­—ç¬¦æ•°ç»„ã€‚

::: details ğŸ’¡

ã€æ€è·¯ã€‘åŒæŒ‡é’ˆï¼Œå·¦å³æŒ‡é’ˆä¸€å‰ä¸€åï¼Œè¿›è¡Œå­—ç¬¦äº¤æ¢ï¼Œç›´åˆ°å‰åæŒ‡é’ˆç›¸é‡ï¼Œåè½¬å®Œæˆã€‚

::: code-tabs

@tab java
```java
class Solution {
    public void reverseString(char[] s) {
        int left = 0;
        int right = s.length - 1;
        while ( left < right ) {
            // äº¤æ¢å·¦å³ä½ç½®å€¼
            char temp = s[left];
            s[left] = s[right];
            s[right] = temp;
            // ç»§ç»­è·³åˆ°ä¸‹ä¸€ä¸ªä½ç½®è¿›è¡Œå¤„ç†
            left += 1;
            right -= 1;
        }
    }
}
```

:::

// #endregion 0344

## 0345 âœ…

// #region 0345

- [ğŸŸ¢ 345 - åè½¬å­—ç¬¦ä¸²ä¸­çš„å…ƒéŸ³å­—æ¯](https://leetcode.cn/problems/reverse-vowels-of-a-string)

::: details ğŸ’¡

ã€æ€è·¯ã€‘åŒ 344 åè½¬å­—ç¬¦ä¸²ä¸€æ ·ï¼Œå”¯ä¸€çš„åŒºåˆ«æ˜¯éœ€è¦åˆ¤æ–­å·¦å³å­—ç¬¦æ˜¯å¦æ˜¯å…ƒéŸ³å­—æ¯ã€‚

::: code-tabs

@tab java
```java
class Solution {
    public String reverseVowels(String s) {
        char[] chars = s.toCharArray();
        int left = 0;
        int right = chars.length - 1;
        while ( left < right ) {
            // å®šä½åˆ°å·¦è¾¹ç¬¬ä¸€ä¸ªå…ƒéŸ³å­—æ¯
            while ( left < right && !isVowel(chars[left]) ) {
                left += 1;
            }
            // å®šä½åˆ°å³è¾¹ç¬¬ä¸€ä¸ªå…ƒéŸ³å­—æ¯
            while ( left < right && !isVowel(chars[right]) ) {
                right -= 1;
            }
            // äº¤æ¢ä¸¤ä¸ªå…ƒéŸ³å­—æ¯
            if ( left < right && isVowel(chars[left]) && isVowel(chars[right]) ) {
                char temp = chars[left];
                chars[left] = chars[right];
                chars[right] = temp;
                // äº¤æ¢å®Œæˆï¼Œå·¦å³æŒ‡é’ˆéƒ½ç§»åŠ¨ä¸€æ­¥
                left += 1;
                right -= 1;
            }
        }
        return new String(chars);
    }
    /// åˆ¤æ–­å­—ç¬¦æ˜¯å¦æ˜¯å…ƒéŸ³
    boolean isVowel(char c) {
        char lowerC = Character.toLowerCase(c);
        return lowerC == 'a' || lowerC == 'e' || lowerC == 'i' || lowerC == 'o' || lowerC == 'u';
    }
}
```

:::

// #endregion 0345

## 0354

// #region 0354

- [ğŸ”´ 354 - ä¿„ç½—æ–¯å¥—å¨ƒä¿¡å°é—®é¢˜](https://leetcode.cn/problems/russian-doll-envelopes)
    > ç»™ä½ ä¸€ä¸ªäºŒç»´æ•´æ•°æ•°ç»„ envelopes ï¼Œå…¶ä¸­ envelopes[i] = [wi, hi] ï¼Œè¡¨ç¤ºç¬¬ i ä¸ªä¿¡å°çš„å®½åº¦å’Œé«˜åº¦ã€‚
    > å½“å¦ä¸€ä¸ªä¿¡å°çš„å®½åº¦å’Œé«˜åº¦éƒ½æ¯”è¿™ä¸ªä¿¡å°å¤§çš„æ—¶å€™ï¼Œè¿™ä¸ªä¿¡å°å°±å¯ä»¥æ”¾è¿›å¦ä¸€ä¸ªä¿¡å°é‡Œï¼Œå¦‚åŒä¿„ç½—æ–¯å¥—å¨ƒä¸€æ ·ã€‚
    > è¯·è®¡ç®— æœ€å¤šèƒ½æœ‰å¤šå°‘ä¸ª ä¿¡å°èƒ½ç»„æˆä¸€ç»„â€œä¿„ç½—æ–¯å¥—å¨ƒâ€ä¿¡å°ï¼ˆå³å¯ä»¥æŠŠä¸€ä¸ªä¿¡å°æ”¾åˆ°å¦ä¸€ä¸ªä¿¡å°é‡Œé¢ï¼‰ã€‚
    > æ³¨æ„ï¼šä¸å…è®¸æ—‹è½¬ä¿¡å°ã€‚

        ğŸŒ°
            è¾“å…¥ï¼šenvelopes = [[5,4],[6,4],[6,7],[2,3]]
            è¾“å‡ºï¼š3 ([2,3] => [5,4] => [6,7])
        ğŸŒ°
            è¾“å…¥ï¼šenvelopes = [[1,1],[1,1],[1,1]]
            è¾“å‡ºï¼š1

::: details ğŸ’¡

::: code-tabs

@tab java
```java

```

:::

// #endregion 0354


## 0355

// #region 0355

- [ğŸŸ  355 - è®¾è®¡æ¨ç‰¹](https://leetcode.cn/problems/design-twitter)

::: details ğŸ’¡

:::

// #endregion 0355

## 0367

// #region 0367

- [ğŸŸ¢ 367 - æœ‰æ•ˆçš„å®Œå…¨å¹³æ–¹æ•°](https://leetcode.cn/problems/valid-perfect-square)
    > åˆ¤æ–­ä¸€ä¸ªæ•°æ˜¯å¦æ˜¯å®Œå…¨å¹³æ–¹æ•°ï¼Ÿ
    
> å®Œå…¨å¹³æ–¹æ•° : ç­‰äºæŸä¸ªæ•´æ•°çš„å¹³æ–¹ã€‚

::: details ğŸ’¡

::: code-tabs

@tab java
```java

```

:::

// #endregion 0367

## 0370

// #region 0370

- [ğŸŸ  370 - åŒºé—´åŠ æ³•](https://leetcode.cn/problems/range-addition)

::: details ğŸ’¡

:::

// #endregion 0370

## 0372 âœ…

// #region 0372

- [ğŸŸ  372 - è¶…çº§æ¬¡æ–¹](https://leetcode.cn/problems/super-pow)
    > è®¡ç®— `a^b` å¯¹ 1337 å–æ¨¡ï¼Œa æ˜¯ä¸€ä¸ªæ­£æ•´æ•°ï¼Œb æ˜¯ä¸€ä¸ªéå¸¸å¤§çš„æ­£æ•´æ•°ä¸”ä¼šä»¥æ•°ç»„å½¢å¼ç»™å‡ºã€‚
    
        ğŸŒ°
            è¾“å…¥ï¼ša = 2, b = [1,0]
            è¾“å‡ºï¼š1024

::: details ğŸ’¡

ã€æ€è·¯ã€‘
  - ä¹˜æ³•æ±‚æ¨¡å…¬å¼ : `(a * b) % m = ((a % m) * (b % m)) % m`
  - å¹‚æ¬¡æ–¹é™ç»´å…¬å¼ : `a^123 = a^3 * a^120 = a^3 * ((a^12)^10)`

::: code-tabs

@tab swift
```swift
class Solution {
    func powModulo(_ a: Int, _ b: Int) -> Int {
        var result = 1;
        var mod = a%1337
        for i in 0..<b {
            // ä¹˜æ³•å–æ¨¡å…¬å¼ï¼š(a*b)%m = ((a%m) * (b%m))%m
            result = (result % 1337) * mod
            result = result % 1337
        }
        return result
    }

    func superPow(_ a: Int, _ b: [Int]) -> Int {
        guard !b.isEmpty else { return 1 }
        var nums = b
        var num = nums.removeLast()
        // a^123 = a^3 * a^120 = a^3 * ((a^12)^10)
        // å¯¹æ•°ç»„æ¬¡æ–¹è¿›è¡Œä¹˜æœºåˆ†è§£ï¼Œé™ç»´å¤„ç†
        var part1 = powModulo(a, num) % 1337
        var part2 = powModulo(superPow(a, nums), 10) % 1337
        return (part1 * part2) % 1337
    }
}
```

:::

// #endregion 0372

## 0380

// #region 0380

- [ğŸŸ  380 - O(1) æ—¶é—´æ’å…¥ã€åˆ é™¤å’Œè·å–éšæœºå…ƒç´ ](https://leetcode.cn/problems/insert-delete-getrandom-o1)

::: details ğŸ’¡

:::

// #endregion 0380

## 0382 âœ…

// #region 0382

- [ğŸŸ  382 - é“¾è¡¨éšæœºèŠ‚ç‚¹](https://leetcode.cn/problems/linked-list-random-node)
    > ç»™ä½ ä¸€ä¸ªå•é“¾è¡¨ï¼Œéšæœºé€‰æ‹©é“¾è¡¨çš„ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå¹¶è¿”å›ç›¸åº”çš„èŠ‚ç‚¹å€¼ã€‚æ¯ä¸ªèŠ‚ç‚¹è¢«é€‰ä¸­çš„æ¦‚ç‡ä¸€æ ·ã€‚

::: details ğŸ’¡

ã€æ€è·¯ã€‘æ ¹æ®é“¾è¡¨é•¿åº¦ï¼Œé€‰å–éšæœºç´¢å¼•ï¼Œç„¶åéå†é“¾è¡¨å¾—åˆ°éšæœºèŠ‚ç‚¹ã€‚

::: code-tabs

@tab java
```java
/**
 * Definition for singly-linked list.
 * public class ListNode {
 *     int val;
 *     ListNode next;
 *     ListNode() {}
 *     ListNode(int val) { this.val = val; }
 *     ListNode(int val, ListNode next) { this.val = val; this.next = next; }
 * }
 */
class Solution {

    private ListNode head;
    private int len = 0; // é“¾è¡¨é•¿åº¦
    private Random rand = new Random();

    public Solution(ListNode head) {
        this.head = head;
        ListNode node = head;
        while (node != null) { // åˆå§‹åŒ–æ˜¯ç»Ÿè®¡é“¾è¡¨é•¿åº¦
            len += 1;
            node = node.next;
        }
    }
    
    public int getRandom() {
        int r = rand.nextInt(len); // æ ¹æ®é“¾è¡¨é•¿åº¦é€‰å–éšæœºç´¢å¼•ä½ç½®
        ListNode node = head;
        while (r > 0) {
            node = node.next;
            r -= 1;
        }
        return node.val;
    }
}

/**
 * Your Solution object will be instantiated and called as such:
 * Solution obj = new Solution(head);
 * int param_1 = obj.getRandom();
 */
```

:::

> åªèƒ½éå†ä¸€æ¬¡é“¾è¡¨ï¼Œå¦‚ä½•å¤„ç†ï¼Ÿ

::: details ğŸ’¡

ã€æ€è·¯ã€‘æ°´å¡˜æŠ½æ ·ç®—æ³•

::: code-tabs

@tab java
```java
class Solution {

    private ListNode head;

    public Solution(ListNode head) {
        this.head = head;
    }
    
    public int getRandom() {
        int result = 0;
        Random rand = new Random();
        ListNode node = head;
        int count = 1;
        while (node != null) {
            int r = rand.nextInt(count); // [0, count) éšæœºæ•°
            if (0 == r) { // 1/count æ¦‚ç‡è¿›è¡Œç»“æœæ›¿æ¢ (åŒ¹é… 0 ~ count-1 ä»»æ„ä¸€ä¸ªéƒ½è¡Œ)
                result = node.val;
            }
            count += 1;
            node = node.next;
        }
        return result;
    }
}
```

:::

// #endregion 0382

## 0384 âœ…

// #region 0384

- [ğŸŸ  384 - æ‰“ä¹±æ•°ç»„](https://leetcode.cn/problems/shuffle-an-array)
    > ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ nums ï¼Œè®¾è®¡ç®—æ³•æ¥æ‰“ä¹±ä¸€ä¸ªæ²¡æœ‰é‡å¤å…ƒç´ çš„æ•°ç»„ã€‚æ‰“ä¹±åï¼Œæ•°ç»„çš„æ‰€æœ‰æ’åˆ—åº”è¯¥æ˜¯ç­‰å¯èƒ½çš„ã€‚
        
        å®ç° Solution class:
            Solution(int[] nums) ä½¿ç”¨æ•´æ•°æ•°ç»„ nums åˆå§‹åŒ–å¯¹è±¡
            int[] reset() é‡è®¾æ•°ç»„åˆ°å®ƒçš„åˆå§‹çŠ¶æ€å¹¶è¿”å›
            int[] shuffle() è¿”å›æ•°ç»„éšæœºæ‰“ä¹±åçš„ç»“æœ
        
::: details ğŸ’¡

ã€æ€è·¯ã€‘æ´—ç‰Œç®—æ³•ï¼Œéå†æ•°ç»„ï¼Œæ¯æ¬¡ç”Ÿäº§ä¸€ä¸ªéšæœºç´¢å¼•ï¼Œè¿›è¡Œä¸¤ä¸ªå…ƒç´ çš„äº¤æ¢ã€‚

::: code-tabs

@tab java
```java
class Solution {

    private int[] nums;

    public Solution(int[] nums) {
        this.nums = nums;
    }
    
    public int[] reset() {
        return nums;
    }
    
    public int[] shuffle() {
        int len = nums.length;
        int[] copy = Arrays.copyOf(nums, len);
        Random rand = new Random();
        for (int i = 0; i < len; i++) {
            // é€‰æ‹©ä¸€ä¸ª i åé¢çš„éšæœºç´¢å¼•
            int r = i + rand.nextInt(len - i); 
            // äº¤æ¢å…ƒç´ ä½ç½®
            int temp = copy[i];
            copy[i] = copy[r];
            copy[r] = temp;
        }
        return copy;
    }
}

/**
 * Your Solution object will be instantiated and called as such:
 * Solution obj = new Solution(nums);
 * int[] param_1 = obj.reset();
 * int[] param_2 = obj.shuffle();
 */
```

:::

// #endregion 0384

## 0391

// #region 0391

- [ğŸ”´ 391 - å®Œç¾çŸ©å½¢](https://leetcode.cn/problems/perfect-rectangle)

::: details ğŸ’¡

:::

// #endregion 0391

## 0392

// #region 0392

- [ğŸŸ¢ 392 - åˆ¤æ–­å­åºåˆ—](https://leetcode.cn/problems/is-subsequence)

::: details ğŸ’¡

:::

// #endregion 0392

## 0398 âœ…

// #region 0398

- [ğŸŸ  398 - éšæœºæ•°ç´¢å¼•](https://leetcode.cn/problems/random-pick-index)
    > ç»™ä½ ä¸€ä¸ªå¯èƒ½å«æœ‰é‡å¤å…ƒç´ çš„æ•´æ•°æ•°ç»„ nums ï¼Œè¯·ä½ éšæœºè¾“å‡ºç»™å®šçš„ç›®æ ‡æ•°å­— target çš„ç´¢å¼•ã€‚ä½ å¯ä»¥å‡è®¾ç»™å®šçš„æ•°å­—ä¸€å®šå­˜åœ¨äºæ•°ç»„ä¸­ã€‚

        å®ç° Solution ç±»ï¼š
            Solution(int[] nums) ç”¨æ•°ç»„ nums åˆå§‹åŒ–å¯¹è±¡ã€‚
            int pick(int target) ä» nums ä¸­é€‰å‡ºä¸€ä¸ªæ»¡è¶³ nums[i] == target çš„éšæœºç´¢å¼• i ã€‚å¦‚æœå­˜åœ¨å¤šä¸ªæœ‰æ•ˆçš„ç´¢å¼•ï¼Œåˆ™æ¯ä¸ªç´¢å¼•çš„è¿”å›æ¦‚ç‡åº”å½“ç›¸ç­‰ã€‚

::: details ğŸ’¡

ã€æ€è·¯1ã€‘æ•°æ®é¢„å¤„ç†ï¼Œä½¿ç”¨å“ˆå¸Œè¡¨å°†å€¼ä½œä¸ºé”®ï¼Œç´¢å¼•å€¼é›†åˆä½œä¸ºå€¼ï¼Œè¿›è¡Œé¢„å¤„ç†ã€‚æŸ¥è¯¢æ—¶ï¼Œæ ¹æ®ç´¢å¼•åˆ—è¡¨è¿›è¡Œéšæœºè¿”å›ã€‚

ã€æ€è·¯ã€‘æ°´å¡˜æŠ½æ ·ç®—æ³•ï¼Œå½“åŒ¹é…åˆ°ç›®æ ‡å€¼æ—¶ï¼Œè¿›è¡Œæ°´å¡˜æŠ½æ ·ç®—æ³•å¤„ç†ã€‚

::: code-tabs

@tab java è§£æ³•1
```java
class Solution {

    private int[] nums;
    private Map<Integer, List<Integer>> map = new HashMap();
    private Random rand = new Random();

    public Solution(int[] nums) {
        this.nums = nums;
        for (int i = 0; i < nums.length; i++) {
            List<Integer> list = map.getOrDefault(nums[i], new LinkedList());
            list.add(i);
            map.put(nums[i], list);
        }
    }
    
    public int pick(int target) {
        List<Integer> list = map.get(target);
        return list.get(rand.nextInt(list.size()));
    }
}

/**
 * Your Solution object will be instantiated and called as such:
 * Solution obj = new Solution(nums);
 * int param_1 = obj.pick(target);
 */```

@tab java è§£æ³•2
```java
class Solution {

    private int[] nums;
    private Random rand = new Random();

    public Solution(int[] nums) {
        this.nums = nums;
    }
    
    public int pick(int target) {
        int result = 0;
        int count = 0;
        for (int i = 0; i < nums.length; i++) {
            if (nums[i] != target) continue;
            // åŒ¹é…ç›®æ ‡å€¼
            count += 1;
            if (rand.nextInt(count) == 0) { // 1/count æ¦‚ç‡ï¼Œè¿›è¡Œç»“æœç´¢å¼•æ›¿æ¢
                result = i;
            }
        }
        return result;
    }
}
```

:::

// #endregion 0398