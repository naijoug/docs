import{_ as t}from"./plugin-vue_export-helper-x3n3nnut.js";import{r as o,o as c,c as p,a as l,b as n,e as s,d as e,f as i}from"./app-4qjgWOI3.js";const u={},r=n("h2",{id:"reference",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#reference","aria-hidden":"true"},"#"),s(" reference")],-1),d={href:"https://pub.dev/packages/provider",target:"_blank",rel:"noopener noreferrer"},k={href:"https://github.com/rrousselGit/provider",target:"_blank",rel:"noopener noreferrer"},m=n("blockquote",null,[n("p",null,"InheritedWidgets, but simple")],-1),v=n("hr",null,null,-1),h={href:"https://juejin.cn/post/6844903864852807694",target:"_blank",rel:"noopener noreferrer"},b=i(`<h2 id="concept" tabindex="-1"><a class="header-anchor" href="#concept" aria-hidden="true">#</a> concept</h2><ul><li><code>ChangeNotifier</code> : 用于发送变化通知，模型数据改变时调用 <code>notifyListeners()</code> 通知订阅者。</li><li><code>ChangeNotifierProvider</code> : 用于向子节点提供一个 <code>ChangeNotifier</code> 实例。</li><li><code>Consumer</code> : 订阅 <code>ChangeNotifier</code> 的变化通知，发生变化时会调用 <code>builder</code> 函数。</li></ul><h2 id="usage" tabindex="-1"><a class="header-anchor" href="#usage" aria-hidden="true">#</a> usage</h2><blockquote><p>添加 provider 依赖</p></blockquote><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>flutter pub <span class="token function">add</span> provider
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-dart line-numbers-mode" data-ext="dart"><pre class="language-dart"><code>
<span class="token comment">// 上层 Widget 注入</span>
<span class="token class-name">ChangeNotifierProvider</span><span class="token punctuation">(</span>
  create<span class="token punctuation">:</span> <span class="token punctuation">(</span>context<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token class-name">MyModel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  child<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">TopWidget</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

<span class="token comment">// 下层 Widget 使用</span>
<span class="token class-name">Consumer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">MyModel</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>
  builder<span class="token punctuation">:</span> <span class="token punctuation">(</span>_<span class="token punctuation">,</span> model<span class="token punctuation">,</span> _<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name">BottomWidget</span><span class="token punctuation">(</span>model<span class="token punctuation">:</span> model<span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token comment">// Consumer - child 属于可以指定不需要刷新重建的子组件 </span>
<span class="token class-name">Consumer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">MyModel</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>
  builder<span class="token punctuation">:</span> <span class="token punctuation">(</span>context<span class="token punctuation">,</span> model<span class="token punctuation">,</span> child<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name">BottomWidget</span><span class="token punctuation">(</span>model<span class="token punctuation">:</span> model<span class="token punctuation">,</span> child<span class="token punctuation">:</span> child<span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  child<span class="token punctuation">:</span> <span class="token class-name">ChildWidget</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,6);function g(_,f){const a=o("ExternalLinkIcon");return c(),p("div",null,[l(" more "),r,n("ul",null,[n("li",null,[n("a",d,[s("provider"),e(a)])]),n("li",null,[n("a",k,[s("provider"),e(a)]),m])]),v,n("ul",null,[n("li",null,[n("a",h,[s("2019-06-13 状态管理指南篇——Provider"),e(a)])])]),b])}const N=t(u,[["render",g],["__file","provider.html.vue"]]);export{N as default};
