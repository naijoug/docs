import{_ as i}from"./plugin-vue_export-helper-x3n3nnut.js";import{r as e,o as r,c as k,a as o,b as n,e as s,d as a,w as c,f as d}from"./app-pRGiPbnF.js";const m={},v=n("h2",{id:"reference",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#reference","aria-hidden":"true"},"#"),s(" reference")],-1),b={href:"https://visualgo.net/zh/recursion/print",target:"_blank",rel:"noopener noreferrer"},f=d(`<h2 id="递归的本质" tabindex="-1"><a class="header-anchor" href="#递归的本质" aria-hidden="true">#</a> 递归的本质</h2><p>中文名“递归”这两个字很好的诠释了其核心操作“递 + 归”。</p><p>递的过程就是一层一层地调用递归函数，归的过程就是触发到边界条件之后进行每一层的递归函数返回，这一去一来的过程就是递归。</p><p>递归的本质是借助于系统的内存管理系统提供的栈实现，递的过程中会将该层函数调用的临时变量进行入栈操作，归的过程会将保存的临时变量进行出栈操作，并进行改层函数最终结果计算返回。</p><h2 id="递归问题" tabindex="-1"><a class="header-anchor" href="#递归问题" aria-hidden="true">#</a> 递归问题</h2><blockquote><p>递归求解的三要素</p></blockquote><ul><li>求解问题可以分解问子问题</li><li>求解问题与子问题具有相同的求解思路</li><li>存在递归终止条件</li></ul><blockquote><p>递归的弊端</p></blockquote><ul><li>递归层数较深，会照成堆栈溢出</li><li>递归过程中会存在重复计算</li><li>空间复杂度高，函数调用耗时</li></ul><blockquote><p>尾递归</p></blockquote><p>尾递归是在进行递归代码编写时，将递归的调用操作作为函数的最后一个操作直接。 这个时候依赖编译器的“尾调用优化”(Tail Call Optimization) 会将递归代码优化为迭代代码。编译的优化的关键在于函数的最后一步就是递归调用，这个时候就不需要新开辟栈，直接将控制器和调用交个调用函数。</p><p>尾递归的优化是编译器的特性，如果编程语言的编译器不支持“尾调用优化”，那么尾递归写法和常规递归也就没有区别了。</p><p>尾递归的写法其实是一种自底向上的一种写法，使用的迭代的思维，需要将子问题的求解结果，从边界情况一直向上传递。从代码理解成面来讲，如果想要使用尾递归优化，还不如直接将递归代码转化为迭代代码清晰。并且尾递归的优化依赖编程语言的编译器，并不一定是百分百有效。</p><details class="hint-container details"><summary>💡</summary><div class="language-swift line-numbers-mode" data-ext="swift"><pre class="language-swift"><code><span class="token comment">// 斐波纳契 : 0,1,1,2,3,5,8</span>
<span class="token comment">//  f(n) = f(n-1) + fn(n-2)</span>
<span class="token keyword">func</span> <span class="token function-definition function">fib</span><span class="token punctuation">(</span><span class="token omit keyword">_</span> n<span class="token punctuation">:</span> <span class="token class-name">Int</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">Int</span> <span class="token punctuation">{</span>
    <span class="token keyword">guard</span> n <span class="token operator">&gt;</span> <span class="token number">1</span> <span class="token keyword">else</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> n <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token function">f</span><span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">f</span><span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">// 尾递归优化</span>
<span class="token keyword">func</span> <span class="token function-definition function">fibTail</span><span class="token punctuation">(</span><span class="token omit keyword">_</span> n<span class="token punctuation">:</span> <span class="token class-name">Int</span><span class="token punctuation">,</span> current<span class="token punctuation">:</span> <span class="token class-name">Int</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> next<span class="token punctuation">:</span> <span class="token class-name">Int</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">Int</span> <span class="token punctuation">{</span>
    <span class="token keyword">guard</span> n <span class="token operator">!=</span> <span class="token number">0</span> <span class="token keyword">else</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> current <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token function">fibTail</span><span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> current<span class="token punctuation">:</span> next<span class="token punctuation">,</span> next<span class="token punctuation">:</span> current <span class="token operator">+</span> next<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">// 迭代</span>
<span class="token keyword">func</span> <span class="token function-definition function">fibTraverse</span><span class="token punctuation">(</span><span class="token omit keyword">_</span> n<span class="token punctuation">:</span> <span class="token class-name">Int</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">Int</span> <span class="token punctuation">{</span>
    <span class="token keyword">guard</span> n <span class="token operator">&gt;</span> <span class="token number">1</span> <span class="token keyword">else</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> n <span class="token punctuation">}</span>
    <span class="token keyword">var</span> pre <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">var</span> current <span class="token operator">=</span> <span class="token number">1</span>
    <span class="token keyword">for</span> <span class="token omit keyword">_</span> <span class="token keyword">in</span> <span class="token number">2</span><span class="token operator">...</span>n <span class="token punctuation">{</span>
         <span class="token keyword">let</span> next <span class="token operator">=</span> pre <span class="token operator">+</span> current
         pre <span class="token operator">=</span> current
         current <span class="token operator">=</span> next
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> current
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details><h2 id="运算表达式" tabindex="-1"><a class="header-anchor" href="#运算表达式" aria-hidden="true">#</a> 运算表达式</h2>`,15),h={href:"https://leetcode.cn/problems/different-ways-to-add-parentheses",target:"_blank",rel:"noopener noreferrer"},y=n("blockquote",null,[n("p",null,"给你一个由数字和运算符组成的字符串 expression ，按不同优先级组合数字和运算符，计算并返回所有可能组合的结果。你可以 按任意顺序 返回答案。 生成的测试用例满足其对应输出值符合 32 位整数范围，不同结果的数量不超过 104 。 expression 由数字和算符 '+'、'-' 和 '*' 组成。 输入表达式中的所有整数值在范围 [0, 99]")],-1),w=n("pre",null,[n("code",null,`  🌰
      输入：expression = "2-1-1"
      输出：[0,2]
      解释：
      ((2-1)-1) = 0 
      (2-(1-1)) = 2
  🌰
      输入：expression = "2*3-4*5"
      输出：[-34,-14,-10,-10,10]
      解释：
      (2*(3-(4*5))) = -34 
      ((2*3)-(4*5)) = -14 
      ((2*(3-4))*5) = -10 
      (2*((3-4)*5)) = -10 
      (((2*3)-4)*5) = 10
`)],-1),_={class:"hint-container details"},g=n("summary",null,"💡",-1),x=n("p",null,"【思路】分治法+递归，根据操作进行子串分割，递归进行左右子串计算，直到无操作符时将转化为数字，左右部分根据操作符进行运算求解。",-1),I=n("div",{class:"language-java line-numbers-mode","data-ext":"java"},[n("pre",{class:"language-java"},[n("code",null,[n("span",{class:"token keyword"},"class"),s(),n("span",{class:"token class-name"},"Solution"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token class-name"},"List"),n("span",{class:"token generics"},[n("span",{class:"token punctuation"},"<"),n("span",{class:"token class-name"},"Integer"),n("span",{class:"token punctuation"},">")]),s(),n("span",{class:"token function"},"diffWaysToCompute"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"String"),s(" expression"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token keyword"},"return"),s(),n("span",{class:"token function"},"diffWaysToCompute"),n("span",{class:"token punctuation"},"("),s("expression"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"toCharArray"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`

    `),n("span",{class:"token keyword"},"private"),s(),n("span",{class:"token class-name"},"List"),n("span",{class:"token generics"},[n("span",{class:"token punctuation"},"<"),n("span",{class:"token class-name"},"Integer"),n("span",{class:"token punctuation"},">")]),s(),n("span",{class:"token function"},"diffWaysToCompute"),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"char"),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"]"),s(" chars"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token class-name"},"List"),n("span",{class:"token generics"},[n("span",{class:"token punctuation"},"<"),n("span",{class:"token class-name"},"Integer"),n("span",{class:"token punctuation"},">")]),s(" result "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"ArrayList"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token keyword"},"for"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"int"),s(" i "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token number"},"0"),n("span",{class:"token punctuation"},";"),s(" i "),n("span",{class:"token operator"},"<"),s(" chars"),n("span",{class:"token punctuation"},"."),s("length"),n("span",{class:"token punctuation"},";"),s(" i"),n("span",{class:"token operator"},"++"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
            `),n("span",{class:"token keyword"},"char"),s(" c "),n("span",{class:"token operator"},"="),s(" chars"),n("span",{class:"token punctuation"},"["),s("i"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},";"),s(`
            `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token operator"},"!"),n("span",{class:"token punctuation"},"("),s("c "),n("span",{class:"token operator"},"=="),s(),n("span",{class:"token char"},"'+'"),s(),n("span",{class:"token operator"},"||"),s(" c "),n("span",{class:"token operator"},"=="),s(),n("span",{class:"token char"},"'-'"),s(),n("span",{class:"token operator"},"||"),s(" c "),n("span",{class:"token operator"},"=="),s(),n("span",{class:"token char"},"'*'"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token keyword"},"continue"),n("span",{class:"token punctuation"},";"),s(`
            `),n("span",{class:"token comment"},"// 是操作符"),s(`
            `),n("span",{class:"token comment"},"// 截取操作符两边字符串继续分治递归进行子串计算"),s(`
            `),n("span",{class:"token keyword"},"char"),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"]"),s(" lChars "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token class-name"},"Arrays"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"copyOfRange"),n("span",{class:"token punctuation"},"("),s("chars"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token number"},"0"),n("span",{class:"token punctuation"},","),s(" i"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
            `),n("span",{class:"token keyword"},"char"),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"]"),s(" rChars "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token class-name"},"Arrays"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"copyOfRange"),n("span",{class:"token punctuation"},"("),s("chars"),n("span",{class:"token punctuation"},","),s(" i "),n("span",{class:"token operator"},"+"),s(),n("span",{class:"token number"},"1"),n("span",{class:"token punctuation"},","),s(" chars"),n("span",{class:"token punctuation"},"."),s("length"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
            `),n("span",{class:"token class-name"},"List"),n("span",{class:"token generics"},[n("span",{class:"token punctuation"},"<"),n("span",{class:"token class-name"},"Integer"),n("span",{class:"token punctuation"},">")]),s(" lNums "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token function"},"diffWaysToCompute"),n("span",{class:"token punctuation"},"("),s("lChars"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
            `),n("span",{class:"token class-name"},"List"),n("span",{class:"token generics"},[n("span",{class:"token punctuation"},"<"),n("span",{class:"token class-name"},"Integer"),n("span",{class:"token punctuation"},">")]),s(" rNums "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token function"},"diffWaysToCompute"),n("span",{class:"token punctuation"},"("),s("rChars"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
            `),n("span",{class:"token comment"},"// 对左右两部分结果进行计算"),s(`
            `),n("span",{class:"token keyword"},"for"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"Integer"),s(" left "),n("span",{class:"token operator"},":"),s(" lNums"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
                `),n("span",{class:"token keyword"},"for"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"Integer"),s(" right "),n("span",{class:"token operator"},":"),s(" rNums"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
                    `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),s("c "),n("span",{class:"token operator"},"=="),s(),n("span",{class:"token char"},"'+'"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
                        result`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"add"),n("span",{class:"token punctuation"},"("),s("left "),n("span",{class:"token operator"},"+"),s(" right"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
                    `),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"else"),s(),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),s("c "),n("span",{class:"token operator"},"=="),s(),n("span",{class:"token char"},"'-'"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
                        result`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"add"),n("span",{class:"token punctuation"},"("),s("left "),n("span",{class:"token operator"},"-"),s(" right"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
                    `),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"else"),s(),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),s("c "),n("span",{class:"token operator"},"=="),s(),n("span",{class:"token char"},"'*'"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
                        result`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"add"),n("span",{class:"token punctuation"},"("),s("left "),n("span",{class:"token operator"},"*"),s(" right"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
                    `),n("span",{class:"token punctuation"},"}"),s(`
                `),n("span",{class:"token punctuation"},"}"),s(`
            `),n("span",{class:"token punctuation"},"}"),s(`
        `),n("span",{class:"token punctuation"},"}"),s(`
        `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),s("result"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"isEmpty"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(),n("span",{class:"token comment"},"// 没有操作符，仅剩数字了"),s(`
            result`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"add"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"Integer"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"parseInt"),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"String"),n("span",{class:"token punctuation"},"("),s("chars"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token punctuation"},"}"),s(`
        `),n("span",{class:"token keyword"},"return"),s(" result"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1);function C(T,N){const t=e("ExternalLinkIcon"),p=e("CodeTabs");return r(),k("div",null,[o(" more "),v,n("ul",null,[n("li",null,[n("a",b,[s("递归"),a(t)])])]),f,o(" 🟠 为运算表达式设计优先级 "),n("ul",null,[n("li",null,[n("p",null,[n("a",h,[s("🟠 241 - 为运算表达式设计优先级"),a(t)])]),y,w])]),n("details",_,[g,x,a(p,{id:"109",data:[{id:"java"}]},{title0:c(({value:l,isActive:u})=>[s("java")]),tab0:c(({value:l,isActive:u})=>[I]),_:1})])])}const A=i(m,[["render",C],["__file","0x04.recursion.html.vue"]]);export{A as default};
