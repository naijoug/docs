import{_ as o}from"./plugin-vue_export-helper-x3n3nnut.js";import{r as p,o as l,c,a as i,b as n,e as s,d as e,f as t}from"./app-7SE9az9E.js";const r={},u=n("h2",{id:"reference",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#reference","aria-hidden":"true"},"#"),s(" Reference")],-1),d={href:"http://www.cnblogs.com/mchina/archive/2012/11/27/2782993.html",target:"_blank",rel:"noopener noreferrer"},k={href:"http://blog.itpub.net/24162410/viewspace-1814344/",target:"_blank",rel:"noopener noreferrer"},m=t(`<h2 id="usage" tabindex="-1"><a class="header-anchor" href="#usage" aria-hidden="true">#</a> Usage</h2><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>$ <span class="token function">su</span> - oracle           <span class="token comment"># 切换到 oracle 用户</span>
$ sqlplus / as sysdba   <span class="token comment"># 启动 &amp; 作为 sysdba 用户登录</span>
<span class="token comment"># 或者</span>
$ sqlplus /nolog        <span class="token comment"># 启动数据库实例</span>
<span class="token operator">&gt;</span> conn as sysdba        <span class="token comment"># 作为 sysdba 用户登录</span>
<span class="token comment"># 监听</span>
$ lsnrctl status        <span class="token comment"># 查看监听状态</span>
$ lsnrctl start         <span class="token comment"># 启用监听(启动数据库之后)</span>
$ lsnrctl stop          <span class="token comment"># 停止监听</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token operator">&gt;</span> startup<span class="token punctuation">;</span>              <span class="token comment"># 启动Oracle</span>
<span class="token operator">&gt;</span> <span class="token function">shutdown</span> normal<span class="token punctuation">;</span>      <span class="token comment"># 正常方式关闭数据库</span>
<span class="token operator">&gt;</span> <span class="token function">shutdown</span> immediate<span class="token punctuation">;</span>   <span class="token comment"># 立即方式关闭数据库</span>
<span class="token operator">&gt;</span> <span class="token function">shutdown</span> abort<span class="token punctuation">;</span>       <span class="token comment"># 直接关闭数据库</span>
<span class="token operator">&gt;</span> show parameter service_names      <span class="token comment"># 显示服务名</span>
<span class="token operator">&gt;</span> alter system register<span class="token punctuation">;</span>            <span class="token comment"># 强制注册服务</span>

<span class="token operator">&gt;</span> <span class="token keyword">select</span> username from dba_users<span class="token punctuation">;</span>   <span class="token comment"># 查看所有Oracle用户</span>
<span class="token operator">&gt;</span> <span class="token keyword">select</span> * from <span class="token function">v</span><span class="token variable">$instance</span><span class="token punctuation">;</span>         <span class="token comment"># 查看sid实例名</span>
<span class="token operator">&gt;</span> <span class="token keyword">select</span> * from <span class="token function">v</span><span class="token variable">$tablespace</span><span class="token punctuation">;</span>       <span class="token comment"># 查看所有的表空间</span>
<span class="token operator">&gt;</span> <span class="token keyword">select</span> * from <span class="token function">v</span><span class="token variable">$tempfile</span><span class="token punctuation">;</span>         <span class="token comment"># 查看临时表空间</span>
<span class="token operator">&gt;</span> <span class="token keyword">select</span> name from <span class="token function">v</span><span class="token variable">$datafile</span><span class="token punctuation">;</span>      <span class="token comment"># 查看数据库表空间位置</span>
<span class="token operator">&gt;</span> <span class="token keyword">select</span> * from <span class="token function">v</span><span class="token variable">$controlfile</span><span class="token punctuation">;</span>      <span class="token comment"># 查看控制文件</span>
<span class="token operator">&gt;</span> show error<span class="token punctuation">;</span>                       <span class="token comment"># 查看是否有错误</span>
<span class="token operator">&gt;</span> show user<span class="token punctuation">;</span>                        <span class="token comment"># 查看当前登录的用户</span>
<span class="token operator">&gt;</span> conn user/password<span class="token punctuation">;</span>               <span class="token comment"># 切换用户</span>

<span class="token comment"># 新建表空间</span>
<span class="token operator">&gt;</span> CREATE TABLESPACE <span class="token string">&quot;PMSDB&quot;</span>  LOGGING DATAFILE <span class="token string">&#39;/oracle/oradata/orcl/PMSDB.dbf&#39;</span> SIZE 102400M EXTENT MANAGEMENT LOCAL SEGMENT SPACE MANAGEMENT  AUTO <span class="token punctuation">;</span>
<span class="token comment"># 在表空间新建用户</span>
<span class="token operator">&gt;</span> Create user byrh_pms identified by password default tablespace <span class="token function">users</span> temporary tablespace PMSDB <span class="token punctuation">;</span>
<span class="token operator">&gt;</span> CREATE <span class="token environment constant">USER</span> KPLUS IDENTIFIED BY calypso DEFAULT TABLESPACE CALYPSO TEMPORARY TABLESPACE temp<span class="token punctuation">;</span>
<span class="token comment"># 授权用户</span>
<span class="token operator">&gt;</span> Grant connect,resource To byrh_pms<span class="token punctuation">;</span>
<span class="token operator">&gt;</span> GRANT SELECT ANY TABLE TO KPLUS<span class="token punctuation">;</span>
<span class="token operator">&gt;</span> GRANT UNLIMITED TABLESPACE TO KPLUS<span class="token punctuation">;</span>
<span class="token operator">&gt;</span> GRANT UPDATE ANY TABLE TO KPLUS<span class="token punctuation">;</span>
<span class="token operator">&gt;</span> grant create table to KPLUS<span class="token punctuation">;</span>
<span class="token operator">&gt;</span> grant create view to KPLUS<span class="token punctuation">;</span>
<span class="token operator">&gt;</span> GRANT RESOURCE TO KPLUS<span class="token punctuation">;</span>
<span class="token operator">&gt;</span> GRANT CONNECT TO KPLUS<span class="token punctuation">;</span>
<span class="token operator">&gt;</span> GRANT CREATE <span class="token environment constant">SESSION</span> TO KPLUS<span class="token punctuation">;</span>
<span class="token operator">&gt;</span> grant query rewrite to KPLUS<span class="token punctuation">;</span>
<span class="token comment"># 指定用户建表</span>
<span class="token operator">&gt;</span> CREATE TABLE <span class="token string">&quot;BYRH_PMS&quot;</span><span class="token builtin class-name">.</span><span class="token string">&quot;AUDITTRAIT&quot;</span>
<span class="token punctuation">(</span>
  <span class="token string">&quot;ID&quot;</span> NUMBER<span class="token punctuation">(</span><span class="token number">8,0</span><span class="token punctuation">)</span> NOT NULL ENABLE, 
  <span class="token string">&quot;USER_NAME&quot;</span> VARCHAR2<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> NOT NULL ENABLE, 
  <span class="token string">&quot;MODULESTYPE&quot;</span> NUMBER<span class="token punctuation">(</span><span class="token number">1,0</span><span class="token punctuation">)</span> NOT NULL ENABLE, 
  <span class="token string">&quot;TYPE&quot;</span> NUMBER<span class="token punctuation">(</span><span class="token number">1,0</span><span class="token punctuation">)</span> NOT NULL ENABLE, 
  <span class="token string">&quot;MODULE_ID&quot;</span> VARCHAR2<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span>, 
  <span class="token string">&quot;CURRENCIESPARIES_ID&quot;</span> VARCHAR2<span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span>, 
  <span class="token string">&quot;IP&quot;</span> VARCHAR2<span class="token punctuation">(</span><span class="token number">18</span><span class="token punctuation">)</span> NOT NULL ENABLE, 
  <span class="token string">&quot;OPERATETYPE&quot;</span> NUMBER<span class="token punctuation">(</span><span class="token number">1,0</span><span class="token punctuation">)</span> NOT NULL ENABLE, 
  <span class="token string">&quot;OPERATERESULT&quot;</span> NUMBER<span class="token punctuation">(</span><span class="token number">1,0</span><span class="token punctuation">)</span> NOT NULL ENABLE, 
  <span class="token string">&quot;MESSAGETEXT&quot;</span> VARCHAR2<span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span>, 
  <span class="token string">&quot;CREATETIME&quot;</span> DATE NOT NULL ENABLE, 
  <span class="token string">&quot;RESERVEDINT1&quot;</span> NUMBER<span class="token punctuation">(</span><span class="token number">4,0</span><span class="token punctuation">)</span>, 
  <span class="token string">&quot;RESERVEDINT2&quot;</span> NUMBER<span class="token punctuation">(</span><span class="token number">4,0</span><span class="token punctuation">)</span>, 
  <span class="token string">&quot;RESERVEDINT3&quot;</span> NUMBER<span class="token punctuation">(</span><span class="token number">4,0</span><span class="token punctuation">)</span>, 
  <span class="token string">&quot;RESERVEDCHAR1&quot;</span> VARCHAR2<span class="token punctuation">(</span><span class="token number">512</span><span class="token punctuation">)</span>, 
  <span class="token string">&quot;RESERVEDCHAR2&quot;</span> VARCHAR2<span class="token punctuation">(</span><span class="token number">512</span><span class="token punctuation">)</span>, 
  <span class="token string">&quot;RESERVEDCHAR3&quot;</span> VARCHAR2<span class="token punctuation">(</span><span class="token number">512</span><span class="token punctuation">)</span>, 
  CONSTRAINT <span class="token string">&quot;AUDITTRAIT_KEY&quot;</span> PRIMARY KEY <span class="token punctuation">(</span><span class="token string">&quot;ID&quot;</span><span class="token punctuation">)</span>
 <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="solutions" tabindex="-1"><a class="header-anchor" href="#solutions" aria-hidden="true">#</a> Solutions</h2><ul><li>Oracle命令行删除键变为<code>^H</code></li></ul>`,5),v={href:"http://www.mylinuxer.com/?p=434",target:"_blank",rel:"noopener noreferrer"},b=t(`<div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>$ stty erase ^H     <span class="token comment"># 抹去^H，使得删除键生效</span>
$ stty erase ^?     <span class="token comment"># 还原 </span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>Oracle命令行乱码问题</li></ul>`,2),E={href:"http://blog.csdn.net/beyondlpf/article/details/7326239",target:"_blank",rel:"noopener noreferrer"},g=t(`<div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>$ <span class="token builtin class-name">export</span> <span class="token assign-left variable">NLS_LANG</span><span class="token operator">=</span>AMERICAN_AMERICA.UTF8 <span class="token comment"># 增加环境变量，根据数据库的字符集</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>ORA-12519: TNS:no appropriate service handler found</li></ul>`,2),A={href:"http://www.myexception.cn/database/506595.html",target:"_blank",rel:"noopener noreferrer"},h=t(`<div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>SQL<span class="token operator">&gt;</span> <span class="token keyword">select</span> count<span class="token punctuation">(</span>*<span class="token punctuation">)</span> from <span class="token function">v</span><span class="token variable">$process</span><span class="token punctuation">;</span>                            <span class="token comment"># 当前连接数</span>
SQL<span class="token operator">&gt;</span> <span class="token keyword">select</span> value from <span class="token function">v</span><span class="token variable">$parameter</span> where name <span class="token operator">=</span> <span class="token string">&#39;processes&#39;</span><span class="token punctuation">;</span>    <span class="token comment"># 数据库允许的最大连接数</span>
SQL<span class="token operator">&gt;</span> alter system setprocesses <span class="token operator">=</span> <span class="token number">1000</span> scope <span class="token operator">=</span> spfile<span class="token punctuation">;</span>           <span class="token comment"># 修改最大连接数</span>
<span class="token comment"># 重启数据库</span>
SQL<span class="token operator">&gt;</span> <span class="token function">shutdown</span> immediate<span class="token punctuation">;</span>    
SQL<span class="token operator">&gt;</span> startup<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>ORA-21561</li></ul>`,2),R={href:"http://www.jianshu.com/p/45d7e8b6f93c",target:"_blank",rel:"noopener noreferrer"};function T(N,L){const a=p("ExternalLinkIcon");return l(),c("div",null,[i(" more "),u,n("ul",null,[n("li",null,[n("a",d,[s("Linux Oracle服务启动&停止脚本与开机自启动"),e(a)])]),n("li",null,[n("a",k,[s("oracle 启动监听提示 ：The listener supports no services"),e(a)])])]),m,n("blockquote",null,[n("p",null,[s("Solution : "),n("a",v,[s("oralce命令行下无法用删除键的解决方法"),e(a)])])]),b,n("blockquote",null,[n("p",null,[s("Solution : "),n("a",E,[s("sqlplus连接oracle中文乱码"),e(a)])])]),g,n("blockquote",null,[n("p",null,[s("Solution : "),n("a",A,[s("ORA-12519:TNS:no appropriate service handler found 的解决办法"),e(a)])])]),h,n("blockquote",null,[n("p",null,[s("Solution : "),n("a",R,[s("解决ORA-21561: OID generation failed"),e(a)])])])])}const _=o(r,[["render",T],["__file","oracle.html.vue"]]);export{_ as default};
