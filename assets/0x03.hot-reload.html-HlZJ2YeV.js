import{_ as e}from"./plugin-vue_export-helper-x3n3nnut.js";import{o,c as d,a as c,f as t}from"./app-UFGkdp2j.js";const a={},l=t('<h3 id="❓aot-vs-jit" tabindex="-1"><a class="header-anchor" href="#❓aot-vs-jit" aria-hidden="true">#</a> ❓<code>AOT</code> vs <code>JIT</code></h3><details class="hint-container details"><summary>💡</summary><p><code>AOT</code>（Ahead-of-time Compilation）和<code>JIT</code>（Just-In-Time Compilation）是两种编译方式，它们都用于将高级语言编译为可以直接执行的机器语言，但编译时间和方式有所不同。</p><ul><li><p><code>AOT</code>(Ahead Of Time) : 提前编译或运行前编译，程序运行前已经编译成对应平台的机器码，可以直接运行。</p><blockquote><p><code>AOT</code> 的优点：运行时可以直接执行，不会有编译的额外开销，有更快的启动速度、更高的执行效率，更小的内存占用等优势。缺点：<code>AOT</code> 直接编译机器码，所以对平台有依赖，即不同的平台需要编译不同的二进制程序，并且修改和 <code>debug</code> 相对麻烦。</p></blockquote></li><li><p><code>JIT</code>(Just In Time) : 即时编译或运行时编译，程序运行时编译成运行平台的机器码，提高运行效率。</p><blockquote><p><code>JIT</code> 是一种“动态编译”技术，它并不是在打包时就完成编译，而是在运行时根据需要将某些热点代码（频繁执行或重要性很高的代码）编译成机器码后缓存起来，下次运行直接调用，大大减少了解释执行的次数，提高了执行效率。并且，因为可以在运行期进行优化，所以某些性能优化策略在 <code>JIT</code> 下会表现得更好。问题在于对于非热点代码执行效率相较 <code>AOT</code> 要低，因其额外的编译时间开销，可能会导致更慢的应用程序启动和更大的内存占用。</p></blockquote></li></ul></details><h3 id="❓hot-reload-vs-hot-restart-vs-hot-update" tabindex="-1"><a class="header-anchor" href="#❓hot-reload-vs-hot-restart-vs-hot-update" aria-hidden="true">#</a> ❓<code>Hot Reload</code> vs <code>Hot Restart</code> vs <code>Hot Update</code></h3><details class="hint-container details"><summary>💡</summary><ul><li><p><code>Hot Reload</code>（热重载）：在不停止应用程序的情况下注入更新的源代码文件，<code>Flutter</code> 框架会在运行时接收更改并重新构建视图。热重载在更改代码后几乎实时更新用户界面，大大提升了开发效率。</p></li><li><p><code>Hot Restart</code>（热重启）：与热重载相比，热重启会将应用程序重置为其初始状态，但不需要重新编译整个应用程序。主要用于主动更改全局状态或应用程序实现的情况。与热重载相比，它花费的时间要多一些，但仍然比完全重启应用程序要短。</p></li><li><p><code>Hot Update</code>（热更新）：热更新主要是指在应用上线之后，对应用进行更新升级，而无需用户去应用市场重新下载安装。主要是通过下载差异包，用新包覆盖旧包中需要更新的部分实现。热更新可以及时修复线上问题，并且不需要审核。但是由于不同地区的政策法规问题，热更新并不是在所有平台上都可以使用。</p></li></ul><p>总结：<code>Hot Reload</code>（热重载）和 <code>Hot Restart</code>（热重启）主要针对开发者在开发阶段；<code>Hot Update</code>（热更新）主要针对的是应用发布后的版本更新。</p></details><h3 id="❓flutter-是如何实现热重载的" tabindex="-1"><a class="header-anchor" href="#❓flutter-是如何实现热重载的" aria-hidden="true">#</a> ❓<code>Flutter</code> 是如何实现热重载的</h3><details class="hint-container details"><summary>💡</summary><ul><li><p><code>Dart</code> 语言：支持即时（<code>JIT</code>）编译，使得开发者可以在程序运行时修改代码。一旦代码发生变化，<code>Dart</code> 的即时编译器就会编译这些变化的代码，然后把新生成的字节码直接插入到正在运行的 <code>Dart</code> 虚拟机中。</p></li><li><p><code>Flutter</code> 的 <code>Widgets</code> 框架：<code>Widget</code> 和 <code>Element</code> 两个对象分别负责描述界面和实际构建界面，在热重载过程中，重新执行 <code>build</code> 方法来构建新的 <code>Widget</code> 树，老的 <code>Element</code> 树会尽可能地复用，这样既保证了状态的保存，也能够正确的显示新的 <code>UI</code>。</p></li><li><p>热重载时，<code>Dart</code> 会重新执行 <code>main()</code> 函数，<code>Flutter</code> 框架将新生成的 <code>Widget Tree</code> 与旧的 <code>Element Tree</code> 进行对比，并根据对比结果更新 <code>UI</code>。在这个革新过程中，应用的状态将会被保留。</p></li></ul></details>',6);function i(r,s){return o(),d("div",null,[c(" more "),l])}const u=e(a,[["render",i],["__file","0x03.hot-reload.html.vue"]]);export{u as default};
