import{_ as o}from"./plugin-vue_export-helper-x3n3nnut.js";import{r as p,o as c,c as l,a as i,b as n,e as s,d as t,f as e}from"./app-uNK90VvC.js";const u={},d=n("blockquote",null,[n("p",null,[n("code",null,"Message Forwarding"),s(" - “消息转发”")])],-1),r=e('<h2 id="oc-中的消息转发" tabindex="-1"><a class="header-anchor" href="#oc-中的消息转发" aria-hidden="true">#</a> <code>OC</code> 中的消息转发</h2><blockquote><p>消息转发 : <code>resolveInstanceMethod: -&gt; forwardingTargetForSelector: -&gt; methodSignatureForSelector: -&gt; forwardInvocation:</code></p></blockquote><table><thead><tr><th>函数</th><th>说明</th></tr></thead><tbody><tr><td><code>resolveInstanceMethod:</code></td><td>实例方法是否为动态添加</td></tr><tr><td><code>resolveClassMethod</code></td><td>类方法是否为动态添加</td></tr><tr><td><code>forwardingTargetForSelector:</code></td><td>指定那个对象响应消息</td></tr><tr><td><code>methodSignatureForSelector:</code></td><td>进行方法签名</td></tr><tr><td><code>forwardInvocation:</code></td><td>根据签名创建 NSInvocation</td></tr></tbody></table><h2 id="swift-中的方法派发" tabindex="-1"><a class="header-anchor" href="#swift-中的方法派发" aria-hidden="true">#</a> <code>Swift</code> 中的方法派发</h2><p>派发方式 :</p><ul><li>静态派发</li><li>动态派发 <ul><li>函数表派发 : 基于 <code>VTable</code> (Virtual Method Table)</li><li>消息派发 : 基于 OC 运行时机制</li></ul></li></ul><p>派发效率 : <code>静态派发</code> &gt; <code>函数表派发</code> &gt; <code>消息派发</code></p><ul><li>静态派发 : <code>swift</code> 中大多数类型被设计为值类型(<code>struct</code>、<code>enum</code>)，值类型的方法都是静态派发。如果是 <code>final</code> 修饰引用类型也是静态派发。<code>extension</code> 中的方法也是静态派发。通过 <code>function_ref</code> 指令调用方法。</li><li>函数表派发 : 属于动态派发，对于引用类型，不是 <code>extension</code> 中的方法是通过 <code>VTable</code>(Virtual Method Table) 虚方法表进行派发。还存在一中 <code>WTable</code>(Witness Table) 见证者表，用于保存引用类型实现的协议方法。通过 <code>class_method</code> 指令调用方法。</li><li>消息转发 : 属于动态派发，使用 <code>@objc</code> 和 <code>dynamic</code> 修饰的方法通过消息转发。仅通过 <code>@objc</code> 修饰的方法，不会改变派发方式，仅生成一个可供 <code>OC</code> 使用的方法。通过 <code>objc_method</code> 指令调用方法。</li></ul><h2 id="objc-msgsend-消息发送" tabindex="-1"><a class="header-anchor" href="#objc-msgsend-消息发送" aria-hidden="true">#</a> <code>objc_msgSend</code> - “消息发送”</h2>',9),k={href:"https://github.com/apple-oss-distributions/objc4/blob/objc4-906/runtime/Messengers.subproj/objc-msg-arm64.s",target:"_blank",rel:"noopener noreferrer"},v=e(`<div class="language-objc line-numbers-mode" data-ext="objc"><pre class="language-objc"><code><span class="token comment">// file: message.h</span>
<span class="token comment">// line:83 objc_msgSend 函数声明</span>
OBJC_EXPORT id _Nullable
<span class="token function">objc_msgSend</span><span class="token punctuation">(</span>id _Nullable <span class="token keyword">self</span><span class="token punctuation">,</span> SEL _Nonnull op<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-objc line-numbers-mode" data-ext="objc"><pre class="language-objc"><code><span class="token comment">// file: objc-msg-arm64.s</span>
<span class="token comment">// line: 575 objc_msgSend 汇编实现</span>
    MSG_ENTRY _objc_msgSend
	UNWIND _objc_msgSend<span class="token punctuation">,</span> NoFrame

	cmp	p0<span class="token punctuation">,</span> #<span class="token number">0</span>			<span class="token comment">// nil check and tagged pointer check</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">if</span> <span class="token expression">SUPPORT_TAGGED_POINTERS</span></span>
	b<span class="token punctuation">.</span>le	LNilOrTagged		<span class="token comment">//  (MSB tagged pointer looks negative)</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">else</span></span>
	b<span class="token punctuation">.</span>eq	LReturnZero
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span></span>
	ldr	p14<span class="token punctuation">,</span> <span class="token punctuation">[</span>x0<span class="token punctuation">]</span>		<span class="token comment">// p14 = raw isa</span>
	GetClassFromIsa_p16 p14<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> x0	<span class="token comment">// p16 = class</span>
LGetIsaDone<span class="token punctuation">:</span>
	<span class="token comment">// calls imp or objc_msgSend_uncached</span>
	CacheLookup NORMAL<span class="token punctuation">,</span> _objc_msgSend<span class="token punctuation">,</span> __objc_msgSend_uncached

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">if</span> <span class="token expression">SUPPORT_TAGGED_POINTERS</span></span>
LNilOrTagged<span class="token punctuation">:</span>
	b<span class="token punctuation">.</span>eq	LReturnZero		<span class="token comment">// nil check</span>
	GetTaggedClass
	b	LGetIsaDone
<span class="token comment">// SUPPORT_TAGGED_POINTERS</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span></span>

LReturnZero<span class="token punctuation">:</span>
	<span class="token comment">// x0 is already zero</span>
	mov	x1<span class="token punctuation">,</span> #<span class="token number">0</span>
	movi	d0<span class="token punctuation">,</span> #<span class="token number">0</span>
	movi	d1<span class="token punctuation">,</span> #<span class="token number">0</span>
	movi	d2<span class="token punctuation">,</span> #<span class="token number">0</span>
	movi	d3<span class="token punctuation">,</span> #<span class="token number">0</span>
	ret

	END_ENTRY _objc_msgSend
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>转发流程： <code>resolveInstanceMethod</code> -&gt; <code>forwardingTargetForSelector</code> -&gt; <code>methodSignatureForSelector</code> -&gt; <code>forwardInvocation</code> -&gt; 无法处理</p><div class="language-objc line-numbers-mode" data-ext="objc"><pre class="language-objc"><code><span class="token comment">// file: objc-runtime-new.mm</span>
<span class="token comment">// line:7085</span>
<span class="token comment">/***********************************************************************
* resolveClassMethod
* Call +resolveClassMethod, looking for a method to be added to class cls.
* cls should be a metaclass.
* Does not check if the method already exists.
**********************************************************************/</span>
<span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">resolveClassMethod</span><span class="token punctuation">(</span>id inst<span class="token punctuation">,</span> SEL sel<span class="token punctuation">,</span> Class cls<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    lockdebug<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">assert_unlocked</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>runtimeLock<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">ASSERT</span><span class="token punctuation">(</span>cls<span class="token operator">-&gt;</span><span class="token function">isRealized</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">ASSERT</span><span class="token punctuation">(</span>cls<span class="token operator">-&gt;</span><span class="token function">isMetaClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">lookUpImpOrNilTryCache</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span> <span class="token keyword">@selector</span><span class="token punctuation">(</span>resolveClassMethod<span class="token punctuation">:</span><span class="token punctuation">)</span><span class="token punctuation">,</span> cls<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// Resolver not implemented.</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    Class nonmeta<span class="token punctuation">;</span>
    <span class="token punctuation">{</span>
        mutex_locker_t <span class="token function">lock</span><span class="token punctuation">(</span>runtimeLock<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 互斥锁，上锁</span>
        nonmeta <span class="token operator">=</span> <span class="token function">getMaybeUnrealizedNonMetaClass</span><span class="token punctuation">(</span>cls<span class="token punctuation">,</span> inst<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// +initialize path should have realized nonmeta already</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>nonmeta<span class="token operator">-&gt;</span><span class="token function">isRealized</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">_objc_fatal</span><span class="token punctuation">(</span><span class="token string">&quot;nonmeta class %s (%p) unexpectedly not realized&quot;</span><span class="token punctuation">,</span>
                        nonmeta<span class="token operator">-&gt;</span><span class="token function">nameForLogging</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> nonmeta<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token function">BOOL</span> <span class="token punctuation">(</span><span class="token operator">*</span>msg<span class="token punctuation">)</span><span class="token punctuation">(</span>Class<span class="token punctuation">,</span> SEL<span class="token punctuation">,</span> SEL<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span><span class="token punctuation">)</span>objc_msgSend<span class="token punctuation">;</span>
    bool resolved <span class="token operator">=</span> <span class="token function">msg</span><span class="token punctuation">(</span>nonmeta<span class="token punctuation">,</span> <span class="token keyword">@selector</span><span class="token punctuation">(</span>resolveClassMethod<span class="token punctuation">:</span><span class="token punctuation">)</span><span class="token punctuation">,</span> sel<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Cache the result (good or bad) so the resolver doesn&#39;t fire next time.</span>
    <span class="token comment">// +resolveClassMethod adds to self-&gt;ISA() a.k.a. cls</span>
    IMP imp <span class="token operator">=</span> <span class="token function">lookUpImpOrNilTryCache</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span> sel<span class="token punctuation">,</span> cls<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>resolved  <span class="token operator">&amp;&amp;</span>  PrintResolving<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>imp<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">_objc_inform</span><span class="token punctuation">(</span><span class="token string">&quot;RESOLVE: method %c[%s %s] &quot;</span>
                         <span class="token string">&quot;dynamically resolved to %p&quot;</span><span class="token punctuation">,</span>
                         cls<span class="token operator">-&gt;</span><span class="token function">isMetaClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token char">&#39;+&#39;</span> <span class="token punctuation">:</span> <span class="token char">&#39;-&#39;</span><span class="token punctuation">,</span>
                         cls<span class="token operator">-&gt;</span><span class="token function">nameForLogging</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">sel_getName</span><span class="token punctuation">(</span>sel<span class="token punctuation">)</span><span class="token punctuation">,</span> imp<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token comment">// Method resolver didn&#39;t add anything?</span>
            <span class="token function">_objc_inform</span><span class="token punctuation">(</span><span class="token string">&quot;RESOLVE: +[%s resolveClassMethod:%s] returned YES&quot;</span>
                         <span class="token string">&quot;, but no new implementation of %c[%s %s] was found&quot;</span><span class="token punctuation">,</span>
                         cls<span class="token operator">-&gt;</span><span class="token function">nameForLogging</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">sel_getName</span><span class="token punctuation">(</span>sel<span class="token punctuation">)</span><span class="token punctuation">,</span>
                         cls<span class="token operator">-&gt;</span><span class="token function">isMetaClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token char">&#39;+&#39;</span> <span class="token punctuation">:</span> <span class="token char">&#39;-&#39;</span><span class="token punctuation">,</span>
                         cls<span class="token operator">-&gt;</span><span class="token function">nameForLogging</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">sel_getName</span><span class="token punctuation">(</span>sel<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>


<span class="token comment">/***********************************************************************
* resolveInstanceMethod
* Call +resolveInstanceMethod, looking for a method to be added to class cls.
* cls may be a metaclass or a non-meta class.
* Does not check if the method already exists.
**********************************************************************/</span>
<span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">resolveInstanceMethod</span><span class="token punctuation">(</span>id inst<span class="token punctuation">,</span> SEL sel<span class="token punctuation">,</span> Class cls<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    lockdebug<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">assert_unlocked</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>runtimeLock<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">ASSERT</span><span class="token punctuation">(</span>cls<span class="token operator">-&gt;</span><span class="token function">isRealized</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    SEL resolve_sel <span class="token operator">=</span> <span class="token keyword">@selector</span><span class="token punctuation">(</span>resolveInstanceMethod<span class="token punctuation">:</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">lookUpImpOrNilTryCache</span><span class="token punctuation">(</span>cls<span class="token punctuation">,</span> resolve_sel<span class="token punctuation">,</span> cls<span class="token operator">-&gt;</span><span class="token function">ISA</span><span class="token punctuation">(</span><span class="token comment">/*authenticated*/</span>true<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// Resolver not implemented.</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">BOOL</span> <span class="token punctuation">(</span><span class="token operator">*</span>msg<span class="token punctuation">)</span><span class="token punctuation">(</span>Class<span class="token punctuation">,</span> SEL<span class="token punctuation">,</span> SEL<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span><span class="token punctuation">)</span>objc_msgSend<span class="token punctuation">;</span>
    bool resolved <span class="token operator">=</span> <span class="token function">msg</span><span class="token punctuation">(</span>cls<span class="token punctuation">,</span> resolve_sel<span class="token punctuation">,</span> sel<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Cache the result (good or bad) so the resolver doesn&#39;t fire next time.</span>
    <span class="token comment">// +resolveInstanceMethod adds to self a.k.a. cls</span>
    IMP imp <span class="token operator">=</span> <span class="token function">lookUpImpOrNilTryCache</span><span class="token punctuation">(</span>inst<span class="token punctuation">,</span> sel<span class="token punctuation">,</span> cls<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>resolved  <span class="token operator">&amp;&amp;</span>  PrintResolving<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>imp<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">_objc_inform</span><span class="token punctuation">(</span><span class="token string">&quot;RESOLVE: method %c[%s %s] &quot;</span>
                         <span class="token string">&quot;dynamically resolved to %p&quot;</span><span class="token punctuation">,</span>
                         cls<span class="token operator">-&gt;</span><span class="token function">isMetaClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token char">&#39;+&#39;</span> <span class="token punctuation">:</span> <span class="token char">&#39;-&#39;</span><span class="token punctuation">,</span>
                         cls<span class="token operator">-&gt;</span><span class="token function">nameForLogging</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">sel_getName</span><span class="token punctuation">(</span>sel<span class="token punctuation">)</span><span class="token punctuation">,</span> imp<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token comment">// Method resolver didn&#39;t add anything?</span>
            <span class="token function">_objc_inform</span><span class="token punctuation">(</span><span class="token string">&quot;RESOLVE: +[%s resolveInstanceMethod:%s] returned YES&quot;</span>
                         <span class="token string">&quot;, but no new implementation of %c[%s %s] was found&quot;</span><span class="token punctuation">,</span>
                         cls<span class="token operator">-&gt;</span><span class="token function">nameForLogging</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">sel_getName</span><span class="token punctuation">(</span>sel<span class="token punctuation">)</span><span class="token punctuation">,</span>
                         cls<span class="token operator">-&gt;</span><span class="token function">isMetaClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token char">&#39;+&#39;</span> <span class="token punctuation">:</span> <span class="token char">&#39;-&#39;</span><span class="token punctuation">,</span>
                         cls<span class="token operator">-&gt;</span><span class="token function">nameForLogging</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">sel_getName</span><span class="token punctuation">(</span>sel<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="methodinvoke-直接方法调用" tabindex="-1"><a class="header-anchor" href="#methodinvoke-直接方法调用" aria-hidden="true">#</a> <code>methodInvoke</code> - “直接方法调用”</h2><div class="language-objc line-numbers-mode" data-ext="objc"><pre class="language-objc"><code><span class="token comment">// file: message.h</span>
<span class="token comment">// line: 266 method_invoke 函数声明</span>
OBJC_EXPORT id _Nullable
<span class="token function">method_invoke</span><span class="token punctuation">(</span>id _Nullable receiver<span class="token punctuation">,</span> Method _Nonnull m<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,6),m={href:"https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/ObjCRuntimeGuide/Articles/ocrtTypeEncodings.html",target:"_blank",rel:"noopener noreferrer"};function b(g,h){const a=p("ExternalLinkIcon");return c(),l("div",null,[d,i(" more "),r,n("blockquote",null,[n("p",null,[n("a",k,[s("看源码"),t(a)])])]),v,n("blockquote",null,[n("p",null,[n("a",m,[s("Type Encodings"),t(a)])])])])}const y=o(u,[["render",b],["__file","message-forwarding.html.vue"]]);export{y as default};
