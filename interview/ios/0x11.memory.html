<!doctype html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.0" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.0" />
    <style>
      html {
        background: var(--bg-color, #fff);
      }

      html[data-theme="dark"] {
        background: var(--bg-color, #1d1e1f);
      }

      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <meta property="og:url" content="https://naijoug.github.io/docs/docs/interview/ios/0x11.memory.html"><meta property="og:site_name" content="知识库"><meta property="og:title" content="内存管理"><meta property="og:description" content="reference 2022-09-09 探秘AutoreleasePool实现原理 (https://juejin.cn/post/7141285896250195982); 2022-05-07 Swift 中的 ARC 机制: 从基础到进阶 (https://juejin.cn/post/7094799538455576584); 2021-03..."><meta property="og:type" content="article"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2024-03-05T01:02:54.000Z"><meta property="article:author" content="naijoug"><meta property="article:modified_time" content="2024-03-05T01:02:54.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"内存管理","image":[""],"dateModified":"2024-03-05T01:02:54.000Z","author":[{"@type":"Person","name":"naijoug","url":"https://github.com/naijoug"}]}</script><title>内存管理 | 知识库</title><meta name="description" content="reference 2022-09-09 探秘AutoreleasePool实现原理 (https://juejin.cn/post/7141285896250195982); 2022-05-07 Swift 中的 ARC 机制: 从基础到进阶 (https://juejin.cn/post/7094799538455576584); 2021-03...">
    <link rel="preload" href="/docs/assets/style-EcuGG40z.css" as="style"><link rel="stylesheet" href="/docs/assets/style-EcuGG40z.css">
    <link rel="modulepreload" href="/docs/assets/app-8_MKAT3Q.js"><link rel="modulepreload" href="/docs/assets/0x11.memory.html-rWF0rYCS.js"><link rel="modulepreload" href="/docs/assets/0x11.memory.html-sNPkBdqN.js"><link rel="modulepreload" href="/docs/assets/plugin-vue_export-helper-x3n3nnut.js">
    <link rel="prefetch" href="/docs/assets/index.html-rp0XavOZ.js" as="script"><link rel="prefetch" href="/docs/assets/guide.html-a3sfnEZ_.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-Fpl-nJGU.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-wZZhzaeu.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-zKVZ-EKi.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-xQ4SQAz8.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-sD5qg3N3.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-9aHAI-Bt.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-aI0CQxPB.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-a32MdlSQ.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-VzOe9G4C.js" as="script"><link rel="prefetch" href="/docs/assets/history.html-vFSaCWyv.js" as="script"><link rel="prefetch" href="/docs/assets/poem.html-8pDu4nCr.js" as="script"><link rel="prefetch" href="/docs/assets/song.html-rE1oZSqy.js" as="script"><link rel="prefetch" href="/docs/assets/story.html-pd8xV29y.js" as="script"><link rel="prefetch" href="/docs/assets/think.html-tJBlNfTD.js" as="script"><link rel="prefetch" href="/docs/assets/zen.html-W6AIY9i3.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-2pbaHWqG.js" as="script"><link rel="prefetch" href="/docs/assets/读《程序员的底层思维》.html-7u2qJz1e.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-qtlkqv2M.js" as="script"><link rel="prefetch" href="/docs/assets/中国古代三大修身奇书.html-lz5TU18V.js" as="script"><link rel="prefetch" href="/docs/assets/读《三体》.html-5-jNX1xd.js" as="script"><link rel="prefetch" href="/docs/assets/读《太白金星有点烦》.html-g5kZs5XT.js" as="script"><link rel="prefetch" href="/docs/assets/读《成为讲书人》.html-fO9JjUCE.js" as="script"><link rel="prefetch" href="/docs/assets/读《拖延心理学》.html-0x0WHX5r.js" as="script"><link rel="prefetch" href="/docs/assets/读《故事力》.html-Rf7zgtP9.js" as="script"><link rel="prefetch" href="/docs/assets/读《时空画师》.html-DRvPWDiI.js" as="script"><link rel="prefetch" href="/docs/assets/读《认知觉醒》.html-cTIaOkGx.js" as="script"><link rel="prefetch" href="/docs/assets/读《认知驱动》.html-R6XWqJaL.js" as="script"><link rel="prefetch" href="/docs/assets/读《长安的荔枝》.html-HzyuIiKn.js" as="script"><link rel="prefetch" href="/docs/assets/读《阅读力》.html-yHCw5s9U.js" as="script"><link rel="prefetch" href="/docs/assets/读《非暴力沟通》.html-b6iXcJcu.js" as="script"><link rel="prefetch" href="/docs/assets/读《高效能人士的七个习惯》.html-YJbVDSI-.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-34j2XOUH.js" as="script"><link rel="prefetch" href="/docs/assets/github-action.html-k6rccGYS.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-DL_zNs9A.js" as="script"><link rel="prefetch" href="/docs/assets/mongodb.html-wnsWDtID.js" as="script"><link rel="prefetch" href="/docs/assets/mysql.html-pQfxVXH8.js" as="script"><link rel="prefetch" href="/docs/assets/oracle.html-i2TncRJr.js" as="script"><link rel="prefetch" href="/docs/assets/postgres.html-aoFvP7yq.js" as="script"><link rel="prefetch" href="/docs/assets/redis.html-RDrQCVtz.js" as="script"><link rel="prefetch" href="/docs/assets/sql.html-knl846Sy.js" as="script"><link rel="prefetch" href="/docs/assets/sqlite.html-j29WESpz.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-lMM5HRF6.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-sn6L2OES.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-SPdEXrJt.js" as="script"><link rel="prefetch" href="/docs/assets/react-native.html-HuBMfc2D.js" as="script"><link rel="prefetch" href="/docs/assets/weex.html-08TPigzB.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-e47BjjFA.js" as="script"><link rel="prefetch" href="/docs/assets/awesome.html-xspO2a1_.js" as="script"><link rel="prefetch" href="/docs/assets/browser.html-8Zdu6uut.js" as="script"><link rel="prefetch" href="/docs/assets/miniprogram.html-xr3Ku0hO.js" as="script"><link rel="prefetch" href="/docs/assets/react.html-R2M6vMYa.js" as="script"><link rel="prefetch" href="/docs/assets/soild.html-KmX1ZU44.js" as="script"><link rel="prefetch" href="/docs/assets/0x01.algorithm.html-2xw41PnY.js" as="script"><link rel="prefetch" href="/docs/assets/0x02.data-structure.html-rNgLFf2L.js" as="script"><link rel="prefetch" href="/docs/assets/0x03.big-data.html-ptxhg1Kw.js" as="script"><link rel="prefetch" href="/docs/assets/0x04.brain.html-wvHpVEBT.js" as="script"><link rel="prefetch" href="/docs/assets/0x05.network.html-IPgYVPOq.js" as="script"><link rel="prefetch" href="/docs/assets/0x06.database.html-BWjyPJGO.js" as="script"><link rel="prefetch" href="/docs/assets/0x07.thread.html-R9Gb1RlC.js" as="script"><link rel="prefetch" href="/docs/assets/0x08.memory.html-Xzi-WWpC.js" as="script"><link rel="prefetch" href="/docs/assets/0x09.compiler.html-p9_rnuZ_.js" as="script"><link rel="prefetch" href="/docs/assets/0x10.system.html-dwDipxiT.js" as="script"><link rel="prefetch" href="/docs/assets/0x11.optimization.html-iQhv033Q.js" as="script"><link rel="prefetch" href="/docs/assets/0x12.architecture.html-gO2kb-ie.js" as="script"><link rel="prefetch" href="/docs/assets/0x13.other.html-gVy1iMFS.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-R1d9oDpx.js" as="script"><link rel="prefetch" href="/docs/assets/0x01.dart.html-6yYKj9M2.js" as="script"><link rel="prefetch" href="/docs/assets/0x02.flutter.html-LID_1gfk.js" as="script"><link rel="prefetch" href="/docs/assets/0x03.hot-reload.html-bTk9fEaF.js" as="script"><link rel="prefetch" href="/docs/assets/0x04.thread.html-QEorGpPc.js" as="script"><link rel="prefetch" href="/docs/assets/0x05.memory.html-yxhNyA78.js" as="script"><link rel="prefetch" href="/docs/assets/0x06.optimization.html-a-UyjTns.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-N_Hwanx2.js" as="script"><link rel="prefetch" href="/docs/assets/0x01.objective-c.html-xXejSoRx.js" as="script"><link rel="prefetch" href="/docs/assets/0x02.swift.html-_nljfG-D.js" as="script"><link rel="prefetch" href="/docs/assets/0x03.uikit.html-5ikQW7Gk.js" as="script"><link rel="prefetch" href="/docs/assets/0x04.kvc-kvo.html-p7v7e2of.js" as="script"><link rel="prefetch" href="/docs/assets/0x05.notification.html-GwTICbh_.js" as="script"><link rel="prefetch" href="/docs/assets/0x06.runtime.html-FlGwh6vN.js" as="script"><link rel="prefetch" href="/docs/assets/0x07.runloop.html-PVNIK_HH.js" as="script"><link rel="prefetch" href="/docs/assets/0x08.network.html-cYjVfcDs.js" as="script"><link rel="prefetch" href="/docs/assets/0x09.store.html-zWV51Ixc.js" as="script"><link rel="prefetch" href="/docs/assets/0x10.thread.html-hIpJE_g0.js" as="script"><link rel="prefetch" href="/docs/assets/0x12.compiler.html-DHA4WVB9.js" as="script"><link rel="prefetch" href="/docs/assets/0x13.optimization.html--9XAR6oC.js" as="script"><link rel="prefetch" href="/docs/assets/0x14.architecture.html--n2DgmkJ.js" as="script"><link rel="prefetch" href="/docs/assets/0x15.media.html-E5TJCQV3.js" as="script"><link rel="prefetch" href="/docs/assets/0x16.other.html-BHIshwJi.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-z_hW2O5L.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-tuApnvgL.js" as="script"><link rel="prefetch" href="/docs/assets/0x0000.html-6Y6MSBmk.js" as="script"><link rel="prefetch" href="/docs/assets/0x0100.html-jSqHw271.js" as="script"><link rel="prefetch" href="/docs/assets/0x0200.html-S_QPLo6p.js" as="script"><link rel="prefetch" href="/docs/assets/0x0300.html-eWMuc2eG.js" as="script"><link rel="prefetch" href="/docs/assets/0x0400.html-oOMbmq4r.js" as="script"><link rel="prefetch" href="/docs/assets/0x0500.html-cHVTDssh.js" as="script"><link rel="prefetch" href="/docs/assets/0x0600.html-mxqdOl5X.js" as="script"><link rel="prefetch" href="/docs/assets/0x0700.html-5luEKQMY.js" as="script"><link rel="prefetch" href="/docs/assets/0x0800.html-eVAMZ0pT.js" as="script"><link rel="prefetch" href="/docs/assets/0x0900.html-28EoUjRS.js" as="script"><link rel="prefetch" href="/docs/assets/0x1000.html-dvL4SpIU.js" as="script"><link rel="prefetch" href="/docs/assets/0x1100.html-uuttSM0j.js" as="script"><link rel="prefetch" href="/docs/assets/0x1200.html-mbOjFIZA.js" as="script"><link rel="prefetch" href="/docs/assets/0x1300.html-SSG6gWOo.js" as="script"><link rel="prefetch" href="/docs/assets/0x1400.html-0VZ_1hrt.js" as="script"><link rel="prefetch" href="/docs/assets/0x1500.html-z8Tq-u43.js" as="script"><link rel="prefetch" href="/docs/assets/0x1600.html-0dAUTjUq.js" as="script"><link rel="prefetch" href="/docs/assets/0x1700.html-hR3jlthB.js" as="script"><link rel="prefetch" href="/docs/assets/0x1800.html-3KeQc9ea.js" as="script"><link rel="prefetch" href="/docs/assets/0x1900.html-M4TOKp4N.js" as="script"><link rel="prefetch" href="/docs/assets/0x2000.html-tQoHp5Ht.js" as="script"><link rel="prefetch" href="/docs/assets/0x2100.html-QFOnFD0y.js" as="script"><link rel="prefetch" href="/docs/assets/0x2200.html-EJkLLiWJ.js" as="script"><link rel="prefetch" href="/docs/assets/0x2300.html-zxiBxcd6.js" as="script"><link rel="prefetch" href="/docs/assets/0x2400.html-ONXQUe_7.js" as="script"><link rel="prefetch" href="/docs/assets/0x2500.html-J2lJ0phq.js" as="script"><link rel="prefetch" href="/docs/assets/0x2600.html-SqmSK--G.js" as="script"><link rel="prefetch" href="/docs/assets/0x2700.html-ZYV2_0bZ.js" as="script"><link rel="prefetch" href="/docs/assets/0x2800.html-f7qZk-tS.js" as="script"><link rel="prefetch" href="/docs/assets/0x2900.html-SVLsYXPd.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-u6gd_R68.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-dTF6Ak2n.js" as="script"><link rel="prefetch" href="/docs/assets/two-pointer.html-LjNNxfj6.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-fMyVMt-F.js" as="script"><link rel="prefetch" href="/docs/assets/blogger.html-rqzDYIGG.js" as="script"><link rel="prefetch" href="/docs/assets/designer.html-vg-mqBfR.js" as="script"><link rel="prefetch" href="/docs/assets/english.html-gQAA151i.js" as="script"><link rel="prefetch" href="/docs/assets/growing.html-nljnBJnh.js" as="script"><link rel="prefetch" href="/docs/assets/indie-hacker.html-4pYqyQYk.js" as="script"><link rel="prefetch" href="/docs/assets/mirror.html-txfsIywG.js" as="script"><link rel="prefetch" href="/docs/assets/open-api.html-oUnbAbde.js" as="script"><link rel="prefetch" href="/docs/assets/writing.html-2ywXazDL.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-3sR99TA1.js" as="script"><link rel="prefetch" href="/docs/assets/stock.html-voEfGjpx.js" as="script"><link rel="prefetch" href="/docs/assets/tip.html-fY51TefD.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-iSG3lWid.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-7BfXXsad.js" as="script"><link rel="prefetch" href="/docs/assets/gfw.html-d217k9HE.js" as="script"><link rel="prefetch" href="/docs/assets/http.html-NuUMVgmb.js" as="script"><link rel="prefetch" href="/docs/assets/https.html-kME-nXxE.js" as="script"><link rel="prefetch" href="/docs/assets/spider.html-sJI5DGxT.js" as="script"><link rel="prefetch" href="/docs/assets/ssl.html-6n2hYC14.js" as="script"><link rel="prefetch" href="/docs/assets/vps.html-GBhGlQL4.js" as="script"><link rel="prefetch" href="/docs/assets/websocket.html-2PGgYsQo.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-xvm01b1o.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-QO_NfyD4.js" as="script"><link rel="prefetch" href="/docs/assets/git.html-oTC6Erg2.js" as="script"><link rel="prefetch" href="/docs/assets/ide.html-HePx6l85.js" as="script"><link rel="prefetch" href="/docs/assets/markdown.html-ZqHd0dAn.js" as="script"><link rel="prefetch" href="/docs/assets/shell.html-_wj0dudg.js" as="script"><link rel="prefetch" href="/docs/assets/svn.html-pP6V7BeP.js" as="script"><link rel="prefetch" href="/docs/assets/vim.html-Y877X6-k.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-gWjn-noC.js" as="script"><link rel="prefetch" href="/docs/assets/cpp.html-TAO4dzXX.js" as="script"><link rel="prefetch" href="/docs/assets/php.html-HcU7F5ar.js" as="script"><link rel="prefetch" href="/docs/assets/ruby.html-QGJlMaSl.js" as="script"><link rel="prefetch" href="/docs/assets/rust.html-99e-of3r.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-TmJ39Hno.js" as="script"><link rel="prefetch" href="/docs/assets/cache.html-qaJPH8dk.js" as="script"><link rel="prefetch" href="/docs/assets/character-encoding.html-Bl1yzfUW.js" as="script"><link rel="prefetch" href="/docs/assets/code-style.html-hMAEzUQ-.js" as="script"><link rel="prefetch" href="/docs/assets/cryptology.html-r3_DZj0T.js" as="script"><link rel="prefetch" href="/docs/assets/design-pattern.html-ueqGEikR.js" as="script"><link rel="prefetch" href="/docs/assets/media.html-WW5BNCV5.js" as="script"><link rel="prefetch" href="/docs/assets/memory.html-FRlvRDup.js" as="script"><link rel="prefetch" href="/docs/assets/paradigm.html-SpmGlRsV.js" as="script"><link rel="prefetch" href="/docs/assets/regular.html-uH1pYI2Z.js" as="script"><link rel="prefetch" href="/docs/assets/serialization.html-Z3x84rqt.js" as="script"><link rel="prefetch" href="/docs/assets/thread.html-YyQ2tfA8.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-HKldMASt.js" as="script"><link rel="prefetch" href="/docs/assets/aigc.html-BXZPoESJ.js" as="script"><link rel="prefetch" href="/docs/assets/chatgpt.html-PZPyHnX8.js" as="script"><link rel="prefetch" href="/docs/assets/coder.html-LRqUoDFR.js" as="script"><link rel="prefetch" href="/docs/assets/gemimi.html-zykZuJ_a.js" as="script"><link rel="prefetch" href="/docs/assets/llms.html-6bERmiwY.js" as="script"><link rel="prefetch" href="/docs/assets/ml.html-w90cz2OA.js" as="script"><link rel="prefetch" href="/docs/assets/nlp.html-o_iqdSSd.js" as="script"><link rel="prefetch" href="/docs/assets/prompt.html-c-PljqYX.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-jIDNGD5c.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-Gtf2_pOQ.js" as="script"><link rel="prefetch" href="/docs/assets/ffmpeg.html-Om3hH1pS.js" as="script"><link rel="prefetch" href="/docs/assets/hardware.html-Hejl40hG.js" as="script"><link rel="prefetch" href="/docs/assets/opencv.html-HsGUU4Ok.js" as="script"><link rel="prefetch" href="/docs/assets/opengl.html-Yc5MBwl5.js" as="script"><link rel="prefetch" href="/docs/assets/ros.html-hSWCxiuj.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-yQ3AnSSs.js" as="script"><link rel="prefetch" href="/docs/assets/fly.html-eOM5y6HY.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-Fo00Lcu1.js" as="script"><link rel="prefetch" href="/docs/assets/commands.html-OKmyvN6f.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-w8ALA2Ig.js" as="script"><link rel="prefetch" href="/docs/assets/apache.html-SP-Uv1vG.js" as="script"><link rel="prefetch" href="/docs/assets/nginx.html--cQWvWIa.js" as="script"><link rel="prefetch" href="/docs/assets/tomcat.html-NOsxvdHR.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-LsDTrw4t.js" as="script"><link rel="prefetch" href="/docs/assets/koa.html-2X_59Fvh.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-OZlqPP6Y.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-EcRQvi6L.js" as="script"><link rel="prefetch" href="/docs/assets/flask.html-Wul-MQA2.js" as="script"><link rel="prefetch" href="/docs/assets/spring-boot.html-vGoEVNqY.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-ifQ4laEp.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-kOlAVst-.js" as="script"><link rel="prefetch" href="/docs/assets/asset.html-Ga5x2326.js" as="script"><link rel="prefetch" href="/docs/assets/command.html-p3L_5NhF.js" as="script"><link rel="prefetch" href="/docs/assets/environment.html-tBD-FIJu.js" as="script"><link rel="prefetch" href="/docs/assets/flutter.html-PHH17Nuc.js" as="script"><link rel="prefetch" href="/docs/assets/state.html-l7-TxEjp.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-5prV580G.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-VFeNd5yq.js" as="script"><link rel="prefetch" href="/docs/assets/css.html-0YyaBFtB.js" as="script"><link rel="prefetch" href="/docs/assets/html.html-AudVrvAj.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-XBDbAow_.js" as="script"><link rel="prefetch" href="/docs/assets/jquery.html-oI9MzSvY.js" as="script"><link rel="prefetch" href="/docs/assets/underscore.html-rB4egCMZ.js" as="script"><link rel="prefetch" href="/docs/assets/web-ui.html-T_TYJKaG.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-JmU2bfIp.js" as="script"><link rel="prefetch" href="/docs/assets/hexo.html-ouTXe57P.js" as="script"><link rel="prefetch" href="/docs/assets/vuepress-theme-hope.html-8BkV3Y8T.js" as="script"><link rel="prefetch" href="/docs/assets/vuepress.html-qjt8dFLK.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-wjFYXw3D.js" as="script"><link rel="prefetch" href="/docs/assets/basic.html-ChZ8AqHr.js" as="script"><link rel="prefetch" href="/docs/assets/router.html-OEn0ci8A.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-gjnSx-Fl.js" as="script"><link rel="prefetch" href="/docs/assets/algorithm.html-2KiVNnTR.js" as="script"><link rel="prefetch" href="/docs/assets/data-structure.html-XPDQov2I.js" as="script"><link rel="prefetch" href="/docs/assets/0x01.array-string.html-jDX5bGrA.js" as="script"><link rel="prefetch" href="/docs/assets/0x02.linked-list.html-iGip4hSg.js" as="script"><link rel="prefetch" href="/docs/assets/0x03.stack-queue.html-5B_B8o73.js" as="script"><link rel="prefetch" href="/docs/assets/0x04.tree-graph.html-RKKGdSXG.js" as="script"><link rel="prefetch" href="/docs/assets/0x05.bit.html-8REAhKCh.js" as="script"><link rel="prefetch" href="/docs/assets/0x06.math-brain.html-V29AxuL7.js" as="script"><link rel="prefetch" href="/docs/assets/0x07.oriented-object.html-n-gUcBCY.js" as="script"><link rel="prefetch" href="/docs/assets/0x08.recursion-dynamic-programming.html-NX5jvgmG.js" as="script"><link rel="prefetch" href="/docs/assets/0x09.system-design-expansibility.html-l3g0sQ1U.js" as="script"><link rel="prefetch" href="/docs/assets/0x10.sort-search.html-cYKmnPzm.js" as="script"><link rel="prefetch" href="/docs/assets/0x11.test.html-dSsdmMeT.js" as="script"><link rel="prefetch" href="/docs/assets/0x12.c-cpp.html-DtTLTncP.js" as="script"><link rel="prefetch" href="/docs/assets/0x13.java.html-1yKjrBzF.js" as="script"><link rel="prefetch" href="/docs/assets/0x14.database.html-CHohhuxn.js" as="script"><link rel="prefetch" href="/docs/assets/0x15.thread-lock.html-0nefY7ru.js" as="script"><link rel="prefetch" href="/docs/assets/0x16.mid.html-5Mere_it.js" as="script"><link rel="prefetch" href="/docs/assets/0x17.hard.html-x-T1rOAD.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-DkuVvOdk.js" as="script"><link rel="prefetch" href="/docs/assets/0x00.bit.html-BeTA7ym8.js" as="script"><link rel="prefetch" href="/docs/assets/0x01.sort.html-J4QyCJba.js" as="script"><link rel="prefetch" href="/docs/assets/0x02.search.html-znVxMaZK.js" as="script"><link rel="prefetch" href="/docs/assets/0x03.traverse.html-GE-ytA_s.js" as="script"><link rel="prefetch" href="/docs/assets/0x04.recursion.html-zaVKyINm.js" as="script"><link rel="prefetch" href="/docs/assets/0x05.backtracking.html-QEtdHmiv.js" as="script"><link rel="prefetch" href="/docs/assets/0x06.divide-conquer.html-yqBe_KcU.js" as="script"><link rel="prefetch" href="/docs/assets/0x07.greedy.html-S8R4Hwbw.js" as="script"><link rel="prefetch" href="/docs/assets/0x08.dynamic-programming.html-9PlYV0qm.js" as="script"><link rel="prefetch" href="/docs/assets/0x09.math.html-5WHWrmUN.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-YVvMXBuG.js" as="script"><link rel="prefetch" href="/docs/assets/0x01.string.html-IZf-Dgmi.js" as="script"><link rel="prefetch" href="/docs/assets/0x02.array.html--uNDugJ6.js" as="script"><link rel="prefetch" href="/docs/assets/0x03.stack.html-sygch4lN.js" as="script"><link rel="prefetch" href="/docs/assets/0x04.queue.html-jkRfeEzK.js" as="script"><link rel="prefetch" href="/docs/assets/0x05.linked-list.html-m8WgsAT8.js" as="script"><link rel="prefetch" href="/docs/assets/0x06.binary-tree.html-FjOAtKE0.js" as="script"><link rel="prefetch" href="/docs/assets/0x07.tree.html-QquXQJOA.js" as="script"><link rel="prefetch" href="/docs/assets/0x08.hash-table.html-9LU3kJR2.js" as="script"><link rel="prefetch" href="/docs/assets/0x09.graph.html-ne7fyRQJ.js" as="script"><link rel="prefetch" href="/docs/assets/0x10.heap.html-ZPzJSjsv.js" as="script"><link rel="prefetch" href="/docs/assets/0x11.trie.html-7neZ5i2k.js" as="script"><link rel="prefetch" href="/docs/assets/0x12.union-find-disjoint-set.html-oLjoYfV-.js" as="script"><link rel="prefetch" href="/docs/assets/0x13.bloom-filter.html-DhX1Cg5k.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-1S8l5VUa.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-XOTxZx9O.js" as="script"><link rel="prefetch" href="/docs/assets/command.html-GHbN7Xu9.js" as="script"><link rel="prefetch" href="/docs/assets/funny-command.html-2IXVos9n.js" as="script"><link rel="prefetch" href="/docs/assets/multipass.html-c32sEhKR.js" as="script"><link rel="prefetch" href="/docs/assets/raspberrypi.html-5guowBhy.js" as="script"><link rel="prefetch" href="/docs/assets/ubuntu.html-yt0WO5Ha.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-jJsAOWJo.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-3deKoxFD.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-94_eZQ0R.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-ZMJVR_bn.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-rervuk3d.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-GSwpCVm7.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-i57RBalg.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-kvLJykT7.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-mkbf8u1R.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-FiX1bMTz.js" as="script"><link rel="prefetch" href="/docs/assets/bitcoin-cli.html-bMm6K5KR.js" as="script"><link rel="prefetch" href="/docs/assets/bitcoin.html-xjf6hNff.js" as="script"><link rel="prefetch" href="/docs/assets/blockchain-api.html-a_gqLyJs.js" as="script"><link rel="prefetch" href="/docs/assets/omni.html-O1uG07B5.js" as="script"><link rel="prefetch" href="/docs/assets/omnicore-cli.html-bBFFh7PK.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-o7pqjHcg.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-nvO-XRAz.js" as="script"><link rel="prefetch" href="/docs/assets/cleos.html-vNzgegeD.js" as="script"><link rel="prefetch" href="/docs/assets/eos.html-mG2Ht3AO.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-1tNcuhqN.js" as="script"><link rel="prefetch" href="/docs/assets/ethereum.html-laZNVHHg.js" as="script"><link rel="prefetch" href="/docs/assets/geth.html-ZkBKqiHp.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-pPD899Ea.js" as="script"><link rel="prefetch" href="/docs/assets/auto_route.html-pyLGiKS6.js" as="script"><link rel="prefetch" href="/docs/assets/get_it.html-1ReMeh9V.js" as="script"><link rel="prefetch" href="/docs/assets/i18n.html-XInI9aU9.js" as="script"><link rel="prefetch" href="/docs/assets/json_serializable.html-uuuTu5Rd.js" as="script"><link rel="prefetch" href="/docs/assets/openid_client.html-M-0jgHXk.js" as="script"><link rel="prefetch" href="/docs/assets/provider.html-FTwQ2gb8.js" as="script"><link rel="prefetch" href="/docs/assets/pull_to_refresh.html-BOreAVAe.js" as="script"><link rel="prefetch" href="/docs/assets/qr.html-Rixxtlat.js" as="script"><link rel="prefetch" href="/docs/assets/speech_to_text.html-kxQ9HGki.js" as="script"><link rel="prefetch" href="/docs/assets/0x01.layout.html-pSrxsCoN.js" as="script"><link rel="prefetch" href="/docs/assets/0x02.common.html-77_fRsip.js" as="script"><link rel="prefetch" href="/docs/assets/0x03.box.html-03fcDXAU.js" as="script"><link rel="prefetch" href="/docs/assets/0x04.scroll.html-PyicFqEH.js" as="script"><link rel="prefetch" href="/docs/assets/0x05.gesture.html-H5h4GyFb.js" as="script"><link rel="prefetch" href="/docs/assets/0x06.builder.html-mtSc9vaY.js" as="script"><link rel="prefetch" href="/docs/assets/0x07.animation.html-5ctZRXh5.js" as="script"><link rel="prefetch" href="/docs/assets/0x09.navigtion.html-pZ-ZKpYj.js" as="script"><link rel="prefetch" href="/docs/assets/0x10.material.html-wvxWyNtr.js" as="script"><link rel="prefetch" href="/docs/assets/0x11.cupertino.html-hcPihynh.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-Hhe2UmGQ.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-EjIKtV7V.js" as="script"><link rel="prefetch" href="/docs/assets/compiler.html-_O19PVUu.js" as="script"><link rel="prefetch" href="/docs/assets/dispatch.html-zgrExm_L.js" as="script"><link rel="prefetch" href="/docs/assets/notification.html-l-smjh0T.js" as="script"><link rel="prefetch" href="/docs/assets/reverse.html-1iAmHHax.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-w_eoMq3P.js" as="script"><link rel="prefetch" href="/docs/assets/fastlane.html-VJP7mJlK.js" as="script"><link rel="prefetch" href="/docs/assets/ios-x.html-INYZ5VQ1.js" as="script"><link rel="prefetch" href="/docs/assets/macos.html-jHd-8WCC.js" as="script"><link rel="prefetch" href="/docs/assets/objective-c.html-icOFcjLv.js" as="script"><link rel="prefetch" href="/docs/assets/package.html-gjRkkl1O.js" as="script"><link rel="prefetch" href="/docs/assets/rxswift.html-tn69BudE.js" as="script"><link rel="prefetch" href="/docs/assets/swiftui.html-f1MzP71E.js" as="script"><link rel="prefetch" href="/docs/assets/uikit.html-CB2slHbs.js" as="script"><link rel="prefetch" href="/docs/assets/xcode.html-CWN16n1b.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-usW0LWrV.js" as="script"><link rel="prefetch" href="/docs/assets/index.html--fCcfyZP.js" as="script"><link rel="prefetch" href="/docs/assets/sample.html-bkj0dIQm.js" as="script"><link rel="prefetch" href="/docs/assets/solution.html-jKCZ2EZJ.js" as="script"><link rel="prefetch" href="/docs/assets/tutorial.html-vPiaiv1C.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-fKATec51.js" as="script"><link rel="prefetch" href="/docs/assets/basic.html-fpIepsRX.js" as="script"><link rel="prefetch" href="/docs/assets/concept-algorithm.html-QiGwAjv2.js" as="script"><link rel="prefetch" href="/docs/assets/data-structure.html-j_2Wr90c.js" as="script"><link rel="prefetch" href="/docs/assets/extension.html-7U1_lMZQ.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-dCnEqBxf.js" as="script"><link rel="prefetch" href="/docs/assets/0x01.guide.html-1eMtdil2.js" as="script"><link rel="prefetch" href="/docs/assets/0x02.object-oriented.html-Gkh0AHiD.js" as="script"><link rel="prefetch" href="/docs/assets/0x03.generic.html-kQ0YjZ6e.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-OxlhngF9.js" as="script"><link rel="prefetch" href="/docs/assets/command.html-WIrQJUuQ.js" as="script"><link rel="prefetch" href="/docs/assets/dart-x.html-T0DU2TJA.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-pTJUeSGt.js" as="script"><link rel="prefetch" href="/docs/assets/activiti.html-scPgQln7.js" as="script"><link rel="prefetch" href="/docs/assets/java-web.html-O_NoFOL6.js" as="script"><link rel="prefetch" href="/docs/assets/jvm.html-RrjM2jkt.js" as="script"><link rel="prefetch" href="/docs/assets/scala.html-deR5N342.js" as="script"><link rel="prefetch" href="/docs/assets/0x01.guide.html-Q_Whjagq.js" as="script"><link rel="prefetch" href="/docs/assets/0x02.object-oriented.html-qr2sMbso.js" as="script"><link rel="prefetch" href="/docs/assets/0x03.generic.html-Ci2E2P-m.js" as="script"><link rel="prefetch" href="/docs/assets/0x04.io.html-g1VNLmWe.js" as="script"><link rel="prefetch" href="/docs/assets/0x05.error.html-Db6wO_v_.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-DsM2c7wm.js" as="script"><link rel="prefetch" href="/docs/assets/java-x.html-KuyDwDUB.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-pV5kE0sb.js" as="script"><link rel="prefetch" href="/docs/assets/gson.html-juXrDyA1.js" as="script"><link rel="prefetch" href="/docs/assets/guava.html-XibwLUgQ.js" as="script"><link rel="prefetch" href="/docs/assets/junit.html-iQTPEs9p.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-dxwoDnur.js" as="script"><link rel="prefetch" href="/docs/assets/0x01.guide.html-nTSE9XuJ.js" as="script"><link rel="prefetch" href="/docs/assets/0x02.object-oriented.html-yR1D3dwa.js" as="script"><link rel="prefetch" href="/docs/assets/0x03.module.html-FpgC6Nf2.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-xTp6tvTH.js" as="script"><link rel="prefetch" href="/docs/assets/javascript-x.html-m6Q5V7zV.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-IxLZz6Y1.js" as="script"><link rel="prefetch" href="/docs/assets/0x01.guide.html-B-kfqrHs.js" as="script"><link rel="prefetch" href="/docs/assets/0x02.object-oriented.html-QF_dM0jO.js" as="script"><link rel="prefetch" href="/docs/assets/0x03.module.html-813ljV6l.js" as="script"><link rel="prefetch" href="/docs/assets/0x04.io.html-z3kSMBvb.js" as="script"><link rel="prefetch" href="/docs/assets/0x05.error.html-1aWVAOkj.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-ZUCYnrFo.js" as="script"><link rel="prefetch" href="/docs/assets/python-x.html-F_UfFT0V.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-MwmmbTG9.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-S30745j-.js" as="script"><link rel="prefetch" href="/docs/assets/code-style.html-1RHIHG3x.js" as="script"><link rel="prefetch" href="/docs/assets/server.html-nrQ6xSDQ.js" as="script"><link rel="prefetch" href="/docs/assets/0x01.guide.html-huWmlEiN.js" as="script"><link rel="prefetch" href="/docs/assets/0x02.object-oriented.html-0YybZtxS.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-71Qj97yo.js" as="script"><link rel="prefetch" href="/docs/assets/codable.html-F8fmgA0O.js" as="script"><link rel="prefetch" href="/docs/assets/swift-x.html-iTdfEHgl.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-sTVaU_X-.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-jQhgxdy3.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-RhfygF6G.js" as="script"><link rel="prefetch" href="/docs/assets/0x01.guide.html-WVFECozD.js" as="script"><link rel="prefetch" href="/docs/assets/0x02.object-oriented.html-u-WY0fWK.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-c7Tfnluy.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-GOvGnFTv.js" as="script"><link rel="prefetch" href="/docs/assets/shared_preferences.html-X7CbOfVb.js" as="script"><link rel="prefetch" href="/docs/assets/url_launcher.html-u2uylezO.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-ubUpBMMx.js" as="script"><link rel="prefetch" href="/docs/assets/runloop.html-tf8I0iA7.js" as="script"><link rel="prefetch" href="/docs/assets/NSObject.html-i_Gbyfqp.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-bAs8OzIY.js" as="script"><link rel="prefetch" href="/docs/assets/associated-object.html-s8kb5pwV.js" as="script"><link rel="prefetch" href="/docs/assets/category.html-cznJ3ztl.js" as="script"><link rel="prefetch" href="/docs/assets/class.html-0SWiNDmE.js" as="script"><link rel="prefetch" href="/docs/assets/function.html-dF3w03L7.js" as="script"><link rel="prefetch" href="/docs/assets/memory.html-QTuU7N3U.js" as="script"><link rel="prefetch" href="/docs/assets/message-forwarding.html-FHSErx-X.js" as="script"><link rel="prefetch" href="/docs/assets/method.html-TlpkfWxr.js" as="script"><link rel="prefetch" href="/docs/assets/property.html-MBmiUgTb.js" as="script"><link rel="prefetch" href="/docs/assets/protocol.html-gDDG5nzu.js" as="script"><link rel="prefetch" href="/docs/assets/types.html-xHzqGo9I.js" as="script"><link rel="prefetch" href="/docs/assets/404.html-I7r_unCH.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-3FL8HLIW.js" as="script"><link rel="prefetch" href="/docs/assets/guide.html-81mOmTaU.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-g5sM-pF1.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-GlNNrB2c.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-2OsFG_Go.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-WCFU74W8.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-_w57ps1V.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-vkYqrBpT.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-rm52etfr.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-toLJElcw.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-f2zYZgWY.js" as="script"><link rel="prefetch" href="/docs/assets/history.html-0-IeAwEP.js" as="script"><link rel="prefetch" href="/docs/assets/poem.html-OoWA2baE.js" as="script"><link rel="prefetch" href="/docs/assets/song.html-CXqxqmTx.js" as="script"><link rel="prefetch" href="/docs/assets/story.html-GxYY_3sB.js" as="script"><link rel="prefetch" href="/docs/assets/think.html-Q_ZlMO_u.js" as="script"><link rel="prefetch" href="/docs/assets/zen.html-0x6nm4MZ.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-V58WVPA2.js" as="script"><link rel="prefetch" href="/docs/assets/读《程序员的底层思维》.html-nb2pLp8h.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-OCVwvNlt.js" as="script"><link rel="prefetch" href="/docs/assets/中国古代三大修身奇书.html-TQWyyTXY.js" as="script"><link rel="prefetch" href="/docs/assets/读《三体》.html-jeq5lMwx.js" as="script"><link rel="prefetch" href="/docs/assets/读《太白金星有点烦》.html-ZjOJC0Vh.js" as="script"><link rel="prefetch" href="/docs/assets/读《成为讲书人》.html-e3MqU8gX.js" as="script"><link rel="prefetch" href="/docs/assets/读《拖延心理学》.html-JdJCLKhE.js" as="script"><link rel="prefetch" href="/docs/assets/读《故事力》.html-XNSJFwcE.js" as="script"><link rel="prefetch" href="/docs/assets/读《时空画师》.html-OUu4RdO1.js" as="script"><link rel="prefetch" href="/docs/assets/读《认知觉醒》.html-xOkmzw-M.js" as="script"><link rel="prefetch" href="/docs/assets/读《认知驱动》.html-RaQGfyOm.js" as="script"><link rel="prefetch" href="/docs/assets/读《长安的荔枝》.html-1e6YzSnb.js" as="script"><link rel="prefetch" href="/docs/assets/读《阅读力》.html-MDMFzMyR.js" as="script"><link rel="prefetch" href="/docs/assets/读《非暴力沟通》.html-b89h3tsm.js" as="script"><link rel="prefetch" href="/docs/assets/读《高效能人士的七个习惯》.html-PsD-T9V0.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-lfL-ape7.js" as="script"><link rel="prefetch" href="/docs/assets/github-action.html-nOub6GSX.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-1vi82Lyh.js" as="script"><link rel="prefetch" href="/docs/assets/mongodb.html-4Mle1SfV.js" as="script"><link rel="prefetch" href="/docs/assets/mysql.html-Cb_OVvYN.js" as="script"><link rel="prefetch" href="/docs/assets/oracle.html-cFczbQZu.js" as="script"><link rel="prefetch" href="/docs/assets/postgres.html-_YDyUEtS.js" as="script"><link rel="prefetch" href="/docs/assets/redis.html-90r9xN4a.js" as="script"><link rel="prefetch" href="/docs/assets/sql.html-zjBfFV5y.js" as="script"><link rel="prefetch" href="/docs/assets/sqlite.html-GKJMBzr9.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-Mxu4gAiP.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-iVKwEdsI.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-AVWEvaU9.js" as="script"><link rel="prefetch" href="/docs/assets/react-native.html-23pYOyth.js" as="script"><link rel="prefetch" href="/docs/assets/weex.html-Cz2r8dpu.js" as="script"><link rel="prefetch" href="/docs/assets/index.html--_u-ay7_.js" as="script"><link rel="prefetch" href="/docs/assets/awesome.html-ugLAFeg_.js" as="script"><link rel="prefetch" href="/docs/assets/browser.html-0TMfbXAB.js" as="script"><link rel="prefetch" href="/docs/assets/miniprogram.html-pkymHPDD.js" as="script"><link rel="prefetch" href="/docs/assets/react.html-vlepfToZ.js" as="script"><link rel="prefetch" href="/docs/assets/soild.html-xKTpe1uT.js" as="script"><link rel="prefetch" href="/docs/assets/0x01.algorithm.html-_WQ6cqka.js" as="script"><link rel="prefetch" href="/docs/assets/0x02.data-structure.html-5s2ift6p.js" as="script"><link rel="prefetch" href="/docs/assets/0x03.big-data.html-p9twTVgx.js" as="script"><link rel="prefetch" href="/docs/assets/0x04.brain.html-c7WFeQQD.js" as="script"><link rel="prefetch" href="/docs/assets/0x05.network.html-YFuyJwHc.js" as="script"><link rel="prefetch" href="/docs/assets/0x06.database.html-VuCzDQhd.js" as="script"><link rel="prefetch" href="/docs/assets/0x07.thread.html-lPzHkodS.js" as="script"><link rel="prefetch" href="/docs/assets/0x08.memory.html-7stpecoG.js" as="script"><link rel="prefetch" href="/docs/assets/0x09.compiler.html-knt1Pm3r.js" as="script"><link rel="prefetch" href="/docs/assets/0x10.system.html-jeXSffHu.js" as="script"><link rel="prefetch" href="/docs/assets/0x11.optimization.html-TuAqpSl1.js" as="script"><link rel="prefetch" href="/docs/assets/0x12.architecture.html-H_xLMgmO.js" as="script"><link rel="prefetch" href="/docs/assets/0x13.other.html-nOFZQo5f.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-A6NUoNQv.js" as="script"><link rel="prefetch" href="/docs/assets/0x01.dart.html-uNNkj4x-.js" as="script"><link rel="prefetch" href="/docs/assets/0x02.flutter.html-B2lofti-.js" as="script"><link rel="prefetch" href="/docs/assets/0x03.hot-reload.html-0bkLxrDf.js" as="script"><link rel="prefetch" href="/docs/assets/0x04.thread.html-uRxNXzzA.js" as="script"><link rel="prefetch" href="/docs/assets/0x05.memory.html-QHfd1_3F.js" as="script"><link rel="prefetch" href="/docs/assets/0x06.optimization.html-gCWPaL4J.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-LG_172R1.js" as="script"><link rel="prefetch" href="/docs/assets/0x01.objective-c.html-P5tJO1_G.js" as="script"><link rel="prefetch" href="/docs/assets/0x02.swift.html-9lLdmgnO.js" as="script"><link rel="prefetch" href="/docs/assets/0x03.uikit.html-c4zDbzMM.js" as="script"><link rel="prefetch" href="/docs/assets/0x04.kvc-kvo.html-XuRKKzdg.js" as="script"><link rel="prefetch" href="/docs/assets/0x05.notification.html-eOOTu6jp.js" as="script"><link rel="prefetch" href="/docs/assets/0x06.runtime.html-FhvSz6rs.js" as="script"><link rel="prefetch" href="/docs/assets/0x07.runloop.html-LypoYasF.js" as="script"><link rel="prefetch" href="/docs/assets/0x08.network.html-aKBEnhMx.js" as="script"><link rel="prefetch" href="/docs/assets/0x09.store.html-Tcmxq3lg.js" as="script"><link rel="prefetch" href="/docs/assets/0x10.thread.html-DCRXkj84.js" as="script"><link rel="prefetch" href="/docs/assets/0x12.compiler.html-10weateQ.js" as="script"><link rel="prefetch" href="/docs/assets/0x13.optimization.html-2bijq9Xd.js" as="script"><link rel="prefetch" href="/docs/assets/0x14.architecture.html-tzwTs_Um.js" as="script"><link rel="prefetch" href="/docs/assets/0x15.media.html-L0gguT8K.js" as="script"><link rel="prefetch" href="/docs/assets/0x16.other.html-rFCGfE0x.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-Q2zPknnG.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-cnMolty7.js" as="script"><link rel="prefetch" href="/docs/assets/0x0000.html--H86MWLH.js" as="script"><link rel="prefetch" href="/docs/assets/0x0100.html-uYhUbtt6.js" as="script"><link rel="prefetch" href="/docs/assets/0x0200.html-GvMbQbxL.js" as="script"><link rel="prefetch" href="/docs/assets/0x0300.html-5ydi-oht.js" as="script"><link rel="prefetch" href="/docs/assets/0x0400.html-1JWtwB0W.js" as="script"><link rel="prefetch" href="/docs/assets/0x0500.html-kgNnK3mD.js" as="script"><link rel="prefetch" href="/docs/assets/0x0600.html-Tj_Qyjw5.js" as="script"><link rel="prefetch" href="/docs/assets/0x0700.html-xYJmQPVv.js" as="script"><link rel="prefetch" href="/docs/assets/0x0800.html--Um6h8rX.js" as="script"><link rel="prefetch" href="/docs/assets/0x0900.html-6Oh0W0nO.js" as="script"><link rel="prefetch" href="/docs/assets/0x1000.html-FuCUIR_c.js" as="script"><link rel="prefetch" href="/docs/assets/0x1100.html-tO3UPXDK.js" as="script"><link rel="prefetch" href="/docs/assets/0x1200.html-M2Q3mQtd.js" as="script"><link rel="prefetch" href="/docs/assets/0x1300.html-5UcAYWwi.js" as="script"><link rel="prefetch" href="/docs/assets/0x1400.html-2Cwv0QxZ.js" as="script"><link rel="prefetch" href="/docs/assets/0x1500.html-PtWD1h1p.js" as="script"><link rel="prefetch" href="/docs/assets/0x1600.html-2ZMNnDcE.js" as="script"><link rel="prefetch" href="/docs/assets/0x1700.html-PyBZAVts.js" as="script"><link rel="prefetch" href="/docs/assets/0x1800.html-aaMe6SHL.js" as="script"><link rel="prefetch" href="/docs/assets/0x1900.html-BPmnrzCS.js" as="script"><link rel="prefetch" href="/docs/assets/0x2000.html-WoRP0_6N.js" as="script"><link rel="prefetch" href="/docs/assets/0x2100.html-veXoBbI7.js" as="script"><link rel="prefetch" href="/docs/assets/0x2200.html-w0Vknubr.js" as="script"><link rel="prefetch" href="/docs/assets/0x2300.html-y41rL9Ex.js" as="script"><link rel="prefetch" href="/docs/assets/0x2400.html-GP9RFSx7.js" as="script"><link rel="prefetch" href="/docs/assets/0x2500.html-Xs-qyTRO.js" as="script"><link rel="prefetch" href="/docs/assets/0x2600.html-2RCjkRxr.js" as="script"><link rel="prefetch" href="/docs/assets/0x2700.html-_mibVpim.js" as="script"><link rel="prefetch" href="/docs/assets/0x2800.html-BLQmlPZ5.js" as="script"><link rel="prefetch" href="/docs/assets/0x2900.html-S9gK5xPc.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-Fz_nLx9g.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-Ql0jtoI8.js" as="script"><link rel="prefetch" href="/docs/assets/two-pointer.html-3LCZA4Z8.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-yh9QZWhj.js" as="script"><link rel="prefetch" href="/docs/assets/blogger.html-QKavDBFs.js" as="script"><link rel="prefetch" href="/docs/assets/designer.html-2H6LjFHZ.js" as="script"><link rel="prefetch" href="/docs/assets/english.html-T7zz_huR.js" as="script"><link rel="prefetch" href="/docs/assets/growing.html-k7-ccy9V.js" as="script"><link rel="prefetch" href="/docs/assets/indie-hacker.html-5pVQL-h5.js" as="script"><link rel="prefetch" href="/docs/assets/mirror.html--OC9iQcw.js" as="script"><link rel="prefetch" href="/docs/assets/open-api.html-iXU7Dok1.js" as="script"><link rel="prefetch" href="/docs/assets/writing.html-gvHnpKG0.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-UtyU-yb6.js" as="script"><link rel="prefetch" href="/docs/assets/stock.html-DxVPizS3.js" as="script"><link rel="prefetch" href="/docs/assets/tip.html-iG5Dw8rp.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-nrMQSYOh.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-0b63z3Yj.js" as="script"><link rel="prefetch" href="/docs/assets/gfw.html-8VcIBEaj.js" as="script"><link rel="prefetch" href="/docs/assets/http.html-C8RHI-1h.js" as="script"><link rel="prefetch" href="/docs/assets/https.html-kggXKfl3.js" as="script"><link rel="prefetch" href="/docs/assets/spider.html-KOE1bZ5y.js" as="script"><link rel="prefetch" href="/docs/assets/ssl.html-wMBTuW-r.js" as="script"><link rel="prefetch" href="/docs/assets/vps.html-f8D2tlDg.js" as="script"><link rel="prefetch" href="/docs/assets/websocket.html-7yfdTEZc.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-U3fGrCmR.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-xie6Zkjs.js" as="script"><link rel="prefetch" href="/docs/assets/git.html-nBDhh2ZB.js" as="script"><link rel="prefetch" href="/docs/assets/ide.html-KhvIyFN2.js" as="script"><link rel="prefetch" href="/docs/assets/markdown.html-wvdnNrh6.js" as="script"><link rel="prefetch" href="/docs/assets/shell.html-CYZU3qla.js" as="script"><link rel="prefetch" href="/docs/assets/svn.html-MKWi5Tu2.js" as="script"><link rel="prefetch" href="/docs/assets/vim.html-QWJ3_izR.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-7j6Nf4e2.js" as="script"><link rel="prefetch" href="/docs/assets/cpp.html-AFgitpNt.js" as="script"><link rel="prefetch" href="/docs/assets/php.html-pxA5A9sj.js" as="script"><link rel="prefetch" href="/docs/assets/ruby.html-yXLSEVC8.js" as="script"><link rel="prefetch" href="/docs/assets/rust.html-HVdFTLRH.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-1sOiKPvi.js" as="script"><link rel="prefetch" href="/docs/assets/cache.html-VEdm9Tmh.js" as="script"><link rel="prefetch" href="/docs/assets/character-encoding.html-KCO_Y1qa.js" as="script"><link rel="prefetch" href="/docs/assets/code-style.html-gzGmiA66.js" as="script"><link rel="prefetch" href="/docs/assets/cryptology.html-PRbOi42R.js" as="script"><link rel="prefetch" href="/docs/assets/design-pattern.html-A3pcKxR4.js" as="script"><link rel="prefetch" href="/docs/assets/media.html-JarT2orT.js" as="script"><link rel="prefetch" href="/docs/assets/memory.html-n2rrms3c.js" as="script"><link rel="prefetch" href="/docs/assets/paradigm.html-xEiMfsib.js" as="script"><link rel="prefetch" href="/docs/assets/regular.html-dmEwOx8q.js" as="script"><link rel="prefetch" href="/docs/assets/serialization.html-JNFOsM4p.js" as="script"><link rel="prefetch" href="/docs/assets/thread.html-VKj9HgwB.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-Sjva9vIk.js" as="script"><link rel="prefetch" href="/docs/assets/aigc.html-hcS26rA_.js" as="script"><link rel="prefetch" href="/docs/assets/chatgpt.html-kIazeArj.js" as="script"><link rel="prefetch" href="/docs/assets/coder.html-Tba3LS6F.js" as="script"><link rel="prefetch" href="/docs/assets/gemimi.html-K0thGJRV.js" as="script"><link rel="prefetch" href="/docs/assets/llms.html-gTT36xRP.js" as="script"><link rel="prefetch" href="/docs/assets/ml.html-9TQsIRqf.js" as="script"><link rel="prefetch" href="/docs/assets/nlp.html-1PzJa-T0.js" as="script"><link rel="prefetch" href="/docs/assets/prompt.html-esut5efj.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-aqjcdn37.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-bpodHaF2.js" as="script"><link rel="prefetch" href="/docs/assets/ffmpeg.html-cJYfl07j.js" as="script"><link rel="prefetch" href="/docs/assets/hardware.html-r2t1Zvku.js" as="script"><link rel="prefetch" href="/docs/assets/opencv.html--7i7WXfr.js" as="script"><link rel="prefetch" href="/docs/assets/opengl.html-3xJHat53.js" as="script"><link rel="prefetch" href="/docs/assets/ros.html-HpvqfE7o.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-Gy5usR5x.js" as="script"><link rel="prefetch" href="/docs/assets/fly.html-TchD-P5h.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-CwyhO_Cp.js" as="script"><link rel="prefetch" href="/docs/assets/commands.html-zFhceHTk.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-8L7Y6_ay.js" as="script"><link rel="prefetch" href="/docs/assets/apache.html-XrLjh0o0.js" as="script"><link rel="prefetch" href="/docs/assets/nginx.html-8SdkWBQW.js" as="script"><link rel="prefetch" href="/docs/assets/tomcat.html-ikGXeYQG.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-mMp_LDof.js" as="script"><link rel="prefetch" href="/docs/assets/koa.html-YynRSYl3.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-Vq256-7C.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-T307tdiv.js" as="script"><link rel="prefetch" href="/docs/assets/flask.html-1Y2ZtrFL.js" as="script"><link rel="prefetch" href="/docs/assets/spring-boot.html-Z8zADTNs.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-VMO4uSjL.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-U5UrfQ-v.js" as="script"><link rel="prefetch" href="/docs/assets/asset.html-w8iMpUEO.js" as="script"><link rel="prefetch" href="/docs/assets/command.html-xgnav2xt.js" as="script"><link rel="prefetch" href="/docs/assets/environment.html-tTW9KepU.js" as="script"><link rel="prefetch" href="/docs/assets/flutter.html-MpDI_K24.js" as="script"><link rel="prefetch" href="/docs/assets/state.html-EZDJNx71.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-X6L16pni.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-4yhoYuLX.js" as="script"><link rel="prefetch" href="/docs/assets/css.html-v-AxHqxp.js" as="script"><link rel="prefetch" href="/docs/assets/html.html-Xzu7D4lD.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-cCHCkZdq.js" as="script"><link rel="prefetch" href="/docs/assets/jquery.html-BPHRRb1P.js" as="script"><link rel="prefetch" href="/docs/assets/underscore.html-XNYx085E.js" as="script"><link rel="prefetch" href="/docs/assets/web-ui.html-brs0sWMB.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-RQagDewh.js" as="script"><link rel="prefetch" href="/docs/assets/hexo.html-b1EAY4Ho.js" as="script"><link rel="prefetch" href="/docs/assets/vuepress-theme-hope.html-_Wnxgqyi.js" as="script"><link rel="prefetch" href="/docs/assets/vuepress.html-doarLo4h.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-BHQC4Wtp.js" as="script"><link rel="prefetch" href="/docs/assets/basic.html-prOIKG5q.js" as="script"><link rel="prefetch" href="/docs/assets/router.html-SyQ46Mfq.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-fAMuOLse.js" as="script"><link rel="prefetch" href="/docs/assets/algorithm.html-UzHQOBKG.js" as="script"><link rel="prefetch" href="/docs/assets/data-structure.html-VXmF-opG.js" as="script"><link rel="prefetch" href="/docs/assets/0x01.array-string.html-pCilHeHd.js" as="script"><link rel="prefetch" href="/docs/assets/0x02.linked-list.html-JoHa_idV.js" as="script"><link rel="prefetch" href="/docs/assets/0x03.stack-queue.html-epjlsFqf.js" as="script"><link rel="prefetch" href="/docs/assets/0x04.tree-graph.html-ofnA6oAV.js" as="script"><link rel="prefetch" href="/docs/assets/0x05.bit.html-buHuzKTr.js" as="script"><link rel="prefetch" href="/docs/assets/0x06.math-brain.html-4jXgtT-P.js" as="script"><link rel="prefetch" href="/docs/assets/0x07.oriented-object.html-46SLXh1t.js" as="script"><link rel="prefetch" href="/docs/assets/0x08.recursion-dynamic-programming.html-YQYCwzM6.js" as="script"><link rel="prefetch" href="/docs/assets/0x09.system-design-expansibility.html-KGSfBgUw.js" as="script"><link rel="prefetch" href="/docs/assets/0x10.sort-search.html-TAQEsc-M.js" as="script"><link rel="prefetch" href="/docs/assets/0x11.test.html-GM2QRzla.js" as="script"><link rel="prefetch" href="/docs/assets/0x12.c-cpp.html-29AmdX3W.js" as="script"><link rel="prefetch" href="/docs/assets/0x13.java.html-aWTWxv6o.js" as="script"><link rel="prefetch" href="/docs/assets/0x14.database.html-WCvMLrjx.js" as="script"><link rel="prefetch" href="/docs/assets/0x15.thread-lock.html-3XZx1Qzc.js" as="script"><link rel="prefetch" href="/docs/assets/0x16.mid.html--cvoesv9.js" as="script"><link rel="prefetch" href="/docs/assets/0x17.hard.html-h0T1KftQ.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-UCTeAqb5.js" as="script"><link rel="prefetch" href="/docs/assets/0x00.bit.html-nKQ858_z.js" as="script"><link rel="prefetch" href="/docs/assets/0x01.sort.html-Vc7zRUr1.js" as="script"><link rel="prefetch" href="/docs/assets/0x02.search.html-T-zwFZbJ.js" as="script"><link rel="prefetch" href="/docs/assets/0x03.traverse.html-xfUL2S5o.js" as="script"><link rel="prefetch" href="/docs/assets/0x04.recursion.html-4oRqddog.js" as="script"><link rel="prefetch" href="/docs/assets/0x05.backtracking.html-oI_-_WaY.js" as="script"><link rel="prefetch" href="/docs/assets/0x06.divide-conquer.html-2DWZdL9k.js" as="script"><link rel="prefetch" href="/docs/assets/0x07.greedy.html-NsCTjosU.js" as="script"><link rel="prefetch" href="/docs/assets/0x08.dynamic-programming.html-2XF7u5m4.js" as="script"><link rel="prefetch" href="/docs/assets/0x09.math.html-k5JrDBWd.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-eWSA2W-q.js" as="script"><link rel="prefetch" href="/docs/assets/0x01.string.html-jaujisdo.js" as="script"><link rel="prefetch" href="/docs/assets/0x02.array.html-w4qFVKto.js" as="script"><link rel="prefetch" href="/docs/assets/0x03.stack.html-SAx4PmMK.js" as="script"><link rel="prefetch" href="/docs/assets/0x04.queue.html-5FaRh6Nh.js" as="script"><link rel="prefetch" href="/docs/assets/0x05.linked-list.html-rF36gYrF.js" as="script"><link rel="prefetch" href="/docs/assets/0x06.binary-tree.html-fbJCSMAn.js" as="script"><link rel="prefetch" href="/docs/assets/0x07.tree.html-LH0xTsq3.js" as="script"><link rel="prefetch" href="/docs/assets/0x08.hash-table.html-p_W4NL1b.js" as="script"><link rel="prefetch" href="/docs/assets/0x09.graph.html-RfGxDXVg.js" as="script"><link rel="prefetch" href="/docs/assets/0x10.heap.html-ZSujRNvM.js" as="script"><link rel="prefetch" href="/docs/assets/0x11.trie.html-wpPbmmNY.js" as="script"><link rel="prefetch" href="/docs/assets/0x12.union-find-disjoint-set.html-cj3MUfea.js" as="script"><link rel="prefetch" href="/docs/assets/0x13.bloom-filter.html-xbO10raO.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-ZhnYia6G.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-thArx2i4.js" as="script"><link rel="prefetch" href="/docs/assets/command.html-yeeGVOE3.js" as="script"><link rel="prefetch" href="/docs/assets/funny-command.html-VcFKqp1z.js" as="script"><link rel="prefetch" href="/docs/assets/multipass.html--yjjmxbg.js" as="script"><link rel="prefetch" href="/docs/assets/raspberrypi.html-9gILwVoW.js" as="script"><link rel="prefetch" href="/docs/assets/ubuntu.html-J9R2N0z-.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-74f_fOXf.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-lHtAh5cq.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-H7435HXM.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-Kl5Xbg8I.js" as="script"><link rel="prefetch" href="/docs/assets/index.html--h5PLF2i.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-FOMejAI7.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-NXX6A12g.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-_F9wVUOU.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-TxGwV3kL.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-gpd7csFE.js" as="script"><link rel="prefetch" href="/docs/assets/bitcoin-cli.html-5ykVfTaK.js" as="script"><link rel="prefetch" href="/docs/assets/bitcoin.html-6lPAVysf.js" as="script"><link rel="prefetch" href="/docs/assets/blockchain-api.html-SKI0hDdY.js" as="script"><link rel="prefetch" href="/docs/assets/omni.html-V2grkx-x.js" as="script"><link rel="prefetch" href="/docs/assets/omnicore-cli.html-7oDBY2fD.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-BKXi5yaK.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-uYXf4uk9.js" as="script"><link rel="prefetch" href="/docs/assets/cleos.html-qXU3bEhM.js" as="script"><link rel="prefetch" href="/docs/assets/eos.html-UV-BIWq7.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-E3SAgYYS.js" as="script"><link rel="prefetch" href="/docs/assets/ethereum.html-7Qulnu9r.js" as="script"><link rel="prefetch" href="/docs/assets/geth.html-yAcFXItv.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-2Sa8HmVe.js" as="script"><link rel="prefetch" href="/docs/assets/auto_route.html-LMctomAf.js" as="script"><link rel="prefetch" href="/docs/assets/get_it.html-90LWlgID.js" as="script"><link rel="prefetch" href="/docs/assets/i18n.html-DxNBGtUf.js" as="script"><link rel="prefetch" href="/docs/assets/json_serializable.html-3Qb8yu9h.js" as="script"><link rel="prefetch" href="/docs/assets/openid_client.html-pxPpuHJ7.js" as="script"><link rel="prefetch" href="/docs/assets/provider.html-CMPRvND7.js" as="script"><link rel="prefetch" href="/docs/assets/pull_to_refresh.html-WuP95eH-.js" as="script"><link rel="prefetch" href="/docs/assets/qr.html-PLSWSwCw.js" as="script"><link rel="prefetch" href="/docs/assets/speech_to_text.html-DR2zhkFi.js" as="script"><link rel="prefetch" href="/docs/assets/0x01.layout.html-JV3HrZdC.js" as="script"><link rel="prefetch" href="/docs/assets/0x02.common.html-JpgkDU2D.js" as="script"><link rel="prefetch" href="/docs/assets/0x03.box.html-GF4kiUC5.js" as="script"><link rel="prefetch" href="/docs/assets/0x04.scroll.html-F8A8NM0-.js" as="script"><link rel="prefetch" href="/docs/assets/0x05.gesture.html-buHrTJx9.js" as="script"><link rel="prefetch" href="/docs/assets/0x06.builder.html-jWfVpRZJ.js" as="script"><link rel="prefetch" href="/docs/assets/0x07.animation.html-WMZoQ81i.js" as="script"><link rel="prefetch" href="/docs/assets/0x09.navigtion.html-B9LNsGi5.js" as="script"><link rel="prefetch" href="/docs/assets/0x10.material.html-SEZxU0tq.js" as="script"><link rel="prefetch" href="/docs/assets/0x11.cupertino.html-hXdh7c_h.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-bFQ3PXvW.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-wfi7-x4r.js" as="script"><link rel="prefetch" href="/docs/assets/compiler.html-szek0NTh.js" as="script"><link rel="prefetch" href="/docs/assets/dispatch.html-YL9loNFB.js" as="script"><link rel="prefetch" href="/docs/assets/notification.html-Xgn_9PXV.js" as="script"><link rel="prefetch" href="/docs/assets/reverse.html-TTZ1W6b_.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-E9tp7wVu.js" as="script"><link rel="prefetch" href="/docs/assets/fastlane.html-Z-HMKBcJ.js" as="script"><link rel="prefetch" href="/docs/assets/ios-x.html-y2v1Jxoy.js" as="script"><link rel="prefetch" href="/docs/assets/macos.html-vrp-ohrA.js" as="script"><link rel="prefetch" href="/docs/assets/objective-c.html-U0Z8aqBQ.js" as="script"><link rel="prefetch" href="/docs/assets/package.html-vkAfX5Hf.js" as="script"><link rel="prefetch" href="/docs/assets/rxswift.html-CclrQeGh.js" as="script"><link rel="prefetch" href="/docs/assets/swiftui.html--tlPbujb.js" as="script"><link rel="prefetch" href="/docs/assets/uikit.html-uPaHpIYp.js" as="script"><link rel="prefetch" href="/docs/assets/xcode.html-kbNLlcki.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-RpsqeAoc.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-Xt8SfaE6.js" as="script"><link rel="prefetch" href="/docs/assets/sample.html-dg3STc1O.js" as="script"><link rel="prefetch" href="/docs/assets/solution.html-egndtrgq.js" as="script"><link rel="prefetch" href="/docs/assets/tutorial.html-1bPZncsM.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-3PPRewvg.js" as="script"><link rel="prefetch" href="/docs/assets/basic.html-KrgeIOGF.js" as="script"><link rel="prefetch" href="/docs/assets/concept-algorithm.html-5lmnbiSS.js" as="script"><link rel="prefetch" href="/docs/assets/data-structure.html-ZJPP84xm.js" as="script"><link rel="prefetch" href="/docs/assets/extension.html-RScEnWPF.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-_APv_JhT.js" as="script"><link rel="prefetch" href="/docs/assets/0x01.guide.html-zYe-WKdy.js" as="script"><link rel="prefetch" href="/docs/assets/0x02.object-oriented.html-ngCV5Ja6.js" as="script"><link rel="prefetch" href="/docs/assets/0x03.generic.html-dGCQIDY3.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-_0EMkEZP.js" as="script"><link rel="prefetch" href="/docs/assets/command.html-YYwpL2UW.js" as="script"><link rel="prefetch" href="/docs/assets/dart-x.html-SF24b0xN.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-efiMgdyp.js" as="script"><link rel="prefetch" href="/docs/assets/activiti.html-Ni9Xfyvs.js" as="script"><link rel="prefetch" href="/docs/assets/java-web.html-P7ink1Vh.js" as="script"><link rel="prefetch" href="/docs/assets/jvm.html-Y0jAFDXt.js" as="script"><link rel="prefetch" href="/docs/assets/scala.html-gxPrvTpz.js" as="script"><link rel="prefetch" href="/docs/assets/0x01.guide.html-0vv9s6Tc.js" as="script"><link rel="prefetch" href="/docs/assets/0x02.object-oriented.html-kAfRBK63.js" as="script"><link rel="prefetch" href="/docs/assets/0x03.generic.html-ejG87lPi.js" as="script"><link rel="prefetch" href="/docs/assets/0x04.io.html-a_GFOxl4.js" as="script"><link rel="prefetch" href="/docs/assets/0x05.error.html-AiiJpDMi.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-en0SxlZD.js" as="script"><link rel="prefetch" href="/docs/assets/java-x.html-xHmglVt3.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-4X-2ERwY.js" as="script"><link rel="prefetch" href="/docs/assets/gson.html-4KFBeFod.js" as="script"><link rel="prefetch" href="/docs/assets/guava.html-XRBPKhPn.js" as="script"><link rel="prefetch" href="/docs/assets/junit.html-V9uBdtsm.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-Br-MOeoo.js" as="script"><link rel="prefetch" href="/docs/assets/0x01.guide.html-Y6WWuCQ4.js" as="script"><link rel="prefetch" href="/docs/assets/0x02.object-oriented.html-QK2WdzA0.js" as="script"><link rel="prefetch" href="/docs/assets/0x03.module.html-G_WFUv-C.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-uzXzSb5-.js" as="script"><link rel="prefetch" href="/docs/assets/javascript-x.html-XcfywufM.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-i1exRqEg.js" as="script"><link rel="prefetch" href="/docs/assets/0x01.guide.html-DAWokAAq.js" as="script"><link rel="prefetch" href="/docs/assets/0x02.object-oriented.html-QVzPwk-3.js" as="script"><link rel="prefetch" href="/docs/assets/0x03.module.html-Wo5FmW9n.js" as="script"><link rel="prefetch" href="/docs/assets/0x04.io.html-GjyjmMzU.js" as="script"><link rel="prefetch" href="/docs/assets/0x05.error.html-1BLIrPn7.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-hFyueNR3.js" as="script"><link rel="prefetch" href="/docs/assets/python-x.html-8GnTrVru.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-JubUDxFM.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-OucRcpgd.js" as="script"><link rel="prefetch" href="/docs/assets/code-style.html-rtgcvAeZ.js" as="script"><link rel="prefetch" href="/docs/assets/server.html-sUWZF3RQ.js" as="script"><link rel="prefetch" href="/docs/assets/0x01.guide.html-Zx5APdBu.js" as="script"><link rel="prefetch" href="/docs/assets/0x02.object-oriented.html-Gf2X2v2c.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-Sn3z7qTO.js" as="script"><link rel="prefetch" href="/docs/assets/codable.html-SmzRYUfk.js" as="script"><link rel="prefetch" href="/docs/assets/swift-x.html-c5xLJeNm.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-dYAXRwOP.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-UHX4tVNN.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-7KPq_BDi.js" as="script"><link rel="prefetch" href="/docs/assets/0x01.guide.html--QSOwXm-.js" as="script"><link rel="prefetch" href="/docs/assets/0x02.object-oriented.html-3Y-JgN_8.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-7B6eHQVB.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-Az8hTtPY.js" as="script"><link rel="prefetch" href="/docs/assets/shared_preferences.html-MM_ucFc2.js" as="script"><link rel="prefetch" href="/docs/assets/url_launcher.html-JKvRBHwh.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-gAn9YVfn.js" as="script"><link rel="prefetch" href="/docs/assets/runloop.html-r1UZLTNH.js" as="script"><link rel="prefetch" href="/docs/assets/NSObject.html-tE-jJpML.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-mIqFBQzn.js" as="script"><link rel="prefetch" href="/docs/assets/associated-object.html-a34HZbb1.js" as="script"><link rel="prefetch" href="/docs/assets/category.html-lbtUVp3y.js" as="script"><link rel="prefetch" href="/docs/assets/class.html-o8Id1Bai.js" as="script"><link rel="prefetch" href="/docs/assets/function.html-8GzT0hIV.js" as="script"><link rel="prefetch" href="/docs/assets/memory.html-kOU40nsd.js" as="script"><link rel="prefetch" href="/docs/assets/message-forwarding.html-1pzkS2-o.js" as="script"><link rel="prefetch" href="/docs/assets/method.html-2Y38TozI.js" as="script"><link rel="prefetch" href="/docs/assets/property.html-hbiJV36K.js" as="script"><link rel="prefetch" href="/docs/assets/protocol.html-d19qkO25.js" as="script"><link rel="prefetch" href="/docs/assets/types.html-WEIk5pAk.js" as="script"><link rel="prefetch" href="/docs/assets/404.html-e3zWvX3o.js" as="script"><link rel="prefetch" href="/docs/assets/giscus-unEZQsJ0.js" as="script"><link rel="prefetch" href="/docs/assets/photoswipe.esm-mC0Qcr12.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">跳至主要內容</a><!--]--><!--[--><div class="theme-container has-toc"><!--[--><header id="navbar" class="vp-navbar"><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><!----><!--]--><!--[--><a class="vp-link vp-brand vp-brand" href="/docs/"><img class="vp-nav-logo" src="/docs/logo.svg" alt="知识库"><!----><span class="vp-site-name hide-in-pad">知识库</span></a><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-center"><!--[--><!----><!--]--><!--[--><nav class="vp-nav-links"><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button type="button" class="dropdown-title" aria-label="👨🏻‍💻 程序员必备技能"><span class="title"><!---->👨🏻‍💻 程序员必备技能</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a aria-label="数据结构 + 算法" class="vp-link nav-link nav-link" href="/docs/programmer/core/"><span class="font-icon icon fa-fw fa-sm fas fa-infinity" style=""></span>数据结构 + 算法<!----></a></li><li class="dropdown-item"><a aria-label="网络知识" class="vp-link nav-link nav-link" href="/docs/programmer/network/"><span class="font-icon icon fa-fw fa-sm fas fa-sitemap" style=""></span>网络知识<!----></a></li><li class="dropdown-item"><a aria-label="操作系统" class="vp-link nav-link nav-link" href="/docs/programmer/system/"><span class="font-icon icon fa-fw fa-sm fas fa-microchip" style=""></span>操作系统<!----></a></li><li class="dropdown-item"><a aria-label="业务知识" class="vp-link nav-link nav-link" href="/docs/programmer/biz/"><span class="font-icon icon fa-fw fa-sm fas fa-business-time" style=""></span>业务知识<!----></a></li><li class="dropdown-item"><a aria-label="实用工具" class="vp-link nav-link nav-link" href="/docs/programmer/tool/"><span class="font-icon icon fa-fw fa-sm fas fa-screwdriver-wrench" style=""></span>实用工具<!----></a></li><li class="dropdown-item"><a aria-label="Awesome" class="vp-link nav-link nav-link" href="/docs/programmer/awesome/"><span class="font-icon icon fa-fw fa-sm fas fa-gift" style=""></span>Awesome<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button type="button" class="dropdown-title" aria-label="编程知识"><span class="title"><span class="font-icon icon fa-fw fa-sm fas fa-laptop-code" style=""></span>编程知识</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><a aria-label="编程语言" class="vp-link nav-link nav-link" href="/docs/programming/lang/"><span class="font-icon icon fa-fw fa-sm fas fa-code" style=""></span>编程语言<!----></a></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a aria-label="Swift" class="vp-link nav-link nav-link" href="/docs/programming/lang/swift/"><span class="font-icon icon fa-fw fa-sm fas fa-hashtag" style=""></span>Swift<!----></a></li><li class="dropdown-subitem"><a aria-label="Java" class="vp-link nav-link nav-link" href="/docs/programming/lang/java/"><span class="font-icon icon fa-fw fa-sm fas fa-hashtag" style=""></span>Java<!----></a></li><li class="dropdown-subitem"><a aria-label="Dart" class="vp-link nav-link nav-link" href="/docs/programming/lang/dart/"><span class="font-icon icon fa-fw fa-sm fas fa-hashtag" style=""></span>Dart<!----></a></li><li class="dropdown-subitem"><a aria-label="Python" class="vp-link nav-link nav-link" href="/docs/programming/lang/python.html"><span class="font-icon icon fa-fw fa-sm fas fa-hashtag" style=""></span>Python<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><a aria-label="概念知识" class="vp-link nav-link nav-link" href="/docs/programming/topic/"><span class="font-icon icon fa-fw fa-sm fas fa-mug-saucer" style=""></span>概念知识<!----></a></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a aria-label="编程范式" class="vp-link nav-link nav-link" href="/docs/programming/topic/paradigm.html"><span class="font-icon icon fa-fw fa-sm fas fa-hashtag" style=""></span>编程范式<!----></a></li><li class="dropdown-subitem"><a aria-label="编码规范" class="vp-link nav-link nav-link" href="/docs/programming/topic/code-style.html"><span class="font-icon icon fa-fw fa-sm fas fa-hashtag" style=""></span>编码规范<!----></a></li><li class="dropdown-subitem"><a aria-label="设计模式" class="vp-link nav-link nav-link" href="/docs/programming/topic/design-pattern.html"><span class="font-icon icon fa-fw fa-sm fas fa-hashtag" style=""></span>设计模式<!----></a></li><li class="dropdown-subitem"><a aria-label="密码学" class="vp-link nav-link nav-link" href="/docs/programming/topic/cryptology.html"><span class="font-icon icon fa-fw fa-sm fas fa-hashtag" style=""></span>密码学<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button type="button" class="dropdown-title" aria-label="前端"><span class="title"><span class="font-icon icon fa-fw fa-sm fas fa-display" style=""></span>前端</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><a aria-label="客户端" class="vp-link nav-link nav-link" href="/docs/frontend/client/"><span class="font-icon icon fa-fw fa-sm fas fa-mobile" style=""></span>客户端<!----></a></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a aria-label="iOS" class="vp-link nav-link nav-link" href="/docs/frontend/client/ios/"><span class="font-icon icon fa-fw fa-sm fas fa-hashtag" style=""></span>iOS<!----></a></li><li class="dropdown-subitem"><a aria-label="Android" class="vp-link nav-link nav-link" href="/docs/frontend/client/android/"><span class="font-icon icon fa-fw fa-sm fas fa-hashtag" style=""></span>Android<!----></a></li><li class="dropdown-subitem"><a aria-label="Flutter" class="vp-link nav-link nav-link" href="/docs/frontend/client/flutter/"><span class="font-icon icon fa-fw fa-sm fas fa-hashtag" style=""></span>Flutter<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><a aria-label="Web 端" class="vp-link nav-link nav-link" href="/docs/frontend/web/"><span class="font-icon icon fa-fw fa-sm fas fa-globe" style=""></span>Web 端<!----></a></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a aria-label="HMTL" class="vp-link nav-link nav-link" href="/docs/frontend/web/html/"><span class="font-icon icon fa-fw fa-sm fas fa-hashtag" style=""></span>HMTL<!----></a></li><li class="dropdown-subitem"><a aria-label="Vue" class="vp-link nav-link nav-link" href="/docs/frontend/web/vue.html"><span class="font-icon icon fa-fw fa-sm fas fa-hashtag" style=""></span>Vue<!----></a></li><li class="dropdown-subitem"><a aria-label="React" class="vp-link nav-link nav-link" href="/docs/frontend/web/react.html"><span class="font-icon icon fa-fw fa-sm fas fa-hashtag" style=""></span>React<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button type="button" class="dropdown-title" aria-label="后端"><span class="title"><span class="font-icon icon fa-fw fa-sm fas fa-cube" style=""></span>后端</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a aria-label="服务器" class="vp-link nav-link nav-link" href="/docs/backend/server/"><span class="font-icon icon fa-fw fa-sm fas fa-server" style=""></span>服务器<!----></a></li><li class="dropdown-item"><a aria-label="数据库" class="vp-link nav-link nav-link" href="/docs/backend/database/"><span class="font-icon icon fa-fw fa-sm fas fa-database" style=""></span>数据库<!----></a></li><li class="dropdown-item"><a aria-label="服务框架" class="vp-link nav-link nav-link" href="/docs/backend/service/"><span class="font-icon icon fa-fw fa-sm fas fa-box-open" style=""></span>服务框架<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button type="button" class="dropdown-title" aria-label="热门技术"><span class="title"><span class="font-icon icon fa-fw fa-sm fas fa-fire" style=""></span>热门技术</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a aria-label="人工智能" class="vp-link nav-link nav-link" href="/docs/trending/ai/"><span class="font-icon icon fa-fw fa-sm fas fa-robot" style=""></span>人工智能<!----></a></li><li class="dropdown-item"><a aria-label="区块链" class="vp-link nav-link nav-link" href="/docs/trending/blockchain/"><span class="font-icon icon fa-fw fa-sm fas fa-boxes-stacked" style=""></span>区块链<!----></a></li><li class="dropdown-item"><a aria-label="其它技术" class="vp-link nav-link nav-link" href="/docs/trending/topic/"><span class="font-icon icon fa-fw fa-sm fas fa-eye" style=""></span>其它技术<!----></a></li></ul></button></div></div></nav><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-end"><!--[--><!----><!--]--><!--[--><!----><div class="nav-item vp-repo"><a class="vp-repo-link" href="https://github.com/naijoug/docs" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button type="button" class="outlook-button" tabindex="-1" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon outlook-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="outlook icon"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4 38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32 51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0 102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2 6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4 0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2 9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224 419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4 470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0 22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6 12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128 505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2 16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8 86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4 80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6 6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg><div class="outlook-dropdown"><!----></div></button></div><!----><!--]--><!--[--><!----><!--]--><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar"><!--[--><!----><!--]--><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><span class="font-icon icon fa-fw fa-sm fas fa-hashtag" style=""></span><a aria-label="经典面试题" class="vp-link nav-link vp-sidebar-title nav-link vp-sidebar-title" href="/docs/interview/core/"><!---->经典面试题<!----></a><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable active" type="button"><span class="font-icon icon fa-fw fa-sm fas fa-hashtag" style=""></span><a aria-label="iOS" class="vp-link nav-link active vp-sidebar-title nav-link active vp-sidebar-title" href="/docs/interview/ios/"><!---->iOS<!----></a><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><!--[--><a aria-label="Objective-C" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/docs/interview/ios/0x01.objective-c.html"><span class="font-icon icon fa-fw fa-sm fas fa-hashtag" style=""></span>Objective-C<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="Swift" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/docs/interview/ios/0x02.swift.html"><span class="font-icon icon fa-fw fa-sm fas fa-hashtag" style=""></span>Swift<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="UIKit" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/docs/interview/ios/0x03.uikit.html"><span class="font-icon icon fa-fw fa-sm fas fa-hashtag" style=""></span>UIKit<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="KVC &amp; KVO" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/docs/interview/ios/0x04.kvc-kvo.html"><span class="font-icon icon fa-fw fa-sm fas fa-hashtag" style=""></span>KVC &amp; KVO<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="通知机制" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/docs/interview/ios/0x05.notification.html"><span class="font-icon icon fa-fw fa-sm fas fa-hashtag" style=""></span>通知机制<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="Runtime" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/docs/interview/ios/0x06.runtime.html"><span class="font-icon icon fa-fw fa-sm fas fa-hashtag" style=""></span>Runtime<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="RunLoop" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/docs/interview/ios/0x07.runloop.html"><span class="font-icon icon fa-fw fa-sm fas fa-hashtag" style=""></span>RunLoop<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="网络" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/docs/interview/ios/0x08.network.html"><span class="font-icon icon fa-fw fa-sm fas fa-hashtag" style=""></span>网络<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="数据存储" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/docs/interview/ios/0x09.store.html"><span class="font-icon icon fa-fw fa-sm fas fa-hashtag" style=""></span>数据存储<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="多线程" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/docs/interview/ios/0x10.thread.html"><span class="font-icon icon fa-fw fa-sm fas fa-hashtag" style=""></span>多线程<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="内存管理" class="vp-link nav-link active vp-sidebar-link vp-sidebar-page active nav-link active vp-sidebar-link vp-sidebar-page active" href="/docs/interview/ios/0x11.memory.html"><span class="font-icon icon fa-fw fa-sm fas fa-hashtag" style=""></span>内存管理<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-label="reference" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/docs/interview/ios/0x11.memory.html#reference"><!---->reference<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="内存分配" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/docs/interview/ios/0x11.memory.html#内存分配"><!---->内存分配<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-label="❓一个 objc 对象如何进行内存布局" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/docs/interview/ios/0x11.memory.html#❓一个-objc-对象如何进行内存布局"><!---->❓一个 objc 对象如何进行内存布局<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="❓C++ 中 placement new 特性，在 OC 中可以使用吗" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/docs/interview/ios/0x11.memory.html#❓c-中-placement-new-特性-在-oc-中可以使用吗"><!---->❓C++ 中 placement new 特性，在 OC 中可以使用吗<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="内存计算" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/docs/interview/ios/0x11.memory.html#内存计算"><!---->内存计算<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a aria-label="内存管理" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/docs/interview/ios/0x11.memory.html#内存管理"><!---->内存管理<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-label="ARC" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/docs/interview/ios/0x11.memory.html#arc"><!---->ARC<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="内存释放" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/docs/interview/ios/0x11.memory.html#内存释放"><!---->内存释放<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="weak" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/docs/interview/ios/0x11.memory.html#weak"><!---->weak<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a aria-label="自动释放池" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/docs/interview/ios/0x11.memory.html#自动释放池"><!---->自动释放池<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-label="autorelease" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/docs/interview/ios/0x11.memory.html#autorelease"><!---->autorelease<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="autoreleasepool" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/docs/interview/ios/0x11.memory.html#autoreleasepool"><!---->autoreleasepool<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="autoreleasepool 的底层实现" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/docs/interview/ios/0x11.memory.html#autoreleasepool-的底层实现"><!---->autoreleasepool 的底层实现<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="实际应用" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/docs/interview/ios/0x11.memory.html#实际应用"><!---->实际应用<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="底层原理" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/docs/interview/ios/0x11.memory.html#底层原理"><!---->底层原理<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a aria-label="内存分析" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/docs/interview/ios/0x11.memory.html#内存分析"><!---->内存分析<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-label="BAD_ACCESS" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/docs/interview/ios/0x11.memory.html#bad-access"><!---->BAD_ACCESS<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="内存泄漏" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/docs/interview/ios/0x11.memory.html#内存泄漏"><!---->内存泄漏<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="分析工具" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/docs/interview/ios/0x11.memory.html#分析工具"><!---->分析工具<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li></ul><!--]--></li><li><!--[--><a aria-label="编译器" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/docs/interview/ios/0x12.compiler.html"><span class="font-icon icon fa-fw fa-sm fas fa-hashtag" style=""></span>编译器<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="性能优化" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/docs/interview/ios/0x13.optimization.html"><span class="font-icon icon fa-fw fa-sm fas fa-hashtag" style=""></span>性能优化<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="架构设计" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/docs/interview/ios/0x14.architecture.html"><span class="font-icon icon fa-fw fa-sm fas fa-hashtag" style=""></span>架构设计<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="音视频" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/docs/interview/ios/0x15.media.html"><span class="font-icon icon fa-fw fa-sm fas fa-hashtag" style=""></span>音视频<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="其它知识点" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/docs/interview/ios/0x16.other.html"><span class="font-icon icon fa-fw fa-sm fas fa-hashtag" style=""></span>其它知识点<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li></ul></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><span class="font-icon icon fa-fw fa-sm fas fa-hashtag" style=""></span><a aria-label="Flutter" class="vp-link nav-link vp-sidebar-title nav-link vp-sidebar-title" href="/docs/interview/flutter/"><!---->Flutter<!----></a><span class="vp-arrow end"></span></button><!----></section></li></ul><!--[--><!----><!--]--></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!--[--><!----><!--]--><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><span class="font-icon icon fa-fw fa-sm fas fa-hashtag" style=""></span>内存管理</h1><div class="page-info"><span class="page-author-info" aria-label="作者🖊" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="page-author-item" href="https://github.com/naijoug" target="_blank" rel="noopener noreferrer">naijoug</a></span><span property="author" content="naijoug"></span></span><!----><span class="page-date-info" aria-label="写作日期📅" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2024-01-07T06:51:09.000Z"></span><!----><span class="page-reading-time-info" aria-label="阅读时间⌛" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>大约 37 分钟</span><meta property="timeRequired" content="PT37M"></span><!----><!----></div><hr></div><div class="toc-place-holder"><aside id="toc"><!--[--><!----><!--]--><div class="toc-header">此页内容<button type="button" class="print-button" title="打印"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button></div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#reference">reference</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#内存分配">内存分配</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#❓一个-objc-对象如何进行内存布局">❓一个 objc 对象如何进行内存布局</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#❓c-中-placement-new-特性-在-oc-中可以使用吗">❓C++ 中 placement new 特性，在 OC 中可以使用吗</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#内存计算">内存计算</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#内存管理">内存管理</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#arc">ARC</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#内存释放">内存释放</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#weak">weak</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#自动释放池">自动释放池</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#autorelease">autorelease</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#autoreleasepool">autoreleasepool</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#autoreleasepool-的底层实现">autoreleasepool 的底层实现</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#实际应用">实际应用</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#底层原理">底层原理</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#内存分析">内存分析</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#bad-access">BAD_ACCESS</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#内存泄漏">内存泄漏</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#分析工具">分析工具</a></li><!----><!--]--></ul></li><!--]--></ul><div class="toc-marker" style="top:-1.7rem;"></div></div><!--[--><!----><!--]--></aside></div><!--[--><!----><!--]--><div class="theme-hope-content"><!-- more --><h2 id="reference" tabindex="-1"><a class="header-anchor" href="#reference" aria-hidden="true">#</a> reference</h2><ul><li><a href="https://juejin.cn/post/7141285896250195982" target="_blank" rel="noopener noreferrer">2022-09-09 探秘AutoreleasePool实现原理<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://juejin.cn/post/7094799538455576584" target="_blank" rel="noopener noreferrer">2022-05-07 Swift 中的 ARC 机制: 从基础到进阶<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://juejin.cn/post/6941732574913888269" target="_blank" rel="noopener noreferrer">2021-03-20 一个 NSObject 对象占用多少个字节<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="http://blog.sunnyxx.com/2014/10/15/behind-autorelease/" target="_blank" rel="noopener noreferrer">2014-10-15 黑幕背后的Autorelease<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul><hr><h2 id="内存分配" tabindex="-1"><a class="header-anchor" href="#内存分配" aria-hidden="true">#</a> 内存分配</h2><h3 id="❓一个-objc-对象如何进行内存布局" tabindex="-1"><a class="header-anchor" href="#❓一个-objc-对象如何进行内存布局" aria-hidden="true">#</a> ❓一个 <code>objc</code> 对象如何进行内存布局</h3><details class="hint-container details"><summary>💡</summary><p>主要分为两大类：实例对象内存和类对象内存布局</p><ul><li>实例对象内存布局：包括 <code>isa</code> 和实例变量。(通过 <code>isa</code> 可以找到类对象)</li><li>类对象内存布局：包括属性列表、方法列表、协议列表。</li></ul></details><h3 id="❓c-中-placement-new-特性-在-oc-中可以使用吗" tabindex="-1"><a class="header-anchor" href="#❓c-中-placement-new-特性-在-oc-中可以使用吗" aria-hidden="true">#</a> ❓<code>C++</code> 中 <code>placement new</code> 特性，在 <code>OC</code> 中可以使用吗</h3><details class="hint-container details"><summary>💡</summary><blockquote><p><code>placement new</code> : 是一种可以已分配内存的位置直接构造对象的特性，而这个已分配内存可以栈区也可以是堆区。</p></blockquote><div class="language-cpp line-numbers-mode" data-ext="cpp"><pre class="language-cpp"><code><span class="token comment">// 栈内存</span>
<span class="token keyword">char</span> buffer<span class="token punctuation">[</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>Foo<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span> 
Foo<span class="token operator">*</span> foo <span class="token operator">=</span> <span class="token keyword">new</span><span class="token punctuation">(</span>buffer<span class="token punctuation">)</span> <span class="token function">Foo</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 堆内存</span>
<span class="token keyword">char</span><span class="token operator">*</span> buffer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>Foo<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span> 
Foo<span class="token operator">*</span> foo <span class="token operator">=</span> <span class="token keyword">new</span><span class="token punctuation">(</span>buffer<span class="token punctuation">)</span> <span class="token function">Foo</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>OC</code> 是不具备这个特性，但是可以借助 <code>C</code> 语言分配内存。</p><div class="language-objc line-numbers-mode" data-ext="objc"><pre class="language-objc"><code><span class="token comment">// OC 常规方案</span>
Foo<span class="token operator">*</span> foo <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>Foo alloc<span class="token punctuation">]</span> init<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">// 使用 C 分配内存</span>
Foo<span class="token operator">*</span> foo <span class="token operator">=</span> <span class="token punctuation">(</span>Foo<span class="token operator">*</span><span class="token punctuation">)</span> <span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>Foo<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>foo <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span>foo init<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details><h3 id="内存计算" tabindex="-1"><a class="header-anchor" href="#内存计算" aria-hidden="true">#</a> 内存计算</h3><h4 id="❓结构体的字节对齐和-oc-对象的字节对齐" tabindex="-1"><a class="header-anchor" href="#❓结构体的字节对齐和-oc-对象的字节对齐" aria-hidden="true">#</a> ❓结构体的字节对齐和 <code>OC</code> 对象的字节对齐</h4><details class="hint-container details"><summary>💡</summary><ul><li><p>在 <code>C</code> 语言中，字节对齐是一种优化手段，可以使得 <code>CPU</code> 访问数据更快。字节对齐的主要方法就是在适当的位置插入一些无用的填充字节，使得数据的内存地址满足一定的对齐要求。</p><p>结构体的对齐规则：首先，结构体的总大小必须是所有成员中所需对齐字节数最大的整数倍。其次，每个结构体成员相对于结构体首地址的偏移量也必须是该成员所需对齐字节数的整数倍。因此，编译器可能会在结构体的成员间或者末尾插入一些对齐填充。</p></li><li><p>在 <code>Objective-C</code> 中，每个对象都至少包含一个 <code>isa</code> 指针，用于连接该对象与其所属的类。类的实例变量布局是由 <code>Objective-C</code> 的运行时系统动态生成的，运行时系统将在类的实例变量之间插入必要的填充字节，以确保实例变量的对齐要求。</p></li></ul></details><h4 id="❓c-中如下结构体-占用几个字节" tabindex="-1"><a class="header-anchor" href="#❓c-中如下结构体-占用几个字节" aria-hidden="true">#</a> ❓<code>C</code> 中如下结构体，占用几个字节</h4><div class="language-c line-numbers-mode" data-ext="c"><pre class="language-c"><code><span class="token keyword">struct</span> <span class="token class-name">Foo</span> <span class="token punctuation">{</span>
    <span class="token keyword">char</span> c<span class="token punctuation">;</span>
    <span class="token keyword">int</span> i<span class="token punctuation">;</span>
<span class="token punctuation">}</span> foo<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><details class="hint-container details"><summary>💡</summary><p>这个结构体的大小实际上取决于你的编译器是如何处理结构的内存对齐。</p><ul><li><code>char</code>类型占用1个字节</li><li><code>int</code>类型占用4个字节。</li></ul><p>考虑到内存对齐，<code>char</code>和<code>int</code>之间可能会插入一些填充字节，以确保<code>int</code>变量<code>i</code>的地址是4的倍数（也就是4字节对齐）。这样，<code>char c</code>后面就会有 3 个字节的padding。</p><p>因此，<code>struct Foo</code>在大多数平台上的大小通常为 8 个字节：1个字节用于<code>char c</code>，然后是3个填充字节，最后是4个字节用于<code>int i</code>。</p><div class="language-c line-numbers-mode" data-ext="c"><pre class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>

<span class="token keyword">struct</span> <span class="token class-name">Foo</span> <span class="token punctuation">{</span>
    <span class="token keyword">char</span> c<span class="token punctuation">;</span>
    <span class="token keyword">int</span> i<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;sizeof(struct Foo) = %lu\n&quot;</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">struct</span> <span class="token class-name">Foo</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details><h4 id="❓oc-中一个-nsobject-对象-占几个字节" tabindex="-1"><a class="header-anchor" href="#❓oc-中一个-nsobject-对象-占几个字节" aria-hidden="true">#</a> ❓<code>OC</code> 中一个 <code>NSObject</code> 对象，占几个字节</h4><details class="hint-container details"><summary>💡</summary><p>一个 <code>NSObject</code> 对象应该就是存放这个对象的指针地址。一个指针的大小应该是占用 16 个字节。</p></details><blockquote><p><code>NSObject</code> 结构体里面有什么，大小为什么是 <code>16</code> 字节</p></blockquote><details class="hint-container details"><summary>💡</summary><p><code>NSObject</code> 是所有 <code>Objective-C</code> 类的根类，它所提供的基本接口允许对象在 <code>Objective-C</code> 的运行时环境中执行标准的行为。</p><p><code>NSObject</code> 本身只保有一个单一的实例变量，即 <code>isa</code> 指针。<code>isa</code> 指针是一个关联到类对象的指针，使得运行时环境能够知道该对象是属于哪个类并找到对应的实例方法。</p><p><code>NSObject</code>的大小为<code>16</code> bytes，并不仅仅是因为这个 <code>isa</code> 指针。在 <code>64</code> 位系统中，<code>isa</code> 指针的大小为 <code>8</code> bytes，那么剩下的 <code>8</code> bytes是用于什么呢？</p><p>为了保证内存分配的对齐，会给每个对象额外分配一些用不到的字节。因此，即使 <code>NSObject</code> 只有一个 <code>8</code> bytes的 <code>isa</code> 指针，它的大小也会被对齐到<code>16</code> bytes。</p></details><h4 id="❓oc-中如下类结构-占用几个字节" tabindex="-1"><a class="header-anchor" href="#❓oc-中如下类结构-占用几个字节" aria-hidden="true">#</a> ❓<code>OC</code> 中如下类结构，占用几个字节</h4><div class="language-objc line-numbers-mode" data-ext="objc"><pre class="language-objc"><code><span class="token keyword">@interface</span> Todo<span class="token punctuation">:</span> NSObject 
<span class="token punctuation">{</span>
 <span class="token keyword">int</span><span class="token punctuation">:</span> _no<span class="token punctuation">;</span>
 String<span class="token punctuation">:</span> _title<span class="token punctuation">;</span>
 String<span class="token punctuation">:</span> _detail<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">@end</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><details class="hint-container details"><summary>💡</summary><ul><li><code>NSObject</code> 基类本身有一个八字节的 <code>isa</code> 指针。</li><li><code>_no</code> 是一个整数，占四个字节（在常见的 32 位和 64 位架构上）。</li><li><code>_title</code> 是一个对象指针，采用指针存放，指针在 32 位架构占四字节，在 64 位架构中占八字节。</li><li><code>_detail</code> 是另一个对象指针，同样，在 32 位架构中占四字节，在 64 位架构中占八字节。</li></ul><p>对于 32 位架构，整个对象可能占用 <code>(8 + 4 + 4 + 4) = 20字节</code>。但通常，由于内存对齐，这个数字会上升到最接近且大于它的2的幂的数，也就是 32 字节。</p><p>对于 64 位架构，对象可能占用 <code>(8 + 4 + 8 + 8) = 28字节</code>。同样因为内存对齐，这个数字会上升到最接近且大于它的2的幂的数，也就是 32 字节。</p><p>注意：所说的是“可能”占用的字节数，因为实际上这取决于 <code>Objective-C</code> 运行时如何布局这个类的成员。运行时可能会重新排序成员，或者插入填充字节，导致实际占用的空间与预计略有不同。</p><div class="language-objc line-numbers-mode" data-ext="objc"><pre class="language-objc"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">import</span> <span class="token expression"><span class="token operator">&lt;</span>objc<span class="token operator">/</span>runtime<span class="token punctuation">.</span>h<span class="token operator">&gt;</span></span></span>
<span class="token comment">// class_getInstanceSize() 会返回一个类的实例在运行时所占用的字节数</span>
<span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;%zd&quot;</span><span class="token punctuation">,</span> <span class="token function">class_getInstanceSize</span><span class="token punctuation">(</span><span class="token punctuation">[</span>Todo class<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details><hr><h2 id="内存管理" tabindex="-1"><a class="header-anchor" href="#内存管理" aria-hidden="true">#</a> 内存管理</h2><h3 id="arc" tabindex="-1"><a class="header-anchor" href="#arc" aria-hidden="true">#</a> ARC</h3><h4 id="❓arc-是为了解决什么问题诞生的" tabindex="-1"><a class="header-anchor" href="#❓arc-是为了解决什么问题诞生的" aria-hidden="true">#</a> ❓<code>ARC</code> 是为了解决什么问题诞生的</h4><details class="hint-container details"><summary>💡</summary><blockquote><p><code>ARC</code>（自动引用计数）是为了解决内存管理中的问题而诞生的。</p></blockquote><p>在没有 <code>ARC</code> 之前，开发者需要手动管理内存。这涉及到在适当的地方使用 <code>retain</code> 和 <code>release</code> 以及 <code>autorelease</code> 来控制对象的内存生命周期。如果不正确地使用这些方法，就很容易造成内存泄漏（未释放的但无法被访问的内存）或者由于释放太早或重复释放导致的程序崩溃。</p><p><code>ARC</code> 的引入极大地简化了这个过程。开发者不再需要手动调用 <code>retain</code>，<code>release</code>，和<code>autorelease</code>。相反，编译器自动在适当的位置插入这些调用，从而可以更准确地管理内存。</p><p>总结：<code>ARC</code> 是为了解决手动内存管理中的困难和误解，让开发者更专注于程序的逻辑，提高代码的健壮性和效率，从而诞生的。</p></details><h4 id="❓arc-的实现原理" tabindex="-1"><a class="header-anchor" href="#❓arc-的实现原理" aria-hidden="true">#</a> ❓<code>ARC</code> 的实现原理</h4><details class="hint-container details"><summary>💡</summary><p>实现原理：</p><p>在 <code>ARC</code> 底层，每个对象都有一个关联的引用计数，每当一个新的引用被创建到这个对象时（比如通过赋值操作），这个计数就会加一，每当一个引用被移除时（比如出了作用域或被赋值为别的对象），这个计数就会减一。只有当这个计数变为0，即没有任何引用指向这个对象时，这个对象的内存才会被回收。</p><p><code>ARC</code> 是编译器级别的特性，它在编译阶段将对引用计数进行适当的操作。</p><ul><li><p>在每个对象创建（<code>alloc/init</code>）时，编译器会自动插入对应的引用计数增加操作（<code>retain</code>）。</p></li><li><p>若对象引用出了作用域，或者被赋值为别的对象，编译器会自动插入对应的引用计数减少操作（<code>release</code>）。</p></li><li><p>对象的所有权可以用<code>__strong</code>（默认）， <code>__weak</code>， <code>__unsafe_unretained</code>，<code>__autoreleasing</code> 这四种关键字来修饰，以指示编译器如何管理该对象的生命周期。</p></li></ul></details><h4 id="❓arc-对-retain-release-做了哪些优化" tabindex="-1"><a class="header-anchor" href="#❓arc-对-retain-release-做了哪些优化" aria-hidden="true">#</a> ❓<code>ARC</code> 对 <code>retain &amp; release</code> 做了哪些优化</h4><details class="hint-container details"><summary>💡</summary><ul><li><p><code>Autorelease Pool Optimization</code>：这是一种优化 <code>autorelease</code> 对象的技术。</p><blockquote><p>当 <code>autorelease</code> 对象被加入到 <code>autoreleasepool</code> 中时，不再需要对其调用 <code>release</code>。因此，相比简单地使用 <code>retain / release</code>，可以避免频繁增加和减少引用计数，提高性能。</p></blockquote></li><li><p><code>Zeroing Weak References</code>：在 <code>ARC</code> 中，当对象被释放时，所有指向该对象的 <code>weak</code> 引用会被自动置为 <code>nil</code>。这避免了在对象被释放后，还有指针引用这块已经无效的内存，防止了野指针问题的产生。</p></li><li><p><code>Eliminating Retain Cycles</code>：<code>ARC</code> 通过 <code>weak</code> 引用、<code>unsafe_unretained</code> 特性和 <code>__bridge</code> 变量来防止引用循环而导致的内存泄漏。</p></li><li><p><code>Compaction</code>：按需移动对象，降低内存消耗。</p></li><li><p>不必要的 <code>retain</code> 和 <code>release</code> 操作消除：在编译时, 编译器会自动分析并删除不必要的 <code>retain</code> 或者 <code>release</code> 操作，减少了 <code>CPU</code> 的运算压力，极大提高了性能。</p></li><li><p>运行时优化：对于一些成对的 <code>retain / release</code> 序列，<code>LLVM</code> 编译器会自动进行优化，以尽可能减少其运行时开销。</p></li></ul></details><h4 id="❓arc-环境下如何用-c-标准库容器来管理-oc-对象" tabindex="-1"><a class="header-anchor" href="#❓arc-环境下如何用-c-标准库容器来管理-oc-对象" aria-hidden="true">#</a> ❓<code>ARC</code> 环境下如何用 <code>C++</code> 标准库容器来管理 <code>OC</code> 对象</h4><details class="hint-container details"><summary>💡</summary><p>在 <code>ARC</code> 环境中，<code>Objective-C</code> 对象和 <code>C++</code> 对象的内存管理是不同步的。</p><p>在<code>C++</code>标准库容器（如<code>std::vector, std::map</code>等）中直接存放 <code>Objective-C</code> 对象，是不被允许的。因为 <code>C++</code> 在删除和替换元素时，并不会按照 <code>Objective-C</code> 的规则来增加和减少引用计数。所以，想要在 <code>C++</code> 容器中保存 <code>Objective-C</code> 对象，需要进行一些额外的处理。</p><p>解决方案：将 <code>Objective-C</code> 对象封装在 <code>std::shared_ptr</code> 或 <code>std::unique_ptr</code> 中，然后在这些智能指针中使用自定义的 <code>Deleter</code> 来增加和减少引用计数。</p><div class="language-cpp line-numbers-mode" data-ext="cpp"><pre class="language-cpp"><code><span class="token keyword">struct</span> <span class="token class-name">ObjcDeleter</span> <span class="token punctuation">{</span>
    <span class="token keyword">void</span> <span class="token keyword">operator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span>id obj<span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{</span>
        <span class="token comment">// CFBridgingRelease 来减少引用计数</span>
        <span class="token function">CFBridgingRelease</span><span class="token punctuation">(</span><span class="token punctuation">(</span>__bridge CFTypeRef<span class="token punctuation">)</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// 创建一个包含 Objective-C 对象的 shared_ptr</span>
<span class="token comment">// CFBridgingRetain 来增加引用计数</span>
std<span class="token double-colon punctuation">::</span>shared_ptr<span class="token operator">&lt;</span>id<span class="token operator">&gt;</span> <span class="token function">ptr</span><span class="token punctuation">(</span><span class="token punctuation">(</span>__bridge id<span class="token punctuation">)</span><span class="token function">CFBridgingRetain</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">ObjcDeleter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 使用这样的 shared_ptr，就可以在 C++ 的标准库容器中管理 Objective-C 对象了</span>
std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span> std<span class="token double-colon punctuation">::</span>shared_ptr<span class="token operator">&lt;</span>id<span class="token operator">&gt;</span> <span class="token operator">&gt;</span> vec<span class="token punctuation">;</span>
vec<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>ptr<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details><h3 id="内存释放" tabindex="-1"><a class="header-anchor" href="#内存释放" aria-hidden="true">#</a> 内存释放</h3><h4 id="❓oc-中的-dealloc-的实现机制" tabindex="-1"><a class="header-anchor" href="#❓oc-中的-dealloc-的实现机制" aria-hidden="true">#</a> ❓<code>OC</code> 中的 <code>dealloc</code> 的实现机制</h4><details class="hint-container details"><summary>💡</summary><blockquote><p><code>dealloc</code> 方法是在对象被销毁的时候自动调用的方法，是内存管理的一部分。</p></blockquote><ul><li><p>在 <code>非ARC</code> 环境下，当一个对象的引用计数为 0 时，会自动调用这个对象的 <code>dealloc</code> 方法进行对象的销毁和清理操作。</p><div class="language-objc line-numbers-mode" data-ext="objc"><pre class="language-objc"><code><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>dealloc <span class="token punctuation">{</span>
    <span class="token comment">// 释放持有的对象和资源</span>
    <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>property release<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">[</span>someObject release<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token comment">// 调用父类的 dealloc，沿着类的继承链向上调用</span>
    <span class="token punctuation">[</span><span class="token keyword">super</span> dealloc<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>在 <code>ARC</code> 环境下，内存管理是由编译器自动处理的，一般不需要手动调用或者重写 <code>dealloc</code> 方法，除非你需要在对象销毁的时候做一些非内存管理的清理工作。<code>dealloc</code> 方法也不用调用 <code>[super dealloc]</code> ，编译器会自动插入这条语句。</p></li></ul></details><h4 id="❓arc-下为什么不允许我们调用-super-dealloc" tabindex="-1"><a class="header-anchor" href="#❓arc-下为什么不允许我们调用-super-dealloc" aria-hidden="true">#</a> ❓<code>ARC</code> 下为什么不允许我们调用 <code>[super dealloc]</code></h4><details class="hint-container details"><summary>💡</summary><p>在 <code>ARC</code>（Automatic Reference Counting）环境下，对于内存的管理，包括 <code>retain</code>，<code>release</code>，<code>autorelease</code>，以及在 <code>dealloc</code> 方法中手动调用 <code>[super dealloc]</code>，全部被系统自动管理。</p><p>在 <code>ARC</code> 下，当对象的引用计数变为0时（没有任何强引用指向它），系统会自动调用这个对象的 <code>dealloc</code> 方法，并在这个方法完成后自动调用 <code>[super dealloc]</code>。</p><p>如果开发者手动调用了 <code>[super dealloc]</code>，会导致 <code>[super dealloc]</code> 被调用两次，第二次调用时，对象的内存可能已经被释放，会导致内存访问错误或者其它不可预知的问题。因此，<code>ARC</code> 并不允许我们手动调用 <code>[super dealloc]</code>，它会在编译阶段给出错误提示。这也是为了减少开发者的心智负担，让开发者专注于业务逻辑，而不是内存管理。</p></details><h4 id="❓uiimage-使用-imagenamed-生成的对象什么时候被释放" tabindex="-1"><a class="header-anchor" href="#❓uiimage-使用-imagenamed-生成的对象什么时候被释放" aria-hidden="true">#</a> ❓<code>UIImage</code> 使用 <code>imageNamed</code> 生成的对象什么时候被释放</h4><details class="hint-container details"><summary>💡</summary><blockquote><p><code>+[UIImage imageNamed:]</code> 是一个用于从应用的主 <code>bundle</code> 中加载图像的便捷方法。它在第一次加载图像后，会将图像缓存起来，以便随后的同名加载能更快。</p></blockquote><ul><li>非 <code>ARC</code>：缓存被设计成当接收到系统内存警告(low-memory warnings)时自动进行清理。一旦你通过 <code>imageNamed:</code> 加载图像，该图像对象可能会常驻内存直到收到内存警告或者程序退出。</li><li><code>ARC</code>：当图像对象的所有强引用消失后，<code>ARC</code> 会立即回收这个对象，而不需要等待内存警告。</li></ul><p>如果应用需要频繁改变图像，或者加载大量的大图像，显然这个设定会导致大量的内存消耗。在这种情况下，可能需要考虑使用另一个方法<code>+[UIImage imageWithContentsOfFile:]</code>，这个方法会在每次调用时加载图像，但不会进行缓存。包括了处理加载后立即使用和释放掉的大图像，或者定制自己的缓存策略。</p></details><h4 id="❓malloc-的指针两次-free-产生的异常与访问-freed-指针有可能产生的异常有什么区别" tabindex="-1"><a class="header-anchor" href="#❓malloc-的指针两次-free-产生的异常与访问-freed-指针有可能产生的异常有什么区别" aria-hidden="true">#</a> ❓<code>malloc</code> 的指针两次 <code>free</code> 产生的异常与访问 <code>freed</code> 指针有可能产生的异常有什么区别</h4><details class="hint-container details"><summary>💡</summary><ul><li><p><code>double free</code>：如果尝试多次释放同一个指针，会导致未定义的行为。</p><blockquote><p>操作系统的内存管理器通常会对分配和释放的内存块进行跟踪，并在一个内存块被释放后把它标记为可重用的状态。当第二次尝试释放这个内存块时，内存管理器可能会认为这是一个错误，因为它没有记录说这块内存被分配过。这可能会导致程序崩溃，或者产生其他不可预测的效果。</p></blockquote></li><li><p><code>dangling pointer</code>：悬空指针。</p><blockquote><p>当使用<code>malloc</code>分配一块内存后，会得到一个指向这块内存的指针。当用<code>free</code>释放这块内存后，这个指针就变成了<code>dangling</code>（悬空）状态，也就是说它已经不再指向一个有效的内存块了。尽管这个指针的值没有改变，但是如果再次使用这个指针，例如读取或写入它指向的内存，就会出现未定义的行为，可能会导致程序崩溃、数据损坏或者其他不可预测的效果。</p></blockquote></li></ul></details><blockquote><p>❓为什么访问 <code>freed</code> 指针不一定产生异常</p></blockquote><details class="hint-container details"><summary>💡</summary><p>在<code>C</code>语言中，当使用 <code>free</code> 函数释放一块内存后，该内存区域并没有被立即销毁或更改，在内存管理的视角下，它只是被标记为了“可用”状态。因此，如果马上访问一个 <code>freed</code> 的指针，可能能够读取到原来的数据，程序不会立即产生运行时错误。</p><p>但这并不表示这样做是安全的或正确的。因为一旦内存被释放，系统就可能在任何时刻把这块内存重新分配给其他代码使用。如果在那之后试图通过原来的指针访问内存，可能访问到的是别的代码刚刚写入的数据，或者令程序崩溃的无效内存地址。更糟糕的是，这样做可能会导致一些难以调试和预料的问题，比如数据损毁和随机的程序行为。</p><p>因此，尽管访问已经释放的指针不一定能导致程序立即崩溃，但应该始终避免这样做，并确保在释放内存后不再使用任何指向那块内存的指针。一种常用的做法是在 <code>free</code> 一个指针后，立即把这个指针设置为 <code>NULL</code>。这样做可以避免无意间多次释放同一块内存，或者使用悬垂指针。</p></details><h3 id="weak" tabindex="-1"><a class="header-anchor" href="#weak" aria-hidden="true">#</a> weak</h3><h4 id="❓weak-修饰的对象在被释放的时候会发生什么" tabindex="-1"><a class="header-anchor" href="#❓weak-修饰的对象在被释放的时候会发生什么" aria-hidden="true">#</a> ❓<code>weak</code> 修饰的对象在被释放的时候会发生什么</h4><details class="hint-container details"><summary>💡</summary><p>用 <code>weak</code> 关键字修饰的对象被称为弱引用。弱引用不会增加对象的引用计数。当被 <code>weak</code> 修饰的对象被释放后，引用该对象的变量会自动被置为 <code>nil</code>。</p><p>总结：<code>weak</code> 修饰的对象在被释放的时候，相关引用会自动降级为 <code>nil</code>，以防止野指针（<code>dangling pointer</code>）的出现，从而避免了潜在的内存访问错误。</p></details><h4 id="❓weak-是怎么实现的-有没有性能问题" tabindex="-1"><a class="header-anchor" href="#❓weak-是怎么实现的-有没有性能问题" aria-hidden="true">#</a> ❓<code>weak</code> 是怎么实现的，有没有性能问题</h4><details class="hint-container details"><summary>💡</summary><blockquote><p><code>weak</code> 是 <code>Objective-C</code> 和 <code>Swift</code> 中提供的一个用来防止循环引用的关键字。当声明一个对象为 <code>weak</code>，系统会自动将其引用计数置为 0，并且当这个对象被回收的时候，所有指向它的 <code>weak</code> 指针都会被自动置为 <code>nil</code>。</p></blockquote><ul><li><p>底层实现：是在运行时通过一种叫做 “弱引用表” 的东西来维护的。</p><blockquote><p>这个弱引用表以哈希表的方式组织，将被 <code>weak</code> 关键字修饰的对象的地址作为键，所有指向它的 <code>weak</code> 指针组成的数组作为值。当一个被 <code>weak</code> 修饰的对象即将被回收的时候，运行时系统会查找弱引用表，找到所有指向它的 <code>weak</code> 指针，并将这些 <code>weak</code> 指针都置为 <code>nil</code>。</p></blockquote></li><li><p>性能问题：由于弱引用表是以哈希表组织的，所以在查找和插入操作上效率是比较高的，一般情况下可以认为是常数时间复杂度。并且弱引用表处于运行时系统内部，一般不会对应用造成明显的性能影响。</p><blockquote><p>相比直接访问一个强引用，访问一个 <code>weak</code> 引用会有一些性能开销，因为系统需要查找弱引用表，确认这个引用是否已经被置为 <code>nil</code>。因此，在设计数据结构时，应权衡使用 <code>weak</code> 的必要性和性能的要求。</p></blockquote></li></ul></details><h4 id="❓swift-中-weak-和-unowned-的区别" tabindex="-1"><a class="header-anchor" href="#❓swift-中-weak-和-unowned-的区别" aria-hidden="true">#</a> ❓<code>Swift</code> 中 <code>weak</code> 和 <code>unowned</code> 的区别</h4><details class="hint-container details"><summary>💡</summary><p><code>weak</code> 和 <code>unowned</code> 都被用作防止引用计数的循环引用。</p><ul><li><p><code>weak</code>：“弱引用”，一个弱引用不会增加对象的引用计数。当尝试访问一个 <code>weak</code> 引用的对象时，如果该对象还存在，那么就可以访问它；如果对象已经被销毁了，那么得到的就是 <code>nil</code>。因此， <code>weak</code> 引用的变量一般总是被定义为可选类型。</p></li><li><p><code>unowned</code>：“无主引用”，一个无主引用也不会增加对象的引用计数。不过与 <code>weak</code> 不同，使用 <code>unowned</code> 时，需要确定引用的对象一定存在。也就是说，当尝试访问一个 <code>unowned</code> 引用的对象时，这个对象绝对不会是 <code>nil</code>。因此，<code>unowned</code> 引用的变量通常是非可选类型。如果试图访问一个 <code>unowned</code> 引用的对象，但是该对象已经被销毁，程序会发生运行时错误。</p></li></ul><p>总结：<code>weak</code> 用于可能会变为 <code>nil</code> 的情况，并且它会自动处理变为 <code>nil</code> 的情况；<code>unowned</code> 用于永远不会变为 <code>nil</code> 的情况，但是如果变为 <code>nil</code> 了就会发生运行时错误。</p></details><h4 id="❓iboutlet-连出来的视图属性为什么可以被设置成-weak" tabindex="-1"><a class="header-anchor" href="#❓iboutlet-连出来的视图属性为什么可以被设置成-weak" aria-hidden="true">#</a> ❓<code>IBOutlet</code> 连出来的视图属性为什么可以被设置成 <code>weak</code></h4><details class="hint-container details"><summary>💡</summary><p>当使用 <code>Storyboard</code> 或者 <code>Xib</code> 加载一个视图或者视图控制器的时候，运行时会将文件中的所有顶层对象(<code>File&#39;s Owner</code>)添加到一个特有的数组 <code>_topLevelObjectsToKeepAliveFromStoryboard</code> 中，这个数组的生命周期与文件的 <code>Owner</code> 相同。数组对这些对象进行了强引用，所以这个时候无论如何声明 <code>IBOutlet</code> 属性( <code>weak</code> 还是 <code>strong</code>) ，这些对象都不会被释放。</p><p>可以将 <code>IBOutlet</code> 属性声明为 <code>weak</code>，因为这些内部视图对象被父视图进行了强引用。虽然 <code>_topLevelObjectsToKeepAliveFromStoryboard</code> 引用了它们，但在视图控制器被销毁时，这个数组也会被销毁，所以并不会影响到内部视图对象的释放。</p></details><hr><h2 id="自动释放池" tabindex="-1"><a class="header-anchor" href="#自动释放池" aria-hidden="true">#</a> 自动释放池</h2><h3 id="autorelease" tabindex="-1"><a class="header-anchor" href="#autorelease" aria-hidden="true">#</a> autorelease</h3><h4 id="❓说说你对-autorelease-的理解" tabindex="-1"><a class="header-anchor" href="#❓说说你对-autorelease-的理解" aria-hidden="true">#</a> ❓说说你对 <code>autorelease</code> 的理解</h4><details class="hint-container details"><summary>💡</summary><ul><li><p>当不能立即释放一个对象，而又需要减少该对象的引用计数时，通常会使用 <code>autorelease</code>。</p><blockquote><p>例如，在一个函数内部，创建了一个对象并返回，那么就不能直接使用 <code>release</code> 来释放这个对象，因为释放后调用者将得不到这个对象。于是，使用 <code>autorelease</code> 来表明这个对象暂时无法释放，但是在未来某个时间点，这个对象需要被释放。</p></blockquote></li><li><p>当面临一个循环创建并且释放大量临时对象的情况，也可以使用一个新的 <code>autorelease pool</code> 来对这个过程进行优化。</p><blockquote><p>例如，在循环中，每次都会创建一个新的临时对象，并且在循环结束后，这个对象就没有作用了。如果在每次循环结束后都调用 <code>release</code> 来释放这个临时对象，那么将会有大量的 <code>CPU</code> 时间被用于处理这个过程。为了对这个过程进行优化，可以创建一个新的 <code>autorelease pool</code>，并使这个循环在这个 <code>autorelease pool</code> 内部进行。这样，在循环结束后，只需要一次性地释放这个 <code>autorelease pool</code>，那么这个 <code>autorelease pool</code> 中的所有临时对象都将被一次性地释放，从而极大地提升了程序的性能。</p></blockquote></li></ul><p>注意：在<code>ARC</code>（Automatic Reference Counting）下，不再需要手动调用 <code>autorelease</code>，编译器会在适当的地方自动插入。</p></details><h4 id="❓一个局部变量是什么时候释放的-autorelease-什么时候释放" tabindex="-1"><a class="header-anchor" href="#❓一个局部变量是什么时候释放的-autorelease-什么时候释放" aria-hidden="true">#</a> ❓一个局部变量是什么时候释放的，<code>autorelease</code> 什么时候释放</h4><details class="hint-container details"><summary>💡</summary><ul><li><p>局部变量在其作用域（一般来说就是包含该变量声明的代码块或方法）结束时会被释放。如果该局部变量是一个指向对象的指针，该指针所指向的对象的释放时机将根据引用计数规则和内存管理策略决定。</p></li><li><p>对于<code>autorelease</code>来说，当对象调用 <code>autorelease</code> 方法后，该对象会被放入到最近的 <code>autorelease pool</code> 中，并且引用计数不变。在执行到 <code>autoreleasepool</code> 的结束（也就是<code>@autoreleasepool</code> 后的大括号<code>}</code>处）时，自动释放池中的每个对象都会接收到 <code>release</code> 消息，从而使得对象的引用计数减一。当对象的引用计数变为 0 的时候，对象就会被系统销毁。</p></li></ul></details><h4 id="❓子线程中的-autorelease-变量什么时候释放" tabindex="-1"><a class="header-anchor" href="#❓子线程中的-autorelease-变量什么时候释放" aria-hidden="true">#</a> ❓子线程中的 <code>autorelease</code> 变量什么时候释放</h4><details class="hint-container details"><summary>💡</summary><ul><li><p>如果子线程运行的代码块或者函数在 <code>@autoreleasepool{}</code> 代码块中，那么所有的 <code>autorelease</code> 变量会在这个 <code>@autoreleasepool{}</code> 代码块结束的地方被释放。</p><div class="language-objc line-numbers-mode" data-ext="objc"><pre class="language-objc"><code><span class="token punctuation">[</span>NSThread detachNewThreadSelector<span class="token punctuation">:</span><span class="token keyword">@selector</span><span class="token punctuation">(</span>myThread<span class="token punctuation">)</span> toTarget<span class="token punctuation">:</span><span class="token keyword">self</span> withObject<span class="token punctuation">:</span>nil<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>myThread <span class="token punctuation">{</span>
    <span class="token operator">@</span>autoreleasepool <span class="token punctuation">{</span>
        NSString <span class="token operator">*</span>string <span class="token operator">=</span> <span class="token punctuation">[</span>NSString stringWithFormat<span class="token punctuation">:</span><span class="token string">@&quot;Hello, world&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;%@&quot;</span><span class="token punctuation">,</span> string<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>如果子线程的代码块或者函数中没有使用 <code>@autoreleasepool</code> 代码块。在这种情况下，<code>autorelease</code> 对象在子线程结束后被释放，而不是立即在 <code>autorelease</code> 调用后被释放。但是这有可能会导致内存峰值的提升，因为所有的 <code>autorelease</code> 对象会积累在内存中直到线程结束。</p><blockquote><p>注意：通常来讲，在子线程中创建对象时，应该手动创建一个 <code>@autoreleasepool</code> 代码块，以便及时地释放掉那些 <code>autorelease</code> 对象，避免内存的无谓增长。</p></blockquote></li></ul></details><h3 id="autoreleasepool" tabindex="-1"><a class="header-anchor" href="#autoreleasepool" aria-hidden="true">#</a> autoreleasepool</h3><h3 id="autoreleasepool-的底层实现" tabindex="-1"><a class="header-anchor" href="#autoreleasepool-的底层实现" aria-hidden="true">#</a> <code>autoreleasepool</code> 的底层实现</h3><details class="hint-container details"><summary>💡</summary><p>自动释放池，<code>NSAutoreleasePool</code> 类，<code>ARC</code> 之后简化为 <code>OC</code> 中的 <code>@autoreleasepool</code>，<code>swift</code> 中的 <code>autoreleasepool</code>。通俗一点理解，就是使用 <code>autorelease</code> 的对象，会临时存放在这个池子里面，等到所在的线程的 <code>RunLoop</code> 一次循环结束时，会进行引用计数的 -1 操作。</p><p><code>autoreleasepool</code> 实现使用的数据结构：<code>栈 + 双向链表</code>。底层实现类为 <code>AutoreleasePoolPage</code>，这个是自动释放池的一页，创建时会存储双向链表的一个节点，剩下的空间设计为一个数据栈，用于存放加入自动释放池中的数据。</p><ul><li><p>对象加入自动释放池时，会调用 <code>Push</code> 函数，这个函数会返回一个地址 (这个地址很重要，是释放时 <code>Pop</code> 函数的入参，标记释放时的终点)。当着一页数据放满时，会新建一页，连接链表，新数据会继续存放在新创建的 <code>AutoreleasePoolPage</code> 的数据栈中。</p></li><li><p>对象释放时，调用 <code>Pop</code> 函数，从栈顶开始释放对象，一直释放到 <code>Push</code> 函数标记的位置。如果释放完一页自动释放池中的全部对象，则根据链表向后一直释放，直到标记位置。</p></li></ul><div class="language-objc line-numbers-mode" data-ext="objc"><pre class="language-objc"><code><span class="token keyword">void</span> <span class="token operator">*</span> <span class="token function">objc_autoreleasePoolPush</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> AutoreleasePoolPage<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">objc_autoreleasePoolPop</span><span class="token punctuation">(</span><span class="token keyword">void</span> <span class="token operator">*</span>context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    AutoreleasePoolPage<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">pop</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details><h4 id="❓不手动指定-autoreleasepool-一个-autorealese-对象在什么时刻释放" tabindex="-1"><a class="header-anchor" href="#❓不手动指定-autoreleasepool-一个-autorealese-对象在什么时刻释放" aria-hidden="true">#</a> ❓不手动指定 <code>autoreleasepool</code> 一个 <code>autorealese</code> 对象在什么时刻释放</h4><details class="hint-container details"><summary>💡</summary><p>即便不手动指定<code>autoreleasepool</code>，编译器也会在适当的地方自动创建它 。</p><p>在主线程中，<code>RunLoop</code> 每次运行的时候，都会自动添加一个 <code>autoreleasepool</code>，<code>RunLoop</code> 运行一次即进入一次事件循环，在事件循环开始时创建一个新的 <code>autoreleasepool</code>，结束时释放当前 <code>autoreleasepool</code>。<code>autorelease</code> 对象会在此时被释放。</p><p>在子线程或者 <code>GCD</code> 中，如果没有手动创建 <code>autoreleasepool</code>，当线程结束或者任务执行结束退出时，自动生成的 <code>autoreleasepool</code> 会被释放，<code>autorelease</code> 对象会在此时被释放。需要注意的是，长时间运行的任务或者循环中如果创建了大量的 <code>autorelease</code> 对象，最好手动添加 <code>autoreleasepool</code>，防止内存飙升。</p><p>总结：在没有手动创建 <code>autoreleasepool</code> 的情况下，<code>autorelease</code> 对象的释放时机是由所处的线程和任务决定的。在主线程中与一个 <code>RunLoop</code> 周期（事件循环）相关；在非主线程中与线程或者任务的声明周期相关。</p></details><h4 id="❓手动创建的-autoreleasepool-一个-autorealese-对象在什么时刻释放" tabindex="-1"><a class="header-anchor" href="#❓手动创建的-autoreleasepool-一个-autorealese-对象在什么时刻释放" aria-hidden="true">#</a> ❓手动创建的 <code>autoreleasepool</code> 一个 <code>autorealese</code> 对象在什么时刻释放</h4><details class="hint-container details"><summary>💡</summary><p>手动创建的<code>autoreleasepool</code>，在该自动释放池结束的地方(<code>}</code>)，<code>autorelease</code>对象会被释放。</p><div class="language-objc line-numbers-mode" data-ext="objc"><pre class="language-objc"><code><span class="token operator">@</span>autoreleasepool <span class="token punctuation">{</span>
    MyClass <span class="token operator">*</span>myObject <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>MyClass alloc<span class="token punctuation">]</span> init<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>myObject</code>会在 <code>autoreleasepool</code> 的“结束位置”（即<code>}</code>处）收到一次 <code>release</code> 消息，此时它的引用计数会减1，如果它的引用计数变成 0，那么它将被立即释放。</p></details><h4 id="❓子线程中需要加-autoreleasepool-吗" tabindex="-1"><a class="header-anchor" href="#❓子线程中需要加-autoreleasepool-吗" aria-hidden="true">#</a> ❓子线程中需要加 <code>autoreleasepool</code> 吗</h4><details class="hint-container details"><summary>💡</summary><ul><li><p>在主线程中，已经默认添加了一个自动释放池，因此大部分情况下，不需要手动添加<code>autoreleasepool</code>。每当 <code>RunLoop</code> 的一个循环迭代结束时，系统会自动释放该池中的所有对象。</p></li><li><p>在子线程中，情况就不同了。因为子线程默认是不会开启 <code>RunLoop</code> 的，所以系统也不会在子线程中添加自动释放池，如果在子线程中创建了大量的 <code>autorelease</code> 对象，那么这些对象将不会被释放，这会导致内存泄露和内存暴涨的问题。所以，在子线程中，如果需要创建 <code>autorelease</code> 对象，就应该添加一个 <code>autoreleasepool</code>。</p><div class="language-objc line-numbers-mode" data-ext="objc"><pre class="language-objc"><code><span class="token punctuation">[</span>NSThread detachNewThreadSelector<span class="token punctuation">:</span><span class="token keyword">@selector</span><span class="token punctuation">(</span>doSomething<span class="token punctuation">)</span> toTarget<span class="token punctuation">:</span><span class="token keyword">self</span> withObject<span class="token punctuation">:</span>nil<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>doSomething <span class="token punctuation">{</span>
    <span class="token comment">// 在子线程中创建一个自动释放池</span>
    <span class="token operator">@</span>autoreleasepool <span class="token punctuation">{</span>
        <span class="token comment">// 在这里创建autorelease对象</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul></details><h4 id="❓什么情况下需要手动创建-autoreleasepool" tabindex="-1"><a class="header-anchor" href="#❓什么情况下需要手动创建-autoreleasepool" aria-hidden="true">#</a> ❓什么情况下需要手动创建 <code>autoreleasepool</code></h4><details class="hint-container details"><summary>💡</summary><ul><li><p>大量的对象在短时间内被创建和销毁，且会占用大量内存。在这种情况下，及时地回收内存非常重要。</p><blockquote><p>由于 <code>ARC</code>（自动引用计数）机制在一次 <code>RunLoop</code> 循环结束后才进行垃圾回收，所以如果不使用 <code>autoreleasepool</code>，那么在一次 <code>RunLoop</code> 循环期间创建的所有对象都不会被立刻释放，这可能会导致内存峰值的显著增加。使用 <code>autoreleasepool</code> 可以在代码块结束时立即释放这些对象，从而有效地降低内存峰值。</p></blockquote><div class="language-swift line-numbers-mode" data-ext="swift"><pre class="language-swift"><code><span class="token keyword">for</span> <span class="token omit keyword">_</span> <span class="token keyword">in</span> <span class="token number">1</span><span class="token operator">...</span><span class="token number">1000000</span> <span class="token punctuation">{</span>
    autoreleasepool <span class="token punctuation">{</span>
        <span class="token comment">// 这里面的代码在每次 loop 结束时，会自动释放掉使用了 autorelease 的所有对象</span>
        <span class="token keyword">let</span> image <span class="token operator">=</span> <span class="token class-name">UIImage</span><span class="token punctuation">(</span>named<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;huge_image.png&quot;</span></span><span class="token punctuation">)</span>
        <span class="token function">print</span><span class="token punctuation">(</span>image<span class="token operator">?</span><span class="token punctuation">.</span>size <span class="token operator">??</span> <span class="token string-literal"><span class="token string">&quot;No image found&quot;</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>在子线程或者自定义的线程中运行的代码。默认情况下，只有主线程的 <code>RunLoop</code> 会自动创建 <code>autoreleasepool</code>，其他的线程需要我们手动创建。</li></ul></li></ul></details><h3 id="实际应用" tabindex="-1"><a class="header-anchor" href="#实际应用" aria-hidden="true">#</a> 实际应用</h3><h4 id="❓-autoreleasepool-nsstring-s-和-nsstring-s-有什么区别" tabindex="-1"><a class="header-anchor" href="#❓-autoreleasepool-nsstring-s-和-nsstring-s-有什么区别" aria-hidden="true">#</a> ❓<code>@autoreleasepool { NSString *s; }</code> 和 <code>NSString *s;</code> 有什么区别</h4><details class="hint-container details"><summary>💡</summary><ul><li><p><code>@autoreleasepool</code> 关键字用于创建一个自动释放池，将一个或多个对象放入其内，当代码执行到自动释放池的大括号 <code>}</code> 结束时，池内所有的对象就会被立即释放。</p><div class="language-objc line-numbers-mode" data-ext="objc"><pre class="language-objc"><code><span class="token operator">@</span>autoreleasepool <span class="token punctuation">{</span>
  <span class="token comment">// s 生命周期只在这个 @autoreleasepoo` 中。当执行完 NSLog 之后，自动释放池结束，s 就被释放了。</span>
  NSString <span class="token operator">*</span>s <span class="token operator">=</span> <span class="token string">@&quot;Hello World!&quot;</span><span class="token punctuation">;</span>
  <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;%@&quot;</span><span class="token punctuation">,</span> s<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><code>s</code> 的生命周期将会长到整个事件循环结束，也就是 <code>Runloop</code> 结束后才会释放，相比于 <code>@autoreleasepool</code> ，内存回收的时间就相对较晚。</p><div class="language-objc line-numbers-mode" data-ext="objc"><pre class="language-objc"><code>NSString <span class="token operator">*</span>s <span class="token operator">=</span> <span class="token string">@&quot;Hello World!&quot;</span><span class="token punctuation">;</span>
<span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;%@&quot;</span><span class="token punctuation">,</span> s<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><p>总结：使用 <code>@autoreleasepool</code>，你能更及时地回收内存，减少应用的内存占用。尤其是在一个循环内创建大量临时对象的时候，使用自动释放池可以有效地降低内存峰值。</p></details><h4 id="❓以下代码存在什么问题" tabindex="-1"><a class="header-anchor" href="#❓以下代码存在什么问题" aria-hidden="true">#</a> ❓以下代码存在什么问题</h4><div class="language-objc line-numbers-mode" data-ext="objc"><pre class="language-objc"><code><span class="token operator">@</span>autoreleasepool <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> INT_MAX<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        Test <span class="token operator">*</span>test <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>Test alloc<span class="token punctuation">]</span> init<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><details class="hint-container details"><summary>💡</summary><p>申请对象时，在 <code>ARC</code> 编译期间，会添加 <code>autorelease</code>，将申请的对象加入到自动释放池中。如果在一个自动释放池申请大量对象，那么对象的释放都需要等到这个这个自动释放所在的 <code>RunLoop</code> 休眠或结束时才能释放，申请大量对象时会造成内存泄漏。这种情况下，需要将 <code>@autoreleasepool</code> 加入到 <code>for</code> 循环里面。</p><div class="language-objc line-numbers-mode" data-ext="objc"><pre class="language-objc"><code><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> INT_MAX<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token operator">@</span>autoreleasepool <span class="token punctuation">{</span>
      Test <span class="token operator">*</span>test <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>Test alloc<span class="token punctuation">]</span> init<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details><blockquote><p>❓^ 如果将 <code>for</code> 循环改为 <code>enumerateObjectsUsingBlock</code> 会不会有问题</p></blockquote><details class="hint-container details"><summary>💡</summary><p>不会有问题，这是因为枚举器方法实现时，已经将 <code>block</code> 嵌套在 <code>@autoreleasepool</code> 中。</p></details><h3 id="底层原理" tabindex="-1"><a class="header-anchor" href="#底层原理" aria-hidden="true">#</a> 底层原理</h3><h4 id="❓autoreleasepool-的底层实现" tabindex="-1"><a class="header-anchor" href="#❓autoreleasepool-的底层实现" aria-hidden="true">#</a> ❓<code>autoreleasepool</code> 的底层实现</h4><details class="hint-container details"><summary>💡</summary><p>底层实现：是一个 <code>C++</code> 的类 <code>AutoreleasePoolPage</code>，负责管理对象的 <code>Autorelease</code> 操作。</p><ul><li><p>当第一次使用 <code>autorelease</code> 函数的时候，会调用 <code>AutoreleasePoolPage</code> 的 <code>push()</code> 方法，它在当前线程上创建一个新的 <code>AutoreleasePoolPage</code> 对象，作为管理 <code>autorelease</code> 的容器，并将当前的 <code>autorelease</code> 对象添加进去。</p></li><li><p><code>AutoreleasePoolPage</code> 维护了一个指针 <code>next</code>，该指针指向下一个需要处理的 <code>autorelease</code> 对象。在使用 <code>autorelease</code> 的时候，会将当前对象添加到 <code>next</code> 所指向的位置，并将 <code>next</code> 后移。</p></li><li><p>这个 <code>AutoreleasePoolPage</code> 容器操作起来像一个栈，<code>autorelease</code> 的对象会被紧凑地压入栈顶（即 <code>next</code> 指针的位置）。<code>@autoreleasepool{}</code> 的 <code>{</code> 和 <code>}</code> 分别对应栈的 <code>push</code> 和 <code>pop</code> 操作。</p></li><li><p>当运行到 <code>@autoreleasepool{}</code> 的 <code>}</code> 时，会调用 <code>pop()</code> 方法，将栈顶到当前 <code>AutoreleasePoolPage</code> 中 “水位线”（记住哪些对象是在这个自动释放池创建的）之间的所有对象发送 <code>release</code> 消息，这样这些对象就会被释放掉。</p></li><li><p><code>AutoreleasePoolPage</code> 容器是以双向链表形式组织起来的，因此可以通过指针很快找到前一个和后一个 <code>AutoreleasePoolPage</code>。</p></li><li><p>如果线程结束，那么会调用清理函数 <code>AutoreleasePoolPage::cleanup()</code> 释放所有页以及其中的对象。</p></li></ul></details><h4 id="❓runloop-与-autoreleasepool-的关系" tabindex="-1"><a class="header-anchor" href="#❓runloop-与-autoreleasepool-的关系" aria-hidden="true">#</a> ❓<code>Runloop</code> 与 <code>autoreleasepool</code> 的关系</h4><details class="hint-container details"><summary>💡</summary><ul><li><p><code>RunLoop</code> 在 <code>iOS</code> 应用中主要负责的是调度和管理系统的事件处理，包括输入事件、绘图事件、计时器事件等。<code>RunLoop</code> 在每次处理事件的循环迭代中，都会配合 <code>autoreleasepool</code> 来管理那些在这个循环迭代中创建的 <code>autorelease</code> 对象。</p></li><li><p><code>autoreleasepool</code> 则是用来自动管理那些 <code>autorelease</code> 对象的内存的。当代码中创建一个 <code>autorelease</code> 对象时，这个对象会被添加到当前的 <code>autoreleasepool</code> 中。当 <code>RunLoop</code> 的一个事件循环迭代结束时，对应的 <code>autoreleasepool</code> 也就会被销毁，<code>autoreleasepool</code> 在销毁的同时，会向其中的所有 <code>autorelease</code> 对象发送一次 <code>release</code> 消息，这样，那些 <code>autorelease</code> 对象就有机会被正确地释放掉。</p></li></ul><p>总结：<code>RunLoop</code> 和 <code>autoreleasepool</code> 一起工作，保证了应用能够高效稳定地运行，并且能够正确地管理内存。<code>RunLoop</code> 负责调度事件处理，而 <code>autoreleasepool</code> 负责管理 <code>autorelease</code> 对象的生命周期，二者相辅相成。</p></details><hr><h2 id="内存分析" tabindex="-1"><a class="header-anchor" href="#内存分析" aria-hidden="true">#</a> 内存分析</h2><h3 id="bad-access" tabindex="-1"><a class="header-anchor" href="#bad-access" aria-hidden="true">#</a> BAD_ACCESS</h3><h4 id="❓如何检测野指针" tabindex="-1"><a class="header-anchor" href="#❓如何检测野指针" aria-hidden="true">#</a> ❓如何检测野指针</h4><details class="hint-container details"><summary>💡</summary><blockquote><p>“野指针”：指向已经释放的内存的指针</p></blockquote><p>在 <code>iOS</code> 开发中 。在 <code>Objective-C</code> 开发中如果访问了一个野指针可能会直接导致程序崩溃，而在 <code>Swift</code> 中则会引发运行时错误。</p><p>检测方法：</p><ul><li><p>使用 <code>Xcode</code> 的 <code>Address Sanitizer</code> 功能：<code>Address Sanitizer</code> 是一款用于检测内存错误的工具，包括使用已经释放的内存、访问不属于当前 <code>app</code> 的内存等。</p><blockquote><p>在 <code>Xcode</code> 的 <code>Scheme</code> 设置中，勾选上 <code>Address Sanitizer</code>，即可启用此功能。当出现野指针相关错误时，<code>Xcode</code> 会停止运行并高亮显示出问题的代码。</p></blockquote></li><li><p>使用 <code>Xcode</code> 的 <code>Zombies</code> 工具。</p><blockquote><p>在 <code>Xcode</code> 的运行设置（<code>Scheme</code>）中，可以开启 <code>Enable Zombie Objects</code> 选项。开启后，对象在释放后并不会立刻回收，而是转变为一个僵尸对象。如果试图访问一个已经被释放的对象，<code>Xcode</code> 会给出警告。</p></blockquote></li><li><p>使用 <code>Instruments</code> 工具。</p><blockquote><p><code>Instruments</code> 工具中的 <code>Zombies</code> 模板也可以检测野指针问题。当应用试图访问一个已经被释放的对象时，<code>Instruments</code> 会定位并标记出这个问题。</p></blockquote></li></ul></details><h4 id="❓bad-access-在什么情况下出现" tabindex="-1"><a class="header-anchor" href="#❓bad-access-在什么情况下出现" aria-hidden="true">#</a> ❓<code>BAD_ACCESS</code> 在什么情况下出现</h4><details class="hint-container details"><summary>💡</summary><ul><li><p>访问野指针（已经被废弃或者没有被初始化的指针）。这种情况通常因为试图在对象已经被释放之后继续操作该对象，比如调用对象的方法或者访问对象的成员变量等。</p></li><li><p>访问了越界的数组或者集合元素。如果一个数组或者集合的长度为 5，试图访问数组的第 6 个元素，这个时候就会出现<code>BAD_ACCESS</code>。</p></li><li><p>访问到其他进程的内存空间：每一个进程都会有自己的内存空间，如果程序试图访问到其他进程的内存空间，那么就会出现<code>BAD_ACCESS</code>错误。</p></li><li><p>访问被保护的内存区域，这里的保护是指内核防止程序操作的一种机制，被保护的内存区域包括：系统受保护代码存放的区域、只读存储区域、不属于该进程的区域、未经内核许可的区域等。</p></li><li><p>空指针异常，当一个指针变量声明后没有和某个堆上的内存空间进行连接，但却利用它所指向的空间存取数据时，也会出现<code>BAD_ACCESS</code>错误。</p></li><li><p>试图操作栈中超出函数作用范围的变量，比如访问栈中已经被销毁的局部变量等。</p></li><li><p>尝试在多线程环境中读写同一片内存区域，如果没有正确地使用锁来保护，可能会造成数据不一致甚至崩溃。</p></li></ul></details><h4 id="❓如何调试-bad-access-错误" tabindex="-1"><a class="header-anchor" href="#❓如何调试-bad-access-错误" aria-hidden="true">#</a> ❓如何调试 <code>BAD_ACCESS</code> 错误</h4><details class="hint-container details"><summary>💡</summary><p><code>BAD_ACCESS</code>错误通常表示您试图访问已被释放的内存或您无权访问的内存。以下是在iOS开发中调试<code>BAD_ACCESS</code>错误的方法：</p><ul><li><p>打开 <code>Enable Zombies</code> 工具。</p><blockquote><p>在 <code>Scheme</code> 的运行设置中，可以找到 <code>Diagnostics</code>，在其中的 <code>Memory Management</code> 里勾选 <code>Enable Zombie Objects</code>。开启后，对象在被释放之后并不会被立刻回收，而是转化为僵尸对象。当试图访问一个已经被释放的对象时，<code>Xcode</code> 会给出警告。</p></blockquote></li><li><p>使用 <code>Address Sanitizer</code> 工具。</p><blockquote><p>在 <code>Scheme</code> 的运行设置中，有一个选项叫 <code>Memory Management</code>，开启<code>Address Sanitizer</code>。运行应用程序，当程序崩溃时，<code>Address Sanitizer</code> 会定位到哪一行代码尝试访问了已经被释放的内存。</p></blockquote></li><li><p>使用 <code>Instruments(Leaks &amp; Zombies)</code>。</p><blockquote><p>在 <code>Xcode</code> 界面选择 <code>Product-&gt;Profile</code> 开启 <code>Instruments</code>。选择 <code>Leaks</code> 模版，可以检测内存泄漏，<code>Zombies</code> 则用于检测野指针异常。</p></blockquote></li><li><p>使用系统提供的断言函数 <code>NSAssert()</code> 。</p><blockquote><p>断言在开发和测试阶段非常有用，可以在程序的关键位置进行检查确定一些必要条件是否满足。</p></blockquote></li><li><p>进行代码审查。</p><blockquote><p>代码进行手动或自动的检查，找出代码中可能出现 <code>BAD_ACCESS</code> 的地方，比如是否有对象在被释放之后还在使用，是否有可能的数组越界问题等。</p></blockquote></li></ul></details><h3 id="内存泄漏" tabindex="-1"><a class="header-anchor" href="#内存泄漏" aria-hidden="true">#</a> 内存泄漏</h3><h4 id="❓arc-下哪些情况会造成内存泄漏" tabindex="-1"><a class="header-anchor" href="#❓arc-下哪些情况会造成内存泄漏" aria-hidden="true">#</a> ❓<code>ARC</code> 下哪些情况会造成内存泄漏</h4><details class="hint-container details"><summary>💡</summary><ul><li><p>循环引用：当两个对象互相强引用时，会导致这两个对象都无法释放。这是 <code>ARC</code> 下最常见的内存泄漏情形。</p><ul><li>一个父对象强引用一个子对象，而这个子对象又强引用这个父对象，就形成了一个strong reference cycle。为了避免这种情况，我们通常会将其中一个引用设置为weak。</li><li>如果一个 <code>Block</code> 捕获了 <code>self</code>，并且这个 <code>Block</code> 被 <code>self</code> 强引用，那么也会形成强引用循环，导致内存泄漏。</li><li>委托（<code>delegate</code>）对象未设置为 <code>weak</code>。</li></ul></li><li><p><code>GCD</code> 或者 <code>NSTimer</code> 未正确使用：如果创建了一个循环引用的 <code>GCD</code> 队列，或者创建了一个 <code>repeats</code> 的 <code>NSTimer</code> 并且没有正确地在适当的时候停止和释放它，就可能会引起内存泄漏。</p></li><li><p><code>Core Foundation</code> 对象未正确桥接：<code>Core Foundation</code> 对象和 <code>Cocoa</code> 对象之间的内存管理是不同步的。如果你有一个 <code>Core Foundation</code> 对象，并且没有正确地将它桥接转化为 <code>Cocoa</code> 对象，那么当这个 <code>Core Foundation</code> 对象不再需要时，必须显式地调用 <code>CFRelease</code> 来释放它。</p></li></ul><p>调试时，可以使用 <code>Xcode</code> 的 <code>Memory Graph Debugger</code> 和 <code>Leaks</code> 工具来帮助找到内存泄漏的地方。</p></details><h4 id="❓内存泄漏可能会出现的几种原因" tabindex="-1"><a class="header-anchor" href="#❓内存泄漏可能会出现的几种原因" aria-hidden="true">#</a> ❓内存泄漏可能会出现的几种原因</h4><details class="hint-container details"><summary>💡</summary><ul><li><p>循环引用（Retain Cycle）：当两个对象相互持有对方的强引用时，就会形成一个引用循环，导致这两个对象无法被释放。</p><blockquote><p>如：在 <code>Block</code> 中强引用了 <code>self</code>，而 <code>self</code> 又持有了 <code>Block</code>。如果在这种情况不进行处理的话，这两个对象就都无法被正常释放。</p></blockquote></li><li><p>未释放的全局变量和静态变量：全局变量和静态变量在程序的整个运行周期内都不会被释放，如果这些全局或静态变量持有其他对象，而没有正确地将他们设置为 <code>nil</code>，它们也不会被释放，从而造成内存泄漏。</p></li><li><p>未手动释放 <code>malloc/new</code> 出来的内存：用 <code>malloc</code> 和 <code>new</code> 方法申请的内存空间，系统不会自动回收，需要手动去释放。</p></li><li><p>后台线程持续运行：后台线程虽然不可见，但是如果在执行长时间运行的、或者循环的任务，那么在完成任务之前占用的内存是无法被释放的。</p></li><li><p><code>Delegate</code> 和 <code>Notification</code> 未正确释放：<code>Delegate</code> 没有使用 <code>weak</code> 修饰或者在对象释放的时候未能正确地设置为 <code>nil</code>，<code>Notification</code> 在对象释放的时候未能正确地移除。</p></li><li><p><code>NSTimer</code> 或 <code>CADisplayLink</code> 对象未正确释放：计时器或链接对象如果没有正确地无效化和释放，那么他们所引用的目标对象也会被一直持有，而无法释放。</p></li></ul></details><blockquote><p>❓非 <code>OC</code> 对象如何处理</p></blockquote><details class="hint-container details"><summary>💡</summary><p>通常遵循 “谁分配，谁释放” 的原则。</p><ul><li><p><code>C</code> 函数如 <code>malloc、calloc、realloc</code> 等分配的内存，一般需要使用 <code>C</code> 函数 <code>free</code> 进行释放。</p></li><li><p><code>C++</code> 中，使用 <code>new</code> 创建的对象需要使用 <code>delete</code> 进行销毁，使用 <code>new[]</code> 创建的对象数组则使用 <code>delete[]</code> 销毁。</p></li><li><p><code>Core Foundation</code> 对象（这些对象没有加入到 <code>autoreleasepool</code>），那么需要调用相应的 <code>CFRelease</code> 函数来进行释放。</p></li><li><p><code>GCD</code> 的 <code>dispatch queue, dispatch source</code> 等，需要使用相应的 <code>dispatch_release</code> 函数进行释放。</p></li></ul></details><blockquote><p>❓如果常用框架出现内存泄漏如何处理</p></blockquote><details class="hint-container details"><summary>💡</summary><ul><li><p>验证是否真的存在内存泄漏：首先，确认下这个内存泄漏的情况是否是由于框架引起的，还是你的代码引起的，可以尝试在没有使用该框架的情况下运行相应的代码，看是否还会出现内存泄漏。</p></li><li><p>查阅框架的文档和示例：可能是使用的方式不对或没有按照正确的流程使用，导致了内存泄漏。所以，推荐查阅一下官方文档和示例代码，检查和对比自己的使用方式。</p></li><li><p>查找修复后的版本：如果框架本身存在内存泄漏，且是开源的，可以查找一下在 <code>Github</code> 或者其他开源社区的版本中，是否存在已经修复了这个问题的版本。</p></li><li><p>提交问题报告：如果框架是开源的，确定这是一个 <code>bug</code> 并且在最新的版本中仍未被修复，可以在该项目的 <code>Github</code> 仓库或者对应的问题跟踪系统中提交一个问题报告。</p></li><li><p>自己修复：如果具备足够的能力，并且框架是开源的，那么可以尝试自己修复这个问题，并提交 <code>Pull Request</code>，甚至可以发布一个新的版本。</p></li><li><p>寻找替代方案：如果该框架有严重的内存泄露问题，且没有及时的修复，那么最好的办法可能就是寻找一个替代的框架，或者自己实现相关的功能。</p></li></ul></details><h3 id="分析工具" tabindex="-1"><a class="header-anchor" href="#分析工具" aria-hidden="true">#</a> 分析工具</h3><h4 id="❓app-内存是如何分析的" tabindex="-1"><a class="header-anchor" href="#❓app-内存是如何分析的" aria-hidden="true">#</a> ❓app 内存是如何分析的</h4><details class="hint-container details"><summary>💡</summary><p>分析工具：</p><ul><li><p><code>Xcode</code> 的 <code>Instruments</code> 工具：<code>Instruments</code> 是 <code>Xcode</code> 内置的应用性能测试工具，它集成了多种测试模板，比如内存泄露、性能分析、能耗分析等。通过 <code>Allocations</code> 和 <code>Leaks</code> 模板，可以获取到应用的内存分配和泄露情况，例如分配的对象类型、对象数量、对象大小、引用关系等。</p></li><li><p><code>Xcode</code> 的 <code>Debug Memory Graph</code> 功能：在调试时，可以使用 <code>Xcode</code> 的 <code>Debug Memory Graph</code> 功能获取应用当前所有对象的内存占用情况，包括对象类型、内存地址、引用关系等。这对查找内存泄露和分析内存占用非常有帮助。</p></li><li><p>使用第三方库：比如 <code>Facebook</code> 的 <code>FBRetainCycleDetector</code>，可以自动检测应用中的循环引用情况。</p></li></ul><p>原因分析：</p><ul><li>内存泄露：对象没有被正确地释放，导致内存泄露。</li><li>内存暴涨：经常创建大量临时对象，或者同时创建了大量大对象，这可能会导致内存暴涨。</li><li>内存持续上升：长时间使用应用，内存占用稳步上升，说明可能存在未被释放的内存。</li><li>内存布局：包括代码段、数据段、堆、栈以及静态全局变量。</li></ul></details><h4 id="❓leak-工具使用" tabindex="-1"><a class="header-anchor" href="#❓leak-工具使用" aria-hidden="true">#</a> ❓<code>leak</code> 工具使用</h4><details class="hint-container details"><summary>💡</summary><blockquote><p><code>Leak</code>是一个命令行工具，用于检测 <code>iOS</code> 或 <code>macOS</code> 应用程序中的内存泄漏问题。可以检测应用中哪些内存被分配了出去，但是没有被释放。</p></blockquote><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>leaks <span class="token punctuation">[</span>options<span class="token punctuation">]</span> process_id
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>其中，<code>process_id</code> 是你应用程序的进程ID。</p><p><code>leaks</code> 各选项含义：</p><ul><li><code>-nocontext</code>: 不打印泄漏数据</li><li><code>-noptr</code>: 在泄漏报告中，不打印指向泄漏数据的指针</li><li><code>-traceTree</code>: 打印所有内存泄漏的根源</li><li><code>-outputGraph</code>: 创建一个图形显示内存泄漏</li><li><code>-exclude</code>: 排除特定模块的泄漏报告</li></ul></details><h4 id="❓ios-日常如何检查内存泄漏" tabindex="-1"><a class="header-anchor" href="#❓ios-日常如何检查内存泄漏" aria-hidden="true">#</a> ❓<code>iOS</code> 日常如何检查内存泄漏</h4><details class="hint-container details"><summary>💡</summary><ul><li><p>使用 <code>Xcode</code> 的 <code>Memory Graph</code> 功能。</p><blockquote><p>在 <code>App</code> 运行时，点击 <code>Xcode Debug Area</code> 的 <code>Debug Memory Graph</code> 按钮，它会显示 <code>App</code> 当前的内存对象图，便于追踪可能存在的内存泄露。</p></blockquote></li><li><p>使用 <code>Instruments</code> 工具。</p><blockquote><p><code>Xcode</code> 自带的 <code>Instruments</code> 工具中有一个 <code>Leaks</code> 工具，它能自动检测应用程序中的内存泄漏。只需要在 <code>Xcode</code> 中选择 <code>Product -&gt; Profile</code> 然后在弹出的窗口中选择 <code>Leaks</code>。</p></blockquote></li><li><p>代码审查。</p><blockquote><p>在编写代码时，可以主动检查任何可能引发内存泄露的模式，比如循环引用。在 <code>deinit</code> 方法中加入日志，如果在适当的时候 <code>deinit</code> 没有被调用，那么可能就存在内存泄漏。</p></blockquote></li><li><p>利用第三方库。</p><blockquote><p>一些优秀的第三方库如 <code>FBRetainCycleDetector</code>、<code>MLeaksFinder</code> 等可以发现循环引用导致的内存泄露。</p></blockquote></li><li><p>静态检查工具。</p><blockquote><p>比如 <code>SwiftLint</code> 可以检测可能的内存泄露。</p></blockquote></li></ul></details><h4 id="❓不使用-instruments-如何检测-memory-leak-zombie-object-等问题" tabindex="-1"><a class="header-anchor" href="#❓不使用-instruments-如何检测-memory-leak-zombie-object-等问题" aria-hidden="true">#</a> ❓不使用 <code>Instruments</code>，如何检测 <code>memory leak</code>, <code>zombie object</code> 等问题</h4><details class="hint-container details"><summary>💡</summary><ul><li><p>代码审查</p><ul><li><p>使用 <code>autoreleasepool</code> 来定位特定代码块中的内存泄漏。<code>autoreleasepool</code> 可以在某个特定范围内离散释放内存对象。</p><div class="language-swift line-numbers-mode" data-ext="swift"><pre class="language-swift"><code>autoreleasepool <span class="token punctuation">{</span>
    <span class="token comment">// 在这个代码块中，你的对象会在代码块结束的时候被释放</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>在 <code>deinit</code> 方法中打印日志。</p><blockquote><p>每一个类在析构的时候，都会调用 <code>deinit</code> 方法，如果 <code>deinit</code> 方法没有被调用，那么这个类的实例就可能存在内存泄露。</p></blockquote><div class="language-swift line-numbers-mode" data-ext="swift"><pre class="language-swift"><code><span class="token keyword">deinit</span> <span class="token punctuation">{</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;deinit called in </span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation"><span class="token keyword">self</span></span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul></li><li><p>使用第三方库，如 <code>LeakCanary for iOS</code>，<code>MLeaksFinder</code> 等等，他们能够在应用运行时自动检测内存泄漏，并提出可能的泄漏原因。</p></li><li><p>启用 <code>Xcode</code> 的 <code>Zombie Objects</code> 方式来检测，会将所有的释放的对象转换为特殊类型的僵尸对象，当访问一个已经释放的对象时，Xcode 就会发出警告。</p></li></ul></details></div><!--[--><!----><!--]--><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/naijoug/docs/edit/main/src/interview/ios/0x11.memory.md" rel="noopener noreferrer" target="_blank" aria-label="编辑此页" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->编辑此页<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="meta-item git-info"><div class="update-time"><span class="label">上次编辑于: </span><!----></div><div class="contributors"><span class="label">贡献者: </span><!--[--><!--[--><span class="contributor" title="email: naijoug@outlook.com">naijoug</span><!--]--><!--]--></div></div></footer><nav class="vp-page-nav"><a aria-label="多线程" class="vp-link nav-link prev nav-link prev" href="/docs/interview/ios/0x10.thread.html"><div class="hint"><span class="arrow start"></span>上一页</div><div class="link"><span class="font-icon icon fa-fw fa-sm fas fa-hashtag" style=""></span>多线程</div></a><a aria-label="编译器" class="vp-link nav-link next nav-link next" href="/docs/interview/ios/0x12.compiler.html"><div class="hint">下一页<span class="arrow end"></span></div><div class="link">编译器<span class="font-icon icon fa-fw fa-sm fas fa-hashtag" style=""></span></div></a></nav><div id="comment" class="giscus-wrapper input-top" style="display:block;"><div class="loading-icon-wrapper" style="display:flex;align-items:center;justify-content:center;height:96px"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" preserveAspectRatio="xMidYMid" viewBox="25 25 50 50"><animateTransform attributeName="transform" type="rotate" dur="2s" keyTimes="0;1" repeatCount="indefinite" values="0;360"></animateTransform><circle cx="50" cy="50" r="20" fill="none" stroke="currentColor" stroke-width="4" stroke-linecap="round"><animate attributeName="stroke-dasharray" dur="1.5s" keyTimes="0;0.5;1" repeatCount="indefinite" values="1,200;90,200;1,200"></animate><animate attributeName="stroke-dashoffset" dur="1.5s" keyTimes="0;0.5;1" repeatCount="indefinite" values="0;-35px;-125px"></animate></circle></svg></div></div><!--[--><!----><!--]--><!--]--></main><!--]--><footer class="vp-footer-wrapper"><!----><div class="vp-copyright">Copyright © 2024 naijoug</div></footer></div><!--]--><!--]--><!----><!--]--></div>
    <script type="module" src="/docs/assets/app-8_MKAT3Q.js" defer></script>
  </body>
</html>
